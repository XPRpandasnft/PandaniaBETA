/**
 * Proton Link v4.2.15
 * https://github.com/protonprotocol/proton-link
 *
 * @license
 * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 *  1. Redistribution of source code must retain the above copyright notice, this
 *     list of conditions and the following disclaimer.
 * 
 *  2. Redistribution in binary form must reproduce the above copyright notice,
 *     this list of conditions and the following disclaimer in the documentation
 *     and/or other materials provided with the distribution.
 * 
 *  3. Neither the name of the copyright holder nor the names of its contributors
 *     may be used to endorse or promote products derived from this software without
 *     specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
 * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
 * OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
 * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
 */
var ProtonLink=function(t){"use strict";
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function e(t){let e=t.length;for(;--e>=0;)t[e]=0}const r=256,i=286,n=30,a=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=new Array(576);e(c);const h=new Array(60);e(h)
;const u=new Array(512);e(u);const l=new Array(256);e(l);const p=new Array(29);e(p);const b=new Array(n);function m(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let y,g,v;function _(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(b);const w=t=>t<256?u[t]:u[256+(t>>>7)],M=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},A=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,
M(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},x=(t,e,r)=>{A(t,r[2*e],r[2*e+1])},S=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},k=(t,e,r)=>{const i=new Array(16);let n,s,o=0;for(n=1;n<=a;n++)i[n]=o=o+r[n-1]<<1;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=S(i[e]++,e))}},I=t=>{let e;for(e=0;e<i;e++)t.dyn_ltree[2*e]=0;for(e=0;e<n;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,
t.opt_len=t.static_len=0,t.last_lit=t.matches=0},E=t=>{t.bi_valid>8?M(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,r,i)=>{const n=2*e,a=2*r;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[r]},N=(t,e,r)=>{const i=t.heap[r];let n=r<<1;for(;n<=t.heap_len&&(n<t.heap_len&&z(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!z(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i},R=(t,e,i)=>{let n,a,d,f,c=0;if(0!==t.last_lit)do{
n=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],a=t.pending_buf[t.l_buf+c],c++,0===n?x(t,a,e):(d=l[a],x(t,d+r+1,e),f=s[d],0!==f&&(a-=p[d],A(t,a,f)),n--,d=w(n),x(t,d,i),f=o[d],0!==f&&(n-=b[d],A(t,n,f)))}while(c<t.last_lit);x(t,256,e)},P=(t,e)=>{const r=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,d,f,c=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<s;o++)0!==r[2*o]?(t.heap[++t.heap_len]=c=o,t.depth[o]=0):r[2*o+1]=0
;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=c<2?++c:0,r[2*f]=1,t.depth[f]=0,t.opt_len--,n&&(t.static_len-=i[2*f+1]);for(e.max_code=c,o=t.heap_len>>1;o>=1;o--)N(t,r,o);f=s;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],N(t,r,1),d=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=d,r[2*f]=r[2*o]+r[2*d],t.depth[f]=(t.depth[o]>=t.depth[d]?t.depth[o]:t.depth[d])+1,r[2*o+1]=r[2*d+1]=f,t.heap[1]=f++,N(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{
const r=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,f=e.stat_desc.max_length;let c,h,u,l,p,b,m=0;for(l=0;l<=a;l++)t.bl_count[l]=0;for(r[2*t.heap[t.heap_max]+1]=0,c=t.heap_max+1;c<573;c++)h=t.heap[c],l=r[2*r[2*h+1]+1]+1,l>f&&(l=f,m++),r[2*h+1]=l,h>i||(t.bl_count[l]++,p=0,h>=d&&(p=o[h-d]),b=r[2*h],t.opt_len+=b*(l+p),s&&(t.static_len+=b*(n[2*h+1]+p)));if(0!==m){do{for(l=f-1;0===t.bl_count[l];)l--;t.bl_count[l]--,
t.bl_count[l+1]+=2,t.bl_count[f]--,m-=2}while(m>0);for(l=f;0!==l;l--)for(h=t.bl_count[l];0!==h;)u=t.heap[--c],u>i||(r[2*u+1]!==l&&(t.opt_len+=(l-r[2*u+1])*r[2*u],r[2*u+1]=l),h--)}})(t,e),k(r,c,t.bl_count)},T=(t,e,r)=>{let i,n,a=-1,s=e[1],o=0,d=7,f=4;for(0===s&&(d=138,f=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=s,s=e[2*(i+1)+1],++o<d&&n===s||(o<f?t.bl_tree[2*n]+=o:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,a=n,0===s?(d=138,f=3):n===s?(d=6,f=3):(d=7,f=4))
},B=(t,e,r)=>{let i,n,a=-1,s=e[1],o=0,d=7,f=4;for(0===s&&(d=138,f=3),i=0;i<=r;i++)if(n=s,s=e[2*(i+1)+1],!(++o<d&&n===s)){if(o<f)do{x(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==a&&(x(t,n,t.bl_tree),o--),x(t,16,t.bl_tree),A(t,o-3,2)):o<=10?(x(t,17,t.bl_tree),A(t,o-3,3)):(x(t,18,t.bl_tree),A(t,o-11,7));o=0,a=n,0===s?(d=138,f=3):n===s?(d=6,f=3):(d=7,f=4)}};let O=!1;const q=(t,e,r,i)=>{A(t,0+(i?1:0),3),((t,e,r,i)=>{E(t),i&&(M(t,r),M(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),
t.pending+=r})(t,e,r,!0)};var U=t=>{O||((()=>{let t,e,r,f,_;const w=new Array(16);for(r=0,f=0;f<28;f++)for(p[f]=r,t=0;t<1<<s[f];t++)l[r++]=f;for(l[r-1]=f,_=0,f=0;f<16;f++)for(b[f]=_,t=0;t<1<<o[f];t++)u[_++]=f;for(_>>=7;f<n;f++)for(b[f]=_<<7,t=0;t<1<<o[f]-7;t++)u[256+_++]=f;for(e=0;e<=a;e++)w[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,w[8]++;for(;t<=255;)c[2*t+1]=9,t++,w[9]++;for(;t<=279;)c[2*t+1]=7,t++,w[7]++;for(;t<=287;)c[2*t+1]=8,t++,w[8]++;for(k(c,287,w),t=0;t<n;t++)h[2*t+1]=5,h[2*t]=S(t,5)
;y=new m(c,s,257,i,a),g=new m(h,o,0,n,a),v=new m(new Array(0),d,0,19,7)})(),O=!0),t.l_desc=new _(t.dyn_ltree,y),t.d_desc=new _(t.dyn_dtree,g),t.bl_desc=new _(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,I(t)},C=(t,e,i,n)=>{let a,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,i=4093624447;for(e=0;e<=31;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<r;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0
})(t)),P(t,t.l_desc),P(t,t.d_desc),o=(t=>{let e;for(T(t,t.dyn_ltree,t.l_desc.max_code),T(t,t.dyn_dtree,t.d_desc.max_code),P(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*f[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),a=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=a&&(a=s)):a=s=i+5,i+4<=a&&-1!==e?q(t,e,i,n):4===t.strategy||s===a?(A(t,2+(n?1:0),3),R(t,c,h)):(A(t,4+(n?1:0),3),((t,e,r,i)=>{let n;for(A(t,e-257,5),A(t,r-1,5),A(t,i-4,4),n=0;n<i;n++)A(t,t.bl_tree[2*f[n]+1],3);B(t,t.dyn_ltree,e-1),
B(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),R(t,t.dyn_ltree,t.dyn_dtree)),I(t),n&&E(t)},D=(t,e,i)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(l[i]+r+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1),j=t=>{A(t,2,3),x(t,256,c),(t=>{16===t.bi_valid?(M(t,t.bi_buf),t.bi_buf=0,
t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)},L={_tr_init:U,_tr_stored_block:q,_tr_flush_block:C,_tr_tally:D,_tr_align:j};var F=(t,e,r,i)=>{let n=65535&t|0,a=t>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{n=n+e[i++]|0,a=a+n|0}while(--s);n%=65521,a%=65521}return n|a<<16|0};const V=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var K=(t,e,r,i)=>{
const n=V,a=i+r;t^=-1;for(let r=i;r<a;r++)t=t>>>8^n[255&(t^e[r])];return-1^t},Z={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},W={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,
Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}
;const{_tr_init:$,_tr_stored_block:H,_tr_flush_block:J,_tr_tally:G,_tr_align:Y}=L,{Z_NO_FLUSH:X,Z_PARTIAL_FLUSH:Q,Z_FULL_FLUSH:tt,Z_FINISH:et,Z_BLOCK:rt,Z_OK:it,Z_STREAM_END:nt,Z_STREAM_ERROR:at,Z_DATA_ERROR:st,Z_BUF_ERROR:ot,Z_DEFAULT_COMPRESSION:dt,Z_FILTERED:ft,Z_HUFFMAN_ONLY:ct,Z_RLE:ht,Z_FIXED:ut,Z_DEFAULT_STRATEGY:lt,Z_UNKNOWN:pt,Z_DEFLATED:bt}=W,mt=258,yt=262,gt=103,vt=113,_t=666,wt=(t,e)=>(t.msg=Z[e],e),Mt=t=>(t<<1)-(t>4?9:0),At=t=>{let e=t.length;for(;--e>=0;)t[e]=0}
;let xt=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const St=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},kt=(t,e)=>{J(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,St(t.strm)},It=(t,e)=>{t.pending_buf[t.pending++]=e},Et=(t,e)=>{
t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},zt=(t,e,r,i)=>{let n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),r),1===t.state.wrap?t.adler=F(t.adler,e,n,r):2===t.state.wrap&&(t.adler=K(t.adler,e,n,r)),t.next_in+=n,t.total_in+=n,n)},Nt=(t,e)=>{let r,i,n=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match;const d=t.strstart>t.w_size-yt?t.strstart-(t.w_size-yt):0,f=t.window,c=t.w_mask,h=t.prev,u=t.strstart+mt
;let l=f[a+s-1],p=f[a+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(r=e,f[r+s]===p&&f[r+s-1]===l&&f[r]===f[a]&&f[++r]===f[a+1]){a+=2,r++;do{}while(f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&a<u);if(i=mt-(u-a),a=u-mt,i>s){if(t.match_start=e,s=i,i>=o)break;l=f[a+s-1],p=f[a+s]}}}while((e=h[e&c])>d&&0!=--n);return s<=t.lookahead?s:t.lookahead},Rt=t=>{const e=t.w_size
;let r,i,n,a,s;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-yt)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,i=t.hash_size,r=i;do{n=t.head[--r],t.head[r]=n>=e?n-e:0}while(--i);i=e,r=i;do{n=t.prev[--r],t.prev[r]=n>=e?n-e:0}while(--i);a+=e}if(0===t.strm.avail_in)break;if(i=zt(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=i,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],
t.ins_h=xt(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=xt(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<yt&&0!==t.strm.avail_in)},Pt=(t,e)=>{let r,i;for(;;){if(t.lookahead<yt){if(Rt(t),t.lookahead<yt&&e===X)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=xt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),
0!==r&&t.strstart-r<=t.w_size-yt&&(t.match_length=Nt(t,r)),t.match_length>=3)if(i=G(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=xt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],
t.ins_h=xt(t,t.ins_h,t.window[t.strstart+1]);else i=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(kt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===et?(kt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(kt(t,!1),0===t.strm.avail_out)?1:2},Tt=(t,e)=>{let r,i,n;for(;;){if(t.lookahead<yt){if(Rt(t),t.lookahead<yt&&e===X)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=xt(t,t.ins_h,t.window[t.strstart+3-1]),
r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-yt&&(t.match_length=Nt(t,r),t.match_length<=5&&(t.strategy===ft||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=G(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,
t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=xt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(kt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=G(t,0,t.window[t.strstart-1]),i&&kt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}
return t.match_available&&(i=G(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===et?(kt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(kt(t,!1),0===t.strm.avail_out)?1:2};function Bt(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}const Ot=[new Bt(0,0,0,0,((t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Rt(t),0===t.lookahead&&e===X)return 1;if(0===t.lookahead)break}
t.strstart+=t.lookahead,t.lookahead=0;const i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,kt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-yt&&(kt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===et?(kt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(kt(t,!1),t.strm.avail_out),1)
})),new Bt(4,4,8,4,Pt),new Bt(4,5,16,8,Pt),new Bt(4,6,32,32,Pt),new Bt(4,4,16,16,Tt),new Bt(8,16,32,32,Tt),new Bt(8,16,128,128,Tt),new Bt(8,32,128,256,Tt),new Bt(32,128,258,1024,Tt),new Bt(32,258,258,4096,Tt)];function qt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=bt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,
this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),At(this.dyn_ltree),
At(this.dyn_dtree),At(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),At(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),At(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ut=t=>{if(!t||!t.state)return wt(t,at);t.total_in=t.total_out=0,t.data_type=pt;const e=t.state
;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:vt,t.adler=2===e.wrap?0:1,e.last_flush=X,$(e),it},Ct=t=>{const e=Ut(t);return e===it&&(t=>{t.window_size=2*t.w_size,At(t.head),t.max_lazy_match=Ot[t.level].max_lazy,t.good_match=Ot[t.level].good_length,t.nice_match=Ot[t.level].nice_length,t.max_chain_length=Ot[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e
},Dt=(t,e,r,i,n,a)=>{if(!t)return at;let s=1;if(e===dt&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),n<1||n>9||r!==bt||i<8||i>15||e<0||e>9||a<0||a>ut)return wt(t,at);8===i&&(i=9);const o=new qt;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),
o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=a,o.method=r,Ct(t)};var jt=(t,e)=>{let r,i;if(!t||!t.state||e>rt||e<0)return t?wt(t,at):at;const n=t.state;if(!t.output||!t.input&&0!==t.avail_in||n.status===_t&&e!==et)return wt(t,0===t.avail_out?ot:at);n.strm=t;const a=n.last_flush;if(n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,It(n,31),It(n,139),It(n,8),
n.gzhead?(It(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),It(n,255&n.gzhead.time),It(n,n.gzhead.time>>8&255),It(n,n.gzhead.time>>16&255),It(n,n.gzhead.time>>24&255),It(n,9===n.level?2:n.strategy>=ct||n.level<2?4:0),It(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(It(n,255&n.gzhead.extra.length),It(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=K(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,
n.status=69):(It(n,0),It(n,0),It(n,0),It(n,0),It(n,0),It(n,9===n.level?2:n.strategy>=ct||n.level<2?4:0),It(n,3),n.status=vt);else{let e=bt+(n.w_bits-8<<4)<<8,r=-1;r=n.strategy>=ct||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,n.status=vt,Et(n,e),0!==n.strstart&&(Et(n,t.adler>>>16),Et(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){
for(r=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>r&&(t.adler=K(t.adler,n.pending_buf,n.pending-r,r)),St(t),r=n.pending,n.pending!==n.pending_buf_size));)It(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(t.adler=K(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){r=n.pending;do{
if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=K(t.adler,n.pending_buf,n.pending-r,r)),St(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,It(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=K(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){r=n.pending;do{
if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=K(t.adler,n.pending_buf,n.pending-r,r)),St(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,It(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=K(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.status=gt)}else n.status=gt;if(n.status===gt&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&St(t),
n.pending+2<=n.pending_buf_size&&(It(n,255&t.adler),It(n,t.adler>>8&255),t.adler=0,n.status=vt)):n.status=vt),0!==n.pending){if(St(t),0===t.avail_out)return n.last_flush=-1,it}else if(0===t.avail_in&&Mt(e)<=Mt(a)&&e!==et)return wt(t,ot);if(n.status===_t&&0!==t.avail_in)return wt(t,ot);if(0!==t.avail_in||0!==n.lookahead||e!==X&&n.status!==_t){let r=n.strategy===ct?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Rt(t),0===t.lookahead)){if(e===X)return 1;break}if(t.match_length=0,
r=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(kt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===et?(kt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(kt(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===ht?((t,e)=>{let r,i,n,a;const s=t.window;for(;;){if(t.lookahead<=mt){if(Rt(t),t.lookahead<=mt&&e===X)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,i=s[n],i===s[++n]&&i===s[++n]&&i===s[++n])){a=t.strstart+mt
;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<a);t.match_length=mt-(a-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=G(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(kt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===et?(kt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(kt(t,!1),
0===t.strm.avail_out)?1:2})(n,e):Ot[n.level].func(n,e);if(3!==r&&4!==r||(n.status=_t),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),it;if(2===r&&(e===Q?Y(n):e!==rt&&(H(n,0,0,!1),e===tt&&(At(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),St(t),0===t.avail_out))return n.last_flush=-1,it}return e!==et?it:n.wrap<=0?nt:(2===n.wrap?(It(n,255&t.adler),It(n,t.adler>>8&255),It(n,t.adler>>16&255),It(n,t.adler>>24&255),It(n,255&t.total_in),It(n,t.total_in>>8&255),
It(n,t.total_in>>16&255),It(n,t.total_in>>24&255)):(Et(n,t.adler>>>16),Et(n,65535&t.adler)),St(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?it:nt)},Lt=(t,e)=>{let r=e.length;if(!t||!t.state)return at;const i=t.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return at;if(1===n&&(t.adler=F(t.adler,e,r,0)),i.wrap=0,r>=i.w_size){0===n&&(At(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(r-i.w_size,r),0),e=t,r=i.w_size}
const a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Rt(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=xt(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,Rt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,i.wrap=n,it},Ft={
deflateInit:(t,e)=>Dt(t,e,bt,15,8,lt),deflateInit2:Dt,deflateReset:Ct,deflateResetKeep:Ut,deflateSetHeader:(t,e)=>t&&t.state?2!==t.state.wrap?at:(t.state.gzhead=e,it):at,deflate:jt,deflateEnd:t=>{if(!t||!t.state)return at;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==gt&&e!==vt&&e!==_t?wt(t,at):(t.state=null,e===vt?wt(t,st):it)},deflateSetDictionary:Lt,deflateInfo:"pako deflate (from Nodeca project)"};const Vt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)
;var Kt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)Vt(r,e)&&(t[e]=r[e])}}return t},Zt=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];r.set(n,i),i+=n.length}return r};let Wt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Wt=!1}const $t=new Uint8Array(256)
;for(let t=0;t<256;t++)$t[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;$t[254]=$t[254]=1;var Ht=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,i,n,a,s=t.length,o=0;for(n=0;n<s;n++)r=t.charCodeAt(n),55296==(64512&r)&&n+1<s&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),n++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,n=0;a<o;n++)r=t.charCodeAt(n),
55296==(64512&r)&&n+1<s&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},Jt=(t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,n;const a=new Array(2*r);for(n=0,
i=0;i<r;){let e=t[i++];if(e<128){a[n++]=e;continue}let s=$t[e];if(s>4)a[n++]=65533,i+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&i<r;)e=e<<6|63&t[i++],s--;s>1?a[n++]=65533:e<65536?a[n++]=e:(e-=65536,a[n++]=55296|e>>10&1023,a[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Wt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r})(a,n)},Gt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1
;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+$t[t[r]]>e?r:e};var Yt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Xt=Object.prototype.toString,{Z_NO_FLUSH:Qt,Z_SYNC_FLUSH:te,Z_FULL_FLUSH:ee,Z_FINISH:re,Z_OK:ie,Z_STREAM_END:ne,Z_DEFAULT_COMPRESSION:ae,Z_DEFAULT_STRATEGY:se,Z_DEFLATED:oe}=W;function de(t){this.options=Kt({
level:ae,method:oe,chunkSize:16384,windowBits:15,memLevel:8,strategy:se},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yt,this.strm.avail_out=0;let r=Ft.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==ie)throw new Error(Z[r]);if(e.header&&Ft.deflateSetHeader(this.strm,e.header),e.dictionary){let t
;if(t="string"==typeof e.dictionary?Ht(e.dictionary):"[object ArrayBuffer]"===Xt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Ft.deflateSetDictionary(this.strm,t),r!==ie)throw new Error(Z[r]);this._dict_set=!0}}function fe(t,e){const r=new de(e);if(r.push(t,!0),r.err)throw r.msg||Z[r.err];return r.result}de.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize;let n,a;if(this.ended)return!1;for(a=e===~~e?e:!0===e?re:Qt,
"string"==typeof t?r.input=Ht(t):"[object ArrayBuffer]"===Xt.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(a===te||a===ee)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(n=Ft.deflate(r,a),n===ne)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=Ft.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===ie;if(0!==r.avail_out){
if(a>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},de.prototype.onData=function(t){this.chunks.push(t)},de.prototype.onEnd=function(t){t===ie&&(this.result=Zt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ce={Deflate:de,deflate:fe,deflateRaw:function(t,e){return(e=e||{}).raw=!0,fe(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,fe(t,e)},constants:W};var he=function(t,e){
let r,i,n,a,s,o,d,f,c,h,u,l,p,b,m,y,g,v,_,w,M,A,x,S;const k=t.state;r=t.next_in,x=t.input,i=r+(t.avail_in-5),n=t.next_out,S=t.output,a=n-(e-t.avail_out),s=n+(t.avail_out-257),o=k.dmax,d=k.wsize,f=k.whave,c=k.wnext,h=k.window,u=k.hold,l=k.bits,p=k.lencode,b=k.distcode,m=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;t:do{l<15&&(u+=x[r++]<<l,l+=8,u+=x[r++]<<l,l+=8),g=p[u&m];e:for(;;){if(v=g>>>24,u>>>=v,l-=v,v=g>>>16&255,0===v)S[n++]=65535&g;else{if(!(16&v)){if(0==(64&v)){g=p[(65535&g)+(u&(1<<v)-1)]
;continue e}if(32&v){k.mode=12;break t}t.msg="invalid literal/length code",k.mode=30;break t}_=65535&g,v&=15,v&&(l<v&&(u+=x[r++]<<l,l+=8),_+=u&(1<<v)-1,u>>>=v,l-=v),l<15&&(u+=x[r++]<<l,l+=8,u+=x[r++]<<l,l+=8),g=b[u&y];r:for(;;){if(v=g>>>24,u>>>=v,l-=v,v=g>>>16&255,!(16&v)){if(0==(64&v)){g=b[(65535&g)+(u&(1<<v)-1)];continue r}t.msg="invalid distance code",k.mode=30;break t}if(w=65535&g,v&=15,l<v&&(u+=x[r++]<<l,l+=8,l<v&&(u+=x[r++]<<l,l+=8)),w+=u&(1<<v)-1,w>o){
t.msg="invalid distance too far back",k.mode=30;break t}if(u>>>=v,l-=v,v=n-a,w>v){if(v=w-v,v>f&&k.sane){t.msg="invalid distance too far back",k.mode=30;break t}if(M=0,A=h,0===c){if(M+=d-v,v<_){_-=v;do{S[n++]=h[M++]}while(--v);M=n-w,A=S}}else if(c<v){if(M+=d+c-v,v-=c,v<_){_-=v;do{S[n++]=h[M++]}while(--v);if(M=0,c<_){v=c,_-=v;do{S[n++]=h[M++]}while(--v);M=n-w,A=S}}}else if(M+=c-v,v<_){_-=v;do{S[n++]=h[M++]}while(--v);M=n-w,A=S}for(;_>2;)S[n++]=A[M++],S[n++]=A[M++],S[n++]=A[M++],_-=3
;_&&(S[n++]=A[M++],_>1&&(S[n++]=A[M++]))}else{M=n-w;do{S[n++]=S[M++],S[n++]=S[M++],S[n++]=S[M++],_-=3}while(_>2);_&&(S[n++]=S[M++],_>1&&(S[n++]=S[M++]))}break}}break}}while(r<i&&n<s);_=l>>3,r-=_,l-=_<<3,u&=(1<<l)-1,t.next_in=r,t.next_out=n,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=n<s?s-n+257:257-(n-s),k.hold=u,k.bits=l}
;const ue=15,le=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),be=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),me=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64])
;var ye=(t,e,r,i,n,a,s,o)=>{const d=o.bits;let f,c,h,u,l,p,b=0,m=0,y=0,g=0,v=0,_=0,w=0,M=0,A=0,x=0,S=null,k=0;const I=new Uint16Array(16),E=new Uint16Array(16);let z,N,R,P=null,T=0;for(b=0;b<=ue;b++)I[b]=0;for(m=0;m<i;m++)I[e[r+m]]++;for(v=d,g=ue;g>=1&&0===I[g];g--);if(v>g&&(v=g),0===g)return n[a++]=20971520,n[a++]=20971520,o.bits=1,0;for(y=1;y<g&&0===I[y];y++);for(v<y&&(v=y),M=1,b=1;b<=ue;b++)if(M<<=1,M-=I[b],M<0)return-1;if(M>0&&(0===t||1!==g))return-1;for(E[1]=0,b=1;b<ue;b++)E[b+1]=E[b]+I[b]
;for(m=0;m<i;m++)0!==e[r+m]&&(s[E[e[r+m]]++]=m);if(0===t?(S=P=s,p=19):1===t?(S=le,k-=257,P=pe,T-=257,p=256):(S=be,P=me,p=-1),x=0,m=0,b=y,l=a,_=v,w=0,h=-1,A=1<<v,u=A-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){z=b-w,s[m]<p?(N=0,R=s[m]):s[m]>p?(N=P[T+s[m]],R=S[k+s[m]]):(N=96,R=0),f=1<<b-w,c=1<<_,y=c;do{c-=f,n[l+(x>>w)+c]=z<<24|N<<16|R|0}while(0!==c);for(f=1<<b-1;x&f;)f>>=1;if(0!==f?(x&=f-1,x+=f):x=0,m++,0==--I[b]){if(b===g)break;b=e[r+s[m]]}if(b>v&&(x&u)!==h){for(0===w&&(w=v),l+=y,_=b-w,
M=1<<_;_+w<g&&(M-=I[_+w],!(M<=0));)_++,M<<=1;if(A+=1<<_,1===t&&A>852||2===t&&A>592)return 1;h=x&u,n[h]=v<<24|_<<16|l-a|0}}return 0!==x&&(n[l+x]=b-w<<24|64<<16|0),o.bits=v,0};const{Z_FINISH:ge,Z_BLOCK:ve,Z_TREES:_e,Z_OK:we,Z_STREAM_END:Me,Z_NEED_DICT:Ae,Z_STREAM_ERROR:xe,Z_DATA_ERROR:Se,Z_MEM_ERROR:ke,Z_BUF_ERROR:Ie,Z_DEFLATED:Ee}=W,ze=12,Ne=30,Re=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Pe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,
this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Te=t=>{if(!t||!t.state)return xe
;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,we},Be=t=>{if(!t||!t.state)return xe;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Te(t)},Oe=(t,e)=>{let r;if(!t||!t.state)return xe;const i=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),
e&&(e<8||e>15)?xe:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,Be(t))},qe=(t,e)=>{if(!t)return xe;const r=new Pe;t.state=r,r.window=null;const i=Oe(t,e);return i!==we&&(t.state=null),i};let Ue,Ce,De=!0;const je=t=>{if(De){Ue=new Int32Array(512),Ce=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ye(1,t.lens,0,288,Ue,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ye(2,t.lens,0,32,Ce,0,t.work,{
bits:5}),De=!1}t.lencode=Ue,t.lenbits=9,t.distcode=Ce,t.distbits=5},Le=(t,e,r,i)=>{let n;const a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(n=a.wsize-a.wnext,n>i&&(n=i),a.window.set(e.subarray(r-i,r-i+n),a.wnext),(i-=n)?(a.window.set(e.subarray(r-i,r),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),
0};var Fe={inflateReset:Be,inflateReset2:Oe,inflateResetKeep:Te,inflateInit:t=>qe(t,15),inflateInit2:qe,inflate:(t,e)=>{let r,i,n,a,s,o,d,f,c,h,u,l,p,b,m,y,g,v,_,w,M,A,x=0;const S=new Uint8Array(4);let k,I;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return xe;r=t.state,r.mode===ze&&(r.mode=13),s=t.next_out,n=t.output,d=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,f=r.hold,c=r.bits,h=o,u=d,A=we
;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;c<16;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(2&r.wrap&&35615===f){r.check=0,S[0]=255&f,S[1]=f>>>8&255,r.check=K(r.check,S,2,0),f=0,c=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Ne;break}if((15&f)!==Ee){t.msg="unknown compression method",r.mode=Ne;break}if(f>>>=4,c-=4,M=8+(15&f),0===r.wbits)r.wbits=M;else if(M>r.wbits){
t.msg="invalid window size",r.mode=Ne;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&f?10:ze,f=0,c=0;break;case 2:for(;c<16;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(r.flags=f,(255&r.flags)!==Ee){t.msg="unknown compression method",r.mode=Ne;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Ne;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=K(r.check,S,2,0)),f=0,c=0,r.mode=3;case 3:for(;c<32;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}
r.head&&(r.head.time=f),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,S[2]=f>>>16&255,S[3]=f>>>24&255,r.check=K(r.check,S,4,0)),f=0,c=0,r.mode=4;case 4:for(;c<16;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=K(r.check,S,2,0)),f=0,c=0,r.mode=5;case 5:if(1024&r.flags){for(;c<16;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,
r.check=K(r.check,S,2,0)),f=0,c=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(l=r.length,l>o&&(l=o),l&&(r.head&&(M=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(a,a+l),M)),512&r.flags&&(r.check=K(r.check,i,l,a)),o-=l,a+=l,r.length-=l),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break t;l=0;do{M=i[a+l++],r.head&&M&&r.length<65536&&(r.head.name+=String.fromCharCode(M))
}while(M&&l<o);if(512&r.flags&&(r.check=K(r.check,i,l,a)),o-=l,a+=l,M)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break t;l=0;do{M=i[a+l++],r.head&&M&&r.length<65536&&(r.head.comment+=String.fromCharCode(M))}while(M&&l<o);if(512&r.flags&&(r.check=K(r.check,i,l,a)),o-=l,a+=l,M)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;c<16;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(f!==(65535&r.check)){
t.msg="header crc mismatch",r.mode=Ne;break}f=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ze;break;case 10:for(;c<32;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}t.adler=r.check=Re(f),f=0,c=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=o,r.hold=f,r.bits=c,Ae;t.adler=r.check=1,r.mode=ze;case ze:if(e===ve||e===_e)break t;case 13:if(r.last){f>>>=7&c,c-=7&c,r.mode=27;break}for(;c<3;){if(0===o)break t;o--,f+=i[a++]<<c,
c+=8}switch(r.last=1&f,f>>>=1,c-=1,3&f){case 0:r.mode=14;break;case 1:if(je(r),r.mode=20,e===_e){f>>>=2,c-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=Ne}f>>>=2,c-=2;break;case 14:for(f>>>=7&c,c-=7&c;c<32;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Ne;break}if(r.length=65535&f,f=0,c=0,r.mode=15,e===_e)break t;case 15:r.mode=16;case 16:if(l=r.length,l){if(l>o&&(l=o),l>d&&(l=d),0===l)break t
;n.set(i.subarray(a,a+l),s),o-=l,a+=l,d-=l,s+=l,r.length-=l;break}r.mode=ze;break;case 17:for(;c<14;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(r.nlen=257+(31&f),f>>>=5,c-=5,r.ndist=1+(31&f),f>>>=5,c-=5,r.ncode=4+(15&f),f>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Ne;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;c<3;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.lens[E[r.have++]]=7&f,f>>>=3,c-=3}for(;r.have<19;)r.lens[E[r.have++]]=0
;if(r.lencode=r.lendyn,r.lenbits=7,k={bits:r.lenbits},A=ye(0,r.lens,0,19,r.lencode,0,r.work,k),r.lenbits=k.bits,A){t.msg="invalid code lengths set",r.mode=Ne;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[f&(1<<r.lenbits)-1],m=x>>>24,y=x>>>16&255,g=65535&x,!(m<=c);){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(g<16)f>>>=m,c-=m,r.lens[r.have++]=g;else{if(16===g){for(I=m+2;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(f>>>=m,c-=m,0===r.have){
t.msg="invalid bit length repeat",r.mode=Ne;break}M=r.lens[r.have-1],l=3+(3&f),f>>>=2,c-=2}else if(17===g){for(I=m+3;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}f>>>=m,c-=m,M=0,l=3+(7&f),f>>>=3,c-=3}else{for(I=m+7;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}f>>>=m,c-=m,M=0,l=11+(127&f),f>>>=7,c-=7}if(r.have+l>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Ne;break}for(;l--;)r.lens[r.have++]=M}}if(r.mode===Ne)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",
r.mode=Ne;break}if(r.lenbits=9,k={bits:r.lenbits},A=ye(1,r.lens,0,r.nlen,r.lencode,0,r.work,k),r.lenbits=k.bits,A){t.msg="invalid literal/lengths set",r.mode=Ne;break}if(r.distbits=6,r.distcode=r.distdyn,k={bits:r.distbits},A=ye(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,k),r.distbits=k.bits,A){t.msg="invalid distances set",r.mode=Ne;break}if(r.mode=20,e===_e)break t;case 20:r.mode=21;case 21:if(o>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=o,r.hold=f,r.bits=c,he(t,u),
s=t.next_out,n=t.output,d=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,f=r.hold,c=r.bits,r.mode===ze&&(r.back=-1);break}for(r.back=0;x=r.lencode[f&(1<<r.lenbits)-1],m=x>>>24,y=x>>>16&255,g=65535&x,!(m<=c);){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(y&&0==(240&y)){for(v=m,_=y,w=g;x=r.lencode[w+((f&(1<<v+_)-1)>>v)],m=x>>>24,y=x>>>16&255,g=65535&x,!(v+m<=c);){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}f>>>=v,c-=v,r.back+=v}if(f>>>=m,c-=m,r.back+=m,r.length=g,0===y){r.mode=26;break}if(32&y){r.back=-1,
r.mode=ze;break}if(64&y){t.msg="invalid literal/length code",r.mode=Ne;break}r.extra=15&y,r.mode=22;case 22:if(r.extra){for(I=r.extra;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;x=r.distcode[f&(1<<r.distbits)-1],m=x>>>24,y=x>>>16&255,g=65535&x,!(m<=c);){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(0==(240&y)){for(v=m,_=y,w=g;x=r.distcode[w+((f&(1<<v+_)-1)>>v)],m=x>>>24,y=x>>>16&255,g=65535&x,
!(v+m<=c);){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}f>>>=v,c-=v,r.back+=v}if(f>>>=m,c-=m,r.back+=m,64&y){t.msg="invalid distance code",r.mode=Ne;break}r.offset=g,r.extra=15&y,r.mode=24;case 24:if(r.extra){for(I=r.extra;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Ne;break}r.mode=25;case 25:if(0===d)break t;if(l=u-d,r.offset>l){if(l=r.offset-l,l>r.whave&&r.sane){
t.msg="invalid distance too far back",r.mode=Ne;break}l>r.wnext?(l-=r.wnext,p=r.wsize-l):p=r.wnext-l,l>r.length&&(l=r.length),b=r.window}else b=n,p=s-r.offset,l=r.length;l>d&&(l=d),d-=l,r.length-=l;do{n[s++]=b[p++]}while(--l);0===r.length&&(r.mode=21);break;case 26:if(0===d)break t;n[s++]=r.length,d--,r.mode=21;break;case 27:if(r.wrap){for(;c<32;){if(0===o)break t;o--,f|=i[a++]<<c,c+=8}if(u-=d,t.total_out+=u,r.total+=u,u&&(t.adler=r.check=r.flags?K(r.check,n,u,s-u):F(r.check,n,u,s-u)),u=d,
(r.flags?f:Re(f))!==r.check){t.msg="incorrect data check",r.mode=Ne;break}f=0,c=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;c<32;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(f!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Ne;break}f=0,c=0}r.mode=29;case 29:A=Me;break t;case Ne:A=Se;break t;case 31:return ke;default:return xe}return t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=o,r.hold=f,r.bits=c,
(r.wsize||u!==t.avail_out&&r.mode<Ne&&(r.mode<27||e!==ge))&&Le(t,t.output,t.next_out,u-t.avail_out),h-=t.avail_in,u-=t.avail_out,t.total_in+=h,t.total_out+=u,r.total+=u,r.wrap&&u&&(t.adler=r.check=r.flags?K(r.check,n,u,t.next_out-u):F(r.check,n,u,t.next_out-u)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ze?128:0)+(20===r.mode||15===r.mode?256:0),(0===h&&0===u||e===ge)&&A===we&&(A=Ie),A},inflateEnd:t=>{if(!t||!t.state)return xe;let e=t.state;return e.window&&(e.window=null),t.state=null,we},
inflateGetHeader:(t,e)=>{if(!t||!t.state)return xe;const r=t.state;return 0==(2&r.wrap)?xe:(r.head=e,e.done=!1,we)},inflateSetDictionary:(t,e)=>{const r=e.length;let i,n,a;return t&&t.state?(i=t.state,0!==i.wrap&&11!==i.mode?xe:11===i.mode&&(n=1,n=F(n,e,r,0),n!==i.check)?Se:(a=Le(t,e,r,r),a?(i.mode=31,ke):(i.havedict=1,we))):xe},inflateInfo:"pako inflate (from Nodeca project)"};var Ve=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",
this.comment="",this.hcrc=0,this.done=!1};const Ke=Object.prototype.toString,{Z_NO_FLUSH:Ze,Z_FINISH:We,Z_OK:$e,Z_STREAM_END:He,Z_NEED_DICT:Je,Z_STREAM_ERROR:Ge,Z_DATA_ERROR:Ye,Z_MEM_ERROR:Xe}=W;function Qe(t){this.options=Kt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),
e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yt,this.strm.avail_out=0;let r=Fe.inflateInit2(this.strm,e.windowBits);if(r!==$e)throw new Error(Z[r]);if(this.header=new Ve,Fe.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Ht(e.dictionary):"[object ArrayBuffer]"===Ke.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),
e.raw&&(r=Fe.inflateSetDictionary(this.strm,e.dictionary),r!==$e)))throw new Error(Z[r])}function tr(t,e){const r=new Qe(e);if(r.push(t),r.err)throw r.msg||Z[r.err];return r.result}Qe.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(s=e===~~e?e:!0===e?We:Ze,"[object ArrayBuffer]"===Ke.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){
for(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),a=Fe.inflate(r,s),a===Je&&n&&(a=Fe.inflateSetDictionary(r,n),a===$e?a=Fe.inflate(r,s):a===Ye&&(a=Je));r.avail_in>0&&a===He&&r.state.wrap>0&&0!==t[r.next_in];)Fe.inflateReset(r),a=Fe.inflate(r,s);switch(a){case Ge:case Ye:case Je:case Xe:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||a===He))if("string"===this.options.to){let t=Gt(r.output,r.next_out),e=r.next_out-t,n=Jt(r.output,t)
;r.next_out=e,r.avail_out=i-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(n)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==$e||0!==o){if(a===He)return a=Fe.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},Qe.prototype.onData=function(t){this.chunks.push(t)},Qe.prototype.onEnd=function(t){t===$e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Zt(this.chunks)),
this.chunks=[],this.err=t,this.msg=this.strm.msg};var er={Inflate:Qe,inflate:tr,inflateRaw:function(t,e){return(e=e||{}).raw=!0,tr(t,e)},ungzip:tr,constants:W};const{Deflate:rr,deflate:ir,deflateRaw:nr,gzip:ar}=ce,{Inflate:sr,inflate:or,inflateRaw:dr,ungzip:fr}=er;var cr={Deflate:rr,deflate:ir,deflateRaw:nr,gzip:ar,Inflate:sr,inflate:or,inflateRaw:dr,ungzip:fr,constants:W
},hr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ur(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lr(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){
return t[r]}})})),e}var pr,br={exports:{}},mr=lr(Object.freeze({__proto__:null,default:{}}));function yr(t){this.rand=t}if(br.exports=function(t){return pr||(pr=new yr(null)),pr.generate(t)},br.exports.Rand=yr,yr.prototype.generate=function(t){return this._rand(t)},yr.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},
"object"==typeof self)self.crypto&&self.crypto.getRandomValues?yr.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?yr.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(yr.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var gr=mr;if("function"!=typeof gr.randomBytes)throw new Error("Not supported")
;yr.prototype._rand=function(t){return gr.randomBytes(t)}}catch(t){}var vr=br.exports,_r={},wr={},Mr=Ar;function Ar(t,e){if(!t)throw new Error(e||"Assertion failed")}Ar.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var xr={exports:{}};"function"==typeof Object.create?xr.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:xr.exports=function(t,e){if(e){t.super_=e
;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var Sr=Mr,kr=xr.exports;function Ir(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function Er(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function zr(t){return 1===t.length?"0"+t:t}function Nr(t){
return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}wr.inherits=kr,wr.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var a=t.charCodeAt(n)
;a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=63&a|128):Ir(t,n)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++n)),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=63&a|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=63&a|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},wr.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=zr(t[r].toString(16));return e},wr.htonl=Er,wr.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=Er(n)),
r+=Nr(n.toString(16))}return r},wr.zero2=zr,wr.zero8=Nr,wr.join32=function(t,e,r,i){var n=r-e;Sr(n%4==0);for(var a=new Array(n/4),s=0,o=e;s<a.length;s++,o+=4){var d;d="big"===i?t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=d>>>0}return a},wr.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var a=t[i];"big"===e?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=255&a):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,
r[n]=255&a)}return r},wr.rotr32=function(t,e){return t>>>e|t<<32-e},wr.rotl32=function(t,e){return t<<e|t>>>32-e},wr.sum32=function(t,e){return t+e>>>0},wr.sum32_3=function(t,e,r){return t+e+r>>>0},wr.sum32_4=function(t,e,r,i){return t+e+r+i>>>0},wr.sum32_5=function(t,e,r,i,n){return t+e+r+i+n>>>0},wr.sum64=function(t,e,r,i){var n=t[e],a=i+t[e+1]>>>0,s=(a<i?1:0)+r+n;t[e]=s>>>0,t[e+1]=a},wr.sum64_hi=function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},wr.sum64_lo=function(t,e,r,i){return e+i>>>0},
wr.sum64_4_hi=function(t,e,r,i,n,a,s,o){var d=0,f=e;return d+=(f=f+i>>>0)<e?1:0,d+=(f=f+a>>>0)<a?1:0,t+r+n+s+(d+=(f=f+o>>>0)<o?1:0)>>>0},wr.sum64_4_lo=function(t,e,r,i,n,a,s,o){return e+i+a+o>>>0},wr.sum64_5_hi=function(t,e,r,i,n,a,s,o,d,f){var c=0,h=e;return c+=(h=h+i>>>0)<e?1:0,c+=(h=h+a>>>0)<a?1:0,c+=(h=h+o>>>0)<o?1:0,t+r+n+s+d+(c+=(h=h+f>>>0)<f?1:0)>>>0},wr.sum64_5_lo=function(t,e,r,i,n,a,s,o,d,f){return e+i+a+o+f>>>0},wr.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},
wr.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},wr.shr64_hi=function(t,e,r){return t>>>r},wr.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var Rr={},Pr=wr,Tr=Mr;function Br(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Rr.BlockHash=Br,
Br.prototype.update=function(t,e){if(t=Pr.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=Pr.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},Br.prototype.digest=function(t){
return this.update(this._pad()),Tr(null===this.pending),this._digest(t)},Br.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,
i[n++]=0,i[n++]=0,a=8;a<this.padLength;a++)i[n++]=0;return i};var Or={},qr={},Ur=wr.rotr32;function Cr(t,e,r){return t&e^~t&r}function Dr(t,e,r){return t&e^t&r^e&r}function jr(t,e,r){return t^e^r}qr.ft_1=function(t,e,r,i){return 0===t?Cr(e,r,i):1===t||3===t?jr(e,r,i):2===t?Dr(e,r,i):void 0},qr.ch32=Cr,qr.maj32=Dr,qr.p32=jr,qr.s0_256=function(t){return Ur(t,2)^Ur(t,13)^Ur(t,22)},qr.s1_256=function(t){return Ur(t,6)^Ur(t,11)^Ur(t,25)},qr.g0_256=function(t){return Ur(t,7)^Ur(t,18)^t>>>3},
qr.g1_256=function(t){return Ur(t,17)^Ur(t,19)^t>>>10};var Lr=wr,Fr=Rr,Vr=qr,Kr=Lr.rotl32,Zr=Lr.sum32,Wr=Lr.sum32_5,$r=Vr.ft_1,Hr=Fr.BlockHash,Jr=[1518500249,1859775393,2400959708,3395469782];function Gr(){if(!(this instanceof Gr))return new Gr;Hr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Lr.inherits(Gr,Hr);var Yr=Gr;Gr.blockSize=512,Gr.outSize=160,Gr.hmacStrength=80,Gr.padLength=64,Gr.prototype._update=function(t,e){
for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=Kr(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],d=this.h[4];for(i=0;i<r.length;i++){var f=~~(i/20),c=Wr(Kr(n,5),$r(f,a,s,o),d,r[i],Jr[f]);d=o,o=s,s=Kr(a,30),a=n,n=c}this.h[0]=Zr(this.h[0],n),this.h[1]=Zr(this.h[1],a),this.h[2]=Zr(this.h[2],s),this.h[3]=Zr(this.h[3],o),this.h[4]=Zr(this.h[4],d)},Gr.prototype._digest=function(t){
return"hex"===t?Lr.toHex32(this.h,"big"):Lr.split32(this.h,"big")}
;var Xr=wr,Qr=Rr,ti=qr,ei=Mr,ri=Xr.sum32,ii=Xr.sum32_4,ni=Xr.sum32_5,ai=ti.ch32,si=ti.maj32,oi=ti.s0_256,di=ti.s1_256,fi=ti.g0_256,ci=ti.g1_256,hi=Qr.BlockHash,ui=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]
;function li(){if(!(this instanceof li))return new li;hi.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ui,this.W=new Array(64)}Xr.inherits(li,hi);var pi=li;li.blockSize=512,li.outSize=256,li.hmacStrength=192,li.padLength=64,li.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=ii(ci(r[i-2]),r[i-7],fi(r[i-15]),r[i-16])
;var n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],d=this.h[4],f=this.h[5],c=this.h[6],h=this.h[7];for(ei(this.k.length===r.length),i=0;i<r.length;i++){var u=ni(h,di(d),ai(d,f,c),this.k[i],r[i]),l=ri(oi(n),si(n,a,s));h=c,c=f,f=d,d=ri(o,u),o=s,s=a,a=n,n=ri(u,l)}this.h[0]=ri(this.h[0],n),this.h[1]=ri(this.h[1],a),this.h[2]=ri(this.h[2],s),this.h[3]=ri(this.h[3],o),this.h[4]=ri(this.h[4],d),this.h[5]=ri(this.h[5],f),this.h[6]=ri(this.h[6],c),this.h[7]=ri(this.h[7],h)},
li.prototype._digest=function(t){return"hex"===t?Xr.toHex32(this.h,"big"):Xr.split32(this.h,"big")};var bi=wr,mi=pi;function yi(){if(!(this instanceof yi))return new yi;mi.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}bi.inherits(yi,mi);var gi=yi;yi.blockSize=512,yi.outSize=224,yi.hmacStrength=192,yi.padLength=64,yi.prototype._digest=function(t){return"hex"===t?bi.toHex32(this.h.slice(0,7),"big"):bi.split32(this.h.slice(0,7),"big")}
;var vi=wr,_i=Rr,wi=Mr,Mi=vi.rotr64_hi,Ai=vi.rotr64_lo,xi=vi.shr64_hi,Si=vi.shr64_lo,ki=vi.sum64,Ii=vi.sum64_hi,Ei=vi.sum64_lo,zi=vi.sum64_4_hi,Ni=vi.sum64_4_lo,Ri=vi.sum64_5_hi,Pi=vi.sum64_5_lo,Ti=_i.BlockHash,Bi=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]
;function Oi(){if(!(this instanceof Oi))return new Oi;Ti.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Bi,this.W=new Array(160)}vi.inherits(Oi,Ti);var qi=Oi;function Ui(t,e,r,i,n){var a=t&r^~t&n;return a<0&&(a+=4294967296),a}function Ci(t,e,r,i,n,a){var s=e&i^~e&a;return s<0&&(s+=4294967296),s}function Di(t,e,r,i,n){var a=t&r^t&n^r&n
;return a<0&&(a+=4294967296),a}function ji(t,e,r,i,n,a){var s=e&i^e&a^i&a;return s<0&&(s+=4294967296),s}function Li(t,e){var r=Mi(t,e,28)^Mi(e,t,2)^Mi(e,t,7);return r<0&&(r+=4294967296),r}function Fi(t,e){var r=Ai(t,e,28)^Ai(e,t,2)^Ai(e,t,7);return r<0&&(r+=4294967296),r}function Vi(t,e){var r=Mi(t,e,14)^Mi(t,e,18)^Mi(e,t,9);return r<0&&(r+=4294967296),r}function Ki(t,e){var r=Ai(t,e,14)^Ai(t,e,18)^Ai(e,t,9);return r<0&&(r+=4294967296),r}function Zi(t,e){var r=Mi(t,e,1)^Mi(t,e,8)^xi(t,e,7)
;return r<0&&(r+=4294967296),r}function Wi(t,e){var r=Ai(t,e,1)^Ai(t,e,8)^Si(t,e,7);return r<0&&(r+=4294967296),r}function $i(t,e){var r=Mi(t,e,19)^Mi(e,t,29)^xi(t,e,6);return r<0&&(r+=4294967296),r}function Hi(t,e){var r=Ai(t,e,19)^Ai(e,t,29)^Si(t,e,6);return r<0&&(r+=4294967296),r}Oi.blockSize=1024,Oi.outSize=512,Oi.hmacStrength=192,Oi.padLength=128,Oi.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){
var n=$i(r[i-4],r[i-3]),a=Hi(r[i-4],r[i-3]),s=r[i-14],o=r[i-13],d=Zi(r[i-30],r[i-29]),f=Wi(r[i-30],r[i-29]),c=r[i-32],h=r[i-31];r[i]=zi(n,a,s,o,d,f,c,h),r[i+1]=Ni(n,a,s,o,d,f,c,h)}},Oi.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],d=this.h[5],f=this.h[6],c=this.h[7],h=this.h[8],u=this.h[9],l=this.h[10],p=this.h[11],b=this.h[12],m=this.h[13],y=this.h[14],g=this.h[15];wi(this.k.length===r.length)
;for(var v=0;v<r.length;v+=2){var _=y,w=g,M=Vi(h,u),A=Ki(h,u),x=Ui(h,u,l,p,b),S=Ci(h,u,l,p,b,m),k=this.k[v],I=this.k[v+1],E=r[v],z=r[v+1],N=Ri(_,w,M,A,x,S,k,I,E,z),R=Pi(_,w,M,A,x,S,k,I,E,z);_=Li(i,n),w=Fi(i,n),M=Di(i,n,a,s,o),A=ji(i,n,a,s,o,d);var P=Ii(_,w,M,A),T=Ei(_,w,M,A);y=b,g=m,b=l,m=p,l=h,p=u,h=Ii(f,c,N,R),u=Ei(c,c,N,R),f=o,c=d,o=a,d=s,a=i,s=n,i=Ii(N,R,P,T),n=Ei(N,R,P,T)}ki(this.h,0,i,n),ki(this.h,2,a,s),ki(this.h,4,o,d),ki(this.h,6,f,c),ki(this.h,8,h,u),ki(this.h,10,l,p),
ki(this.h,12,b,m),ki(this.h,14,y,g)},Oi.prototype._digest=function(t){return"hex"===t?vi.toHex32(this.h,"big"):vi.split32(this.h,"big")};var Ji=wr,Gi=qi;function Yi(){if(!(this instanceof Yi))return new Yi;Gi.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ji.inherits(Yi,Gi);var Xi=Yi;Yi.blockSize=1024,Yi.outSize=384,Yi.hmacStrength=192,
Yi.padLength=128,Yi.prototype._digest=function(t){return"hex"===t?Ji.toHex32(this.h.slice(0,12),"big"):Ji.split32(this.h.slice(0,12),"big")},Or.sha1=Yr,Or.sha224=gi,Or.sha256=pi,Or.sha384=Xi,Or.sha512=qi;var Qi={},tn=wr,en=Rr,rn=tn.rotl32,nn=tn.sum32,an=tn.sum32_3,sn=tn.sum32_4,on=en.BlockHash;function dn(){if(!(this instanceof dn))return new dn;on.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function fn(t,e,r,i){
return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function cn(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function hn(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}tn.inherits(dn,on),Qi.ripemd160=dn,dn.blockSize=512,dn.outSize=160,dn.hmacStrength=192,dn.padLength=64,dn.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],a=this.h[3],s=this.h[4],o=r,d=i,f=n,c=a,h=s,u=0;u<80;u++){
var l=nn(rn(sn(r,fn(u,i,n,a),t[un[u]+e],cn(u)),pn[u]),s);r=s,s=a,a=rn(n,10),n=i,i=l,l=nn(rn(sn(o,fn(79-u,d,f,c),t[ln[u]+e],hn(u)),bn[u]),h),o=h,h=c,c=rn(f,10),f=d,d=l}l=an(this.h[1],n,c),this.h[1]=an(this.h[2],a,h),this.h[2]=an(this.h[3],s,o),this.h[3]=an(this.h[4],r,d),this.h[4]=an(this.h[0],i,f),this.h[0]=l},dn.prototype._digest=function(t){return"hex"===t?tn.toHex32(this.h,"little"):tn.split32(this.h,"little")}
;var un=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ln=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],pn=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],bn=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],mn=wr,yn=Mr
;function gn(t,e,r){if(!(this instanceof gn))return new gn(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(mn.toArray(e,r))}var vn=gn;gn.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),yn(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106
;this.outer=(new this.Hash).update(t)},gn.prototype.update=function(t,e){return this.inner.update(t,e),this},gn.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=wr,e.common=Rr,e.sha=Or,e.ripemd=Qi,e.hmac=vn,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(_r);var _n={exports:{}};(function(t,e){function r(t,e){
if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:mr.Buffer}catch(t){}
function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function o(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function d(t,e,r,i){for(var n=0,a=Math.min(t.length,r),s=e;s<a;s++){var o=t.charCodeAt(s)-48;n*=i,n+=o>=49?o-49+10:o>=17?o-17+10:o}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){
return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),
t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0
;var a,s,o=0;if("be"===i)for(n=t.length-1,a=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(n=0,a=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length)
;for(var i=0;i<this.length;i++)this.words[i]=0;var n,a=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=o(t,e,i)<<a,this.words[s]|=67108863&n,a>=18?(a-=18,s+=1,this.words[s]|=n>>>26):a+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=o(t,e,i)<<a,this.words[s]|=67108863&n,a>=18?(a-=18,s+=1,this.words[s]|=n>>>26):a+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0
;for(var a=t.length-r,s=a%i,o=Math.min(a,a-s)+r,f=0,c=r;c<o;c+=i)f=d(t,c,c+i,e),this.imuln(n),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==s){var h=1;for(f=d(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},
n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}
;var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176]
;function u(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],a=0|e.words[0],s=n*a,o=67108863&s,d=s/67108864|0;r.words[0]=o;for(var f=1;f<i;f++){for(var c=d>>>26,h=67108863&d,u=Math.min(f,e.length-1),l=Math.max(0,f-t.length+1);l<=u;l++){var p=f-l|0;c+=(s=(n=0|t.words[p])*(a=0|e.words[l])+h)/67108864|0,h=67108863&s}r.words[f]=0|h,d=0|c}return 0!==d?r.words[f]=0|d:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,
16===(t=t||10)||"hex"===t){i="";for(var n=0,a=0,s=0;s<this.length;s++){var o=this.words[s],d=(16777215&(o<<n|a)).toString(16);i=0!=(a=o>>>24-n&16777215)||s!==this.length-1?f[6-d.length]+d+i:d+i,(n+=2)>=26&&(n-=26,s--)}for(0!==a&&(i=a.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],l=h[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(t);i=(p=p.idivn(l)).isZero()?b+i:f[u-b.length]+b+i}
for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){
return r(void 0!==a),this.toArrayLike(a,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),a=i||Math.max(1,n);r(n<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var s,o,d="le"===e,f=new t(a),c=this.clone();if(d){for(o=0;!c.isZero();o++)s=c.andln(255),c.iushrn(8),f[o]=s;for(;o<a;o++)f[o]=0}else{for(o=0;o<a-n;o++)f[o]=0;for(o=0;!c.isZero();o++)s=c.andln(255),
c.iushrn(8),f[a-o-1]=s}return f},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){
var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){
return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),
this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){
return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),
this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){
return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this)
;for(var n=0,a=0;a<i.length;a++)e=(0|r.words[a])+(0|i.words[a])+n,this.words[a]=67108863&e,n=e>>>26;for(;0!==n&&a<r.length;a++)e=(0|r.words[a])+n,this.words[a]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,
e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var a=0,s=0;s<i.length;s++)a=(e=(0|r.words[s])-(0|i.words[s])+a)>>26,
this.words[s]=67108863&e;for(;0!==a&&s<r.length;s++)a=(e=(0|r.words[s])+a)>>26,this.words[s]=67108863&e;if(0===a&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var l=function(t,e,r){
var i,n,a,s=t.words,o=e.words,d=r.words,f=0,c=0|s[0],h=8191&c,u=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,m=0|s[2],y=8191&m,g=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,M=0|s[4],A=8191&M,x=M>>>13,S=0|s[5],k=8191&S,I=S>>>13,E=0|s[6],z=8191&E,N=E>>>13,R=0|s[7],P=8191&R,T=R>>>13,B=0|s[8],O=8191&B,q=B>>>13,U=0|s[9],C=8191&U,D=U>>>13,j=0|o[0],L=8191&j,F=j>>>13,V=0|o[1],K=8191&V,Z=V>>>13,W=0|o[2],$=8191&W,H=W>>>13,J=0|o[3],G=8191&J,Y=J>>>13,X=0|o[4],Q=8191&X,tt=X>>>13,et=0|o[5],rt=8191&et,it=et>>>13,nt=0|o[6],at=8191&nt,st=nt>>>13,ot=0|o[7],dt=8191&ot,ft=ot>>>13,ct=0|o[8],ht=8191&ct,ut=ct>>>13,lt=0|o[9],pt=8191&lt,bt=lt>>>13
;r.negative=t.negative^e.negative,r.length=19;var mt=(f+(i=Math.imul(h,L))|0)+((8191&(n=(n=Math.imul(h,F))+Math.imul(u,L)|0))<<13)|0;f=((a=Math.imul(u,F))+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,F))+Math.imul(b,L)|0,a=Math.imul(b,F);var yt=(f+(i=i+Math.imul(h,K)|0)|0)+((8191&(n=(n=n+Math.imul(h,Z)|0)+Math.imul(u,K)|0))<<13)|0;f=((a=a+Math.imul(u,Z)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,L),n=(n=Math.imul(y,F))+Math.imul(g,L)|0,a=Math.imul(g,F),
i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,Z)|0)+Math.imul(b,K)|0,a=a+Math.imul(b,Z)|0;var gt=(f+(i=i+Math.imul(h,$)|0)|0)+((8191&(n=(n=n+Math.imul(h,H)|0)+Math.imul(u,$)|0))<<13)|0;f=((a=a+Math.imul(u,H)|0)+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(_,L),n=(n=Math.imul(_,F))+Math.imul(w,L)|0,a=Math.imul(w,F),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,Z)|0)+Math.imul(g,K)|0,a=a+Math.imul(g,Z)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(b,$)|0,a=a+Math.imul(b,H)|0
;var vt=(f+(i=i+Math.imul(h,G)|0)|0)+((8191&(n=(n=n+Math.imul(h,Y)|0)+Math.imul(u,G)|0))<<13)|0;f=((a=a+Math.imul(u,Y)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(A,L),n=(n=Math.imul(A,F))+Math.imul(x,L)|0,a=Math.imul(x,F),i=i+Math.imul(_,K)|0,n=(n=n+Math.imul(_,Z)|0)+Math.imul(w,K)|0,a=a+Math.imul(w,Z)|0,i=i+Math.imul(y,$)|0,n=(n=n+Math.imul(y,H)|0)+Math.imul(g,$)|0,a=a+Math.imul(g,H)|0,i=i+Math.imul(p,G)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(b,G)|0,a=a+Math.imul(b,Y)|0
;var _t=(f+(i=i+Math.imul(h,Q)|0)|0)+((8191&(n=(n=n+Math.imul(h,tt)|0)+Math.imul(u,Q)|0))<<13)|0;f=((a=a+Math.imul(u,tt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(k,L),n=(n=Math.imul(k,F))+Math.imul(I,L)|0,a=Math.imul(I,F),i=i+Math.imul(A,K)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(x,K)|0,a=a+Math.imul(x,Z)|0,i=i+Math.imul(_,$)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(w,$)|0,a=a+Math.imul(w,H)|0,i=i+Math.imul(y,G)|0,n=(n=n+Math.imul(y,Y)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,Y)|0,
i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(b,Q)|0,a=a+Math.imul(b,tt)|0;var wt=(f+(i=i+Math.imul(h,rt)|0)|0)+((8191&(n=(n=n+Math.imul(h,it)|0)+Math.imul(u,rt)|0))<<13)|0;f=((a=a+Math.imul(u,it)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(z,L),n=(n=Math.imul(z,F))+Math.imul(N,L)|0,a=Math.imul(N,F),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,Z)|0)+Math.imul(I,K)|0,a=a+Math.imul(I,Z)|0,i=i+Math.imul(A,$)|0,n=(n=n+Math.imul(A,H)|0)+Math.imul(x,$)|0,a=a+Math.imul(x,H)|0,
i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,Y)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,Y)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(g,Q)|0,a=a+Math.imul(g,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(b,rt)|0,a=a+Math.imul(b,it)|0;var Mt=(f+(i=i+Math.imul(h,at)|0)|0)+((8191&(n=(n=n+Math.imul(h,st)|0)+Math.imul(u,at)|0))<<13)|0;f=((a=a+Math.imul(u,st)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,F))+Math.imul(T,L)|0,a=Math.imul(T,F),
i=i+Math.imul(z,K)|0,n=(n=n+Math.imul(z,Z)|0)+Math.imul(N,K)|0,a=a+Math.imul(N,Z)|0,i=i+Math.imul(k,$)|0,n=(n=n+Math.imul(k,H)|0)+Math.imul(I,$)|0,a=a+Math.imul(I,H)|0,i=i+Math.imul(A,G)|0,n=(n=n+Math.imul(A,Y)|0)+Math.imul(x,G)|0,a=a+Math.imul(x,Y)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(g,rt)|0,a=a+Math.imul(g,it)|0,i=i+Math.imul(p,at)|0,n=(n=n+Math.imul(p,st)|0)+Math.imul(b,at)|0,
a=a+Math.imul(b,st)|0;var At=(f+(i=i+Math.imul(h,dt)|0)|0)+((8191&(n=(n=n+Math.imul(h,ft)|0)+Math.imul(u,dt)|0))<<13)|0;f=((a=a+Math.imul(u,ft)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(O,L),n=(n=Math.imul(O,F))+Math.imul(q,L)|0,a=Math.imul(q,F),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,Z)|0)+Math.imul(T,K)|0,a=a+Math.imul(T,Z)|0,i=i+Math.imul(z,$)|0,n=(n=n+Math.imul(z,H)|0)+Math.imul(N,$)|0,a=a+Math.imul(N,H)|0,i=i+Math.imul(k,G)|0,n=(n=n+Math.imul(k,Y)|0)+Math.imul(I,G)|0,
a=a+Math.imul(I,Y)|0,i=i+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,a=a+Math.imul(x,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(w,rt)|0,a=a+Math.imul(w,it)|0,i=i+Math.imul(y,at)|0,n=(n=n+Math.imul(y,st)|0)+Math.imul(g,at)|0,a=a+Math.imul(g,st)|0,i=i+Math.imul(p,dt)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(b,dt)|0,a=a+Math.imul(b,ft)|0;var xt=(f+(i=i+Math.imul(h,ht)|0)|0)+((8191&(n=(n=n+Math.imul(h,ut)|0)+Math.imul(u,ht)|0))<<13)|0
;f=((a=a+Math.imul(u,ut)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(C,L),n=(n=Math.imul(C,F))+Math.imul(D,L)|0,a=Math.imul(D,F),i=i+Math.imul(O,K)|0,n=(n=n+Math.imul(O,Z)|0)+Math.imul(q,K)|0,a=a+Math.imul(q,Z)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,H)|0)+Math.imul(T,$)|0,a=a+Math.imul(T,H)|0,i=i+Math.imul(z,G)|0,n=(n=n+Math.imul(z,Y)|0)+Math.imul(N,G)|0,a=a+Math.imul(N,Y)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,tt)|0,i=i+Math.imul(A,rt)|0,
n=(n=n+Math.imul(A,it)|0)+Math.imul(x,rt)|0,a=a+Math.imul(x,it)|0,i=i+Math.imul(_,at)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(w,at)|0,a=a+Math.imul(w,st)|0,i=i+Math.imul(y,dt)|0,n=(n=n+Math.imul(y,ft)|0)+Math.imul(g,dt)|0,a=a+Math.imul(g,ft)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(b,ht)|0,a=a+Math.imul(b,ut)|0;var St=(f+(i=i+Math.imul(h,pt)|0)|0)+((8191&(n=(n=n+Math.imul(h,bt)|0)+Math.imul(u,pt)|0))<<13)|0;f=((a=a+Math.imul(u,bt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,
i=Math.imul(C,K),n=(n=Math.imul(C,Z))+Math.imul(D,K)|0,a=Math.imul(D,Z),i=i+Math.imul(O,$)|0,n=(n=n+Math.imul(O,H)|0)+Math.imul(q,$)|0,a=a+Math.imul(q,H)|0,i=i+Math.imul(P,G)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(T,G)|0,a=a+Math.imul(T,Y)|0,i=i+Math.imul(z,Q)|0,n=(n=n+Math.imul(z,tt)|0)+Math.imul(N,Q)|0,a=a+Math.imul(N,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(I,rt)|0,a=a+Math.imul(I,it)|0,i=i+Math.imul(A,at)|0,n=(n=n+Math.imul(A,st)|0)+Math.imul(x,at)|0,
a=a+Math.imul(x,st)|0,i=i+Math.imul(_,dt)|0,n=(n=n+Math.imul(_,ft)|0)+Math.imul(w,dt)|0,a=a+Math.imul(w,ft)|0,i=i+Math.imul(y,ht)|0,n=(n=n+Math.imul(y,ut)|0)+Math.imul(g,ht)|0,a=a+Math.imul(g,ut)|0;var kt=(f+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,bt)|0)+Math.imul(b,pt)|0))<<13)|0;f=((a=a+Math.imul(b,bt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(C,$),n=(n=Math.imul(C,H))+Math.imul(D,$)|0,a=Math.imul(D,H),i=i+Math.imul(O,G)|0,n=(n=n+Math.imul(O,Y)|0)+Math.imul(q,G)|0,
a=a+Math.imul(q,Y)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(T,Q)|0,a=a+Math.imul(T,tt)|0,i=i+Math.imul(z,rt)|0,n=(n=n+Math.imul(z,it)|0)+Math.imul(N,rt)|0,a=a+Math.imul(N,it)|0,i=i+Math.imul(k,at)|0,n=(n=n+Math.imul(k,st)|0)+Math.imul(I,at)|0,a=a+Math.imul(I,st)|0,i=i+Math.imul(A,dt)|0,n=(n=n+Math.imul(A,ft)|0)+Math.imul(x,dt)|0,a=a+Math.imul(x,ft)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(w,ht)|0,a=a+Math.imul(w,ut)|0
;var It=(f+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,bt)|0)+Math.imul(g,pt)|0))<<13)|0;f=((a=a+Math.imul(g,bt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(C,G),n=(n=Math.imul(C,Y))+Math.imul(D,G)|0,a=Math.imul(D,Y),i=i+Math.imul(O,Q)|0,n=(n=n+Math.imul(O,tt)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(T,rt)|0,a=a+Math.imul(T,it)|0,i=i+Math.imul(z,at)|0,n=(n=n+Math.imul(z,st)|0)+Math.imul(N,at)|0,a=a+Math.imul(N,st)|0,
i=i+Math.imul(k,dt)|0,n=(n=n+Math.imul(k,ft)|0)+Math.imul(I,dt)|0,a=a+Math.imul(I,ft)|0,i=i+Math.imul(A,ht)|0,n=(n=n+Math.imul(A,ut)|0)+Math.imul(x,ht)|0,a=a+Math.imul(x,ut)|0;var Et=(f+(i=i+Math.imul(_,pt)|0)|0)+((8191&(n=(n=n+Math.imul(_,bt)|0)+Math.imul(w,pt)|0))<<13)|0;f=((a=a+Math.imul(w,bt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(C,Q),n=(n=Math.imul(C,tt))+Math.imul(D,Q)|0,a=Math.imul(D,tt),i=i+Math.imul(O,rt)|0,n=(n=n+Math.imul(O,it)|0)+Math.imul(q,rt)|0,a=a+Math.imul(q,it)|0,
i=i+Math.imul(P,at)|0,n=(n=n+Math.imul(P,st)|0)+Math.imul(T,at)|0,a=a+Math.imul(T,st)|0,i=i+Math.imul(z,dt)|0,n=(n=n+Math.imul(z,ft)|0)+Math.imul(N,dt)|0,a=a+Math.imul(N,ft)|0,i=i+Math.imul(k,ht)|0,n=(n=n+Math.imul(k,ut)|0)+Math.imul(I,ht)|0,a=a+Math.imul(I,ut)|0;var zt=(f+(i=i+Math.imul(A,pt)|0)|0)+((8191&(n=(n=n+Math.imul(A,bt)|0)+Math.imul(x,pt)|0))<<13)|0;f=((a=a+Math.imul(x,bt)|0)+(n>>>13)|0)+(zt>>>26)|0,zt&=67108863,i=Math.imul(C,rt),n=(n=Math.imul(C,it))+Math.imul(D,rt)|0,
a=Math.imul(D,it),i=i+Math.imul(O,at)|0,n=(n=n+Math.imul(O,st)|0)+Math.imul(q,at)|0,a=a+Math.imul(q,st)|0,i=i+Math.imul(P,dt)|0,n=(n=n+Math.imul(P,ft)|0)+Math.imul(T,dt)|0,a=a+Math.imul(T,ft)|0,i=i+Math.imul(z,ht)|0,n=(n=n+Math.imul(z,ut)|0)+Math.imul(N,ht)|0,a=a+Math.imul(N,ut)|0;var Nt=(f+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,bt)|0)+Math.imul(I,pt)|0))<<13)|0;f=((a=a+Math.imul(I,bt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(C,at),
n=(n=Math.imul(C,st))+Math.imul(D,at)|0,a=Math.imul(D,st),i=i+Math.imul(O,dt)|0,n=(n=n+Math.imul(O,ft)|0)+Math.imul(q,dt)|0,a=a+Math.imul(q,ft)|0,i=i+Math.imul(P,ht)|0,n=(n=n+Math.imul(P,ut)|0)+Math.imul(T,ht)|0,a=a+Math.imul(T,ut)|0;var Rt=(f+(i=i+Math.imul(z,pt)|0)|0)+((8191&(n=(n=n+Math.imul(z,bt)|0)+Math.imul(N,pt)|0))<<13)|0;f=((a=a+Math.imul(N,bt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(C,dt),n=(n=Math.imul(C,ft))+Math.imul(D,dt)|0,a=Math.imul(D,ft),i=i+Math.imul(O,ht)|0,
n=(n=n+Math.imul(O,ut)|0)+Math.imul(q,ht)|0,a=a+Math.imul(q,ut)|0;var Pt=(f+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,bt)|0)+Math.imul(T,pt)|0))<<13)|0;f=((a=a+Math.imul(T,bt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(C,ht),n=(n=Math.imul(C,ut))+Math.imul(D,ht)|0,a=Math.imul(D,ut);var Tt=(f+(i=i+Math.imul(O,pt)|0)|0)+((8191&(n=(n=n+Math.imul(O,bt)|0)+Math.imul(q,pt)|0))<<13)|0;f=((a=a+Math.imul(q,bt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863
;var Bt=(f+(i=Math.imul(C,pt))|0)+((8191&(n=(n=Math.imul(C,bt))+Math.imul(D,pt)|0))<<13)|0;return f=((a=Math.imul(D,bt))+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,d[0]=mt,d[1]=yt,d[2]=gt,d[3]=vt,d[4]=_t,d[5]=wt,d[6]=Mt,d[7]=At,d[8]=xt,d[9]=St,d[10]=kt,d[11]=It,d[12]=Et,d[13]=zt,d[14]=Nt,d[15]=Rt,d[16]=Pt,d[17]=Tt,d[18]=Bt,0!==f&&(d[19]=f,r.length++),r};function p(t,e,r){return(new b).mulp(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(l=u),n.prototype.mulTo=function(t,e){
var r,i=this.length+t.length;return r=10===this.length&&10===t.length?l(this,t,e):i<63?u(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,a=0;a<r.length-1;a++){var s=n;n=0;for(var o=67108863&i,d=Math.min(a,e.length-1),f=Math.max(0,a-t.length+1);f<=d;f++){var c=a-f,h=(0|t.words[c])*(0|e.words[f]),u=67108863&h;o=67108863&(u=u+o|0),n+=(s=(s=s+(h/67108864|0)|0)+(u>>>26)|0)>>>26,s&=67108863}r.words[a]=o,i=s,s=n}
return 0!==i?r.words[a]=i:r.length--,r.strip()}(this,t,e):p(this,t,e),r},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},b.prototype.permute=function(t,e,r,i,n,a){for(var s=0;s<a;s++)i[s]=e[t[s]],n[s]=r[t[s]]},b.prototype.transform=function(t,e,r,i,n,a){this.permute(a,t,e,r,i,n)
;for(var s=1;s<n;s<<=1)for(var o=s<<1,d=Math.cos(2*Math.PI/o),f=Math.sin(2*Math.PI/o),c=0;c<n;c+=o)for(var h=d,u=f,l=0;l<s;l++){var p=r[c+l],b=i[c+l],m=r[c+l+s],y=i[c+l+s],g=h*m-u*y;y=h*y+u*m,m=g,r[c+l]=p+m,i[c+l]=b+y,r[c+l+s]=p-m,i[c+l+s]=b-y,l!==o&&(g=d*h-f*u,u=d*u+f*h,h=g)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,
n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},b.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},b.prototype.convert13b=function(t,e,i,n){for(var a=0,s=0;s<e;s++)a+=0|t[s],i[2*s]=8191&a,a>>>=13,i[2*s+1]=8191&a,a>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===a),r(0==(-8192&a))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){
var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),a=this.stub(i),s=new Array(i),o=new Array(i),d=new Array(i),f=new Array(i),c=new Array(i),h=new Array(i),u=r.words;u.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,f,i),this.transform(s,a,o,d,i,n),this.transform(f,a,c,h,i,n);for(var l=0;l<i;l++){var p=o[l]*c[l]-d[l]*h[l];d[l]=o[l]*h[l]+d[l]*c[l],o[l]=p}return this.conjugate(o,d,i),this.transform(o,d,u,a,i,n),this.conjugate(u,a,i),
this.normalize13b(u,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),p(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){
var n=(0|this.words[i])*t,a=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=a>>>26,this.words[i]=67108863&a}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t)
;if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var a=r.sqr();i<e.length;i++,a=a.sqr())0!==e[i]&&(r=r.mul(a));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var o=this.words[e]&a,d=(0|this.words[e])-o<<i;this.words[e]=d|s,s=o>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){
for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var a=t%26,s=Math.min((t-a)/26,this.length),o=67108863^67108863>>>a<<a,d=i;if(n-=s,n=Math.max(0,n),d){for(var f=0;f<s;f++)d.words[f]=this.words[f];d.length=s}if(0===s);else if(this.length>s)for(this.length-=s,
f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var c=0;for(f=this.length-1;f>=0&&(0!==c||f>=n);f--){var h=0|this.words[f];this.words[f]=c<<26-a|h>>>a,c=h&o}return d&&0!==c&&(d.words[d.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)
},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i||!(this.words[i]&n))},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){
var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t
;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],
this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,a,s=t.length+i;this._expand(s);var o=0;for(n=0;n<t.length;n++){a=(0|this.words[n+i])+o
;var d=(0|t.words[n])*e;o=((a-=67108863&d)>>26)-(d/67108864|0),this.words[n+i]=67108863&a}for(;n<this.length-i;n++)o=(a=(0|this.words[n+i])+o)>>26,this.words[n+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,n=0;n<this.length;n++)o=(a=-(0|this.words[n])+o)>>26,this.words[n]=67108863&a;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),a=t,s=0|a.words[a.length-1];0!=(r=26-this._countBits(s))&&(a=a.ushln(r),i.iushln(r),
s=0|a.words[a.length-1]);var o,d=i.length-a.length;if("mod"!==e){(o=new n(null)).length=d+1,o.words=new Array(o.length);for(var f=0;f<o.length;f++)o.words[f]=0}var c=i.clone()._ishlnsubmul(a,1,d);0===c.negative&&(i=c,o&&(o.words[d]=1));for(var h=d-1;h>=0;h--){var u=67108864*(0|i.words[a.length+h])+(0|i.words[a.length+h-1]);for(u=Math.min(u/s|0,67108863),i._ishlnsubmul(a,u,h);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(a,1,h),i.isZero()||(i.negative^=1);o&&(o.words[h]=u)}return o&&o.strip(),
i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:o||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(a=o.div.neg()),"div"!==e&&(s=o.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:a,mod:s}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),"mod"!==e&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),
"div"!==e&&(s=o.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:o.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var a,s,o},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){
return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),a=r.cmp(i);return a<0||1===n&&0===a?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){
var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var a=new n(1),s=new n(0),o=new n(0),d=new n(1),f=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++f;for(var c=i.clone(),h=e.clone();!e.isZero();){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);
if(u>0)for(e.iushrn(u);u-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(c),s.isub(h)),a.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(i.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||d.isOdd())&&(o.iadd(c),d.isub(h)),o.iushrn(1),d.iushrn(1);e.cmp(i)>=0?(e.isub(i),a.isub(o),s.isub(d)):(i.isub(e),o.isub(a),d.isub(s))}return{a:o,b:d,gcd:i.iushln(f)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone()
;for(var a,s=new n(1),o=new n(0),d=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var f=0,c=1;0==(e.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(e.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(d),s.iushrn(1);for(var h=0,u=1;0==(i.words[0]&u)&&h<26;++h,u<<=1);if(h>0)for(i.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(d),o.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(o)):(i.isub(e),o.isub(s))}return(a=0===e.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(t),a},n.prototype.gcd=function(t){if(this.isZero())return t.abs()
;if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var a=e;e=r,r=a}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},
n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var a=n,s=i;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0
;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1
;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},
n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new M(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},
n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},
n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},
n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),
this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){
y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e
}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},
y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(g,y),g.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n]
;if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var a=t.words[9];for(e.words[e.length++]=a&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|a>>>22,a=s}a>>>=22,t.words[n-10]=a,0===a&&t.length>10?t.length-=10:t.length-=9},g.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,
0===t.words[t.length-1]&&t.length--),t},i(v,y),i(_,y),i(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new g;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return m[t]=e,e},M.prototype._verify1=function(t){
r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){
this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))
},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,
a.iushrn(1);r(!a.isZero());var o=new n(1).toRed(this),d=o.redNeg(),f=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);0!==this.pow(c,f).cmp(d);)c.redIAdd(d);for(var h=this.pow(c,a),u=this.pow(t,a.addn(1).iushrn(1)),l=this.pow(t,a),p=s;0!==l.cmp(o);){for(var b=l,m=0;0!==b.cmp(o);m++)b=b.redSqr();r(m<p);var y=this.pow(h,new n(1).iushln(p-m-1));u=u.redMul(y),h=y.redSqr(),l=l.redMul(h),p=m}return u},M.prototype.invm=function(t){var e=t._invmp(this.m)
;return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var a=r[0],s=0,o=0,d=e.bitLength()%26;for(0===d&&(d=26),i=e.length-1;i>=0;i--){for(var f=e.words[i],c=d-1;c>=0;c--){var h=f>>c&1;a!==r[0]&&(a=this.sqr(a)),0!==h||0!==s?(s<<=1,s|=h,
(4==++o||0===i&&0===c)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}d=26}return a},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new A(t)},i(A,M),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){
if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(i).iushrn(this.shift),s=a
;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(_n,hr);var wn=_n.exports,Mn={},An="6.5.4",xn={},Sn={};!function(t){var e=t;function r(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",i=0;i<t.length;i++)e+=r(t[i].toString(16));return e}e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){
for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),a=n>>8,s=255&n;a?r.push(a,s):r.push(s)}return r},e.zero2=r,e.toHex=i,e.encode=function(t,e){return"hex"===e?i(t):t}}(Sn),function(t){var e=t,r=_n.exports,i=Mr,n=Sn;e.assert=i,e.toArray=n.toArray,e.zero2=n.zero2,e.toHex=n.toHex,e.encode=n.encode,e.getNAF=function(t,e,r){
var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,a=t.clone(),s=0;s<i.length;s++){var o,d=a.andln(n-1);a.isOdd()?(o=d>(n>>1)-1?(n>>1)-d:d,a.isubn(o)):o=0,i[s]=o,a.iushrn(1)}return i},e.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,a=0;t.cmpn(-n)>0||e.cmpn(-a)>0;){var s,o,d=t.andln(3)+n&3,f=e.andln(3)+a&3;3===d&&(d=-1),3===f&&(f=-1),s=0==(1&d)?0:3!==(i=t.andln(7)+n&7)&&5!==i||2!==f?d:-d,r[0].push(s),
o=0==(1&f)?0:3!==(i=e.andln(7)+a&7)&&5!==i||2!==d?f:-f,r[1].push(o),2*n===s+1&&(n=1-n),2*a===o+1&&(a=1-a),t.iushrn(1),e.iushrn(1)}return r},e.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},e.parseBytes=function(t){return"string"==typeof t?e.toArray(t,"hex"):t},e.intFromLE=function(t){return new r(t,"hex","le")}}(xn);var kn={},In=_n.exports,En=xn,zn=En.getNAF,Nn=En.getJSF,Rn=En.assert;function Pn(t,e){this.type=t,
this.p=new In(e.p,16),this.red=e.prime?In.red(e.prime):In.mont(this.p),this.zero=new In(0).toRed(this.red),this.one=new In(1).toRed(this.red),this.two=new In(2).toRed(this.red),this.n=e.n&&new In(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,
this.redN=this.n.toRed(this.red))}var Tn=Pn;function Bn(t,e){this.curve=t,this.type=e,this.precomputed=null}Pn.prototype.point=function(){throw new Error("Not implemented")},Pn.prototype.validate=function(){throw new Error("Not implemented")},Pn.prototype._fixedNafMul=function(t,e){Rn(t.precomputed);var r=t._getDoubles(),i=zn(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;var a,s,o=[];for(a=0;a<i.length;a+=r.step){s=0;for(var d=a+r.step-1;d>=a;d--)s=(s<<1)+i[d];o.push(s)}
for(var f=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=n;h>0;h--){for(a=0;a<o.length;a++)(s=o[a])===h?c=c.mixedAdd(r.points[a]):s===-h&&(c=c.mixedAdd(r.points[a].neg()));f=f.add(c)}return f.toP()},Pn.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=zn(e,r,this._bitLength),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(var d=0;o>=0&&0===a[o];o--)d++;if(o>=0&&d++,s=s.dblp(d),o<0)break;var f=a[o];Rn(0!==f),
s="affine"===t.type?f>0?s.mixedAdd(n[f-1>>1]):s.mixedAdd(n[-f-1>>1].neg()):f>0?s.add(n[f-1>>1]):s.add(n[-f-1>>1].neg())}return"affine"===t.type?s.toP():s},Pn.prototype._wnafMulAdd=function(t,e,r,i,n){var a,s,o,d=this._wnafT1,f=this._wnafT2,c=this._wnafT3,h=0;for(a=0;a<i;a++){var u=(o=e[a])._getNAFPoints(t);d[a]=u.wnd,f[a]=u.points}for(a=i-1;a>=1;a-=2){var l=a-1,p=a;if(1===d[l]&&1===d[p]){var b=[e[l],null,null,e[p]];0===e[l].y.cmp(e[p].y)?(b[1]=e[l].add(e[p]),
b[2]=e[l].toJ().mixedAdd(e[p].neg())):0===e[l].y.cmp(e[p].y.redNeg())?(b[1]=e[l].toJ().mixedAdd(e[p]),b[2]=e[l].add(e[p].neg())):(b[1]=e[l].toJ().mixedAdd(e[p]),b[2]=e[l].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=Nn(r[l],r[p]);for(h=Math.max(y[0].length,h),c[l]=new Array(h),c[p]=new Array(h),s=0;s<h;s++){var g=0|y[0][s],v=0|y[1][s];c[l][s]=m[3*(g+1)+(v+1)],c[p][s]=0,f[l]=b}}else c[l]=zn(r[l],d[l],this._bitLength),c[p]=zn(r[p],d[p],this._bitLength),h=Math.max(c[l].length,h),
h=Math.max(c[p].length,h)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(a=h;a>=0;a--){for(var M=0;a>=0;){var A=!0;for(s=0;s<i;s++)w[s]=0|c[s][a],0!==w[s]&&(A=!1);if(!A)break;M++,a--}if(a>=0&&M++,_=_.dblp(M),a<0)break;for(s=0;s<i;s++){var x=w[s];0!==x&&(x>0?o=f[s][x-1>>1]:x<0&&(o=f[s][-x-1>>1].neg()),_="affine"===o.type?_.mixedAdd(o):_.add(o))}}for(a=0;a<i;a++)f[a]=null;return n?_:_.toP()},Pn.BasePoint=Bn,Bn.prototype.eq=function(){throw new Error("Not implemented")},
Bn.prototype.validate=function(){return this.curve.validate(this)},Pn.prototype.decodePoint=function(t,e){t=En.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Rn(t[t.length-1]%2==0):7===t[0]&&Rn(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Bn.prototype.encodeCompressed=function(t){
return this.encode(t,!0)},Bn.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Bn.prototype.encode=function(t,e){return En.encode(this._encode(e),t)},Bn.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,
this},Bn.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Bn.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var a=0;a<t;a++)i=i.dbl();r.push(i)}return{step:t,points:r}},Bn.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf
;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},Bn.prototype._getBeta=function(){return null},Bn.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var On=xn,qn=_n.exports,Un=xr.exports,Cn=Tn,Dn=On.assert;function jn(t){Cn.call(this,"short",t),this.a=new qn(t.a,16).toRed(this.red),this.b=new qn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),
this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Un(jn,Cn);var Ln=jn;function Fn(t,e,r,i){Cn.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new qn(e,16),this.y=new qn(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),
this.inf=!1)}function Vn(t,e,r,i){Cn.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new qn(0)):(this.x=new qn(e,16),this.y=new qn(r,16),this.z=new qn(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}jn.prototype._getEndomorphism=function(t){
if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new qn(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new qn(t.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(e))?r=n[0]:(r=n[1],Dn(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new qn(t.a,16),b:new qn(t.b,16)}
})):this._getEndoBasis(r)}}},jn.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:qn.mont(t),r=new qn(2).toRed(e).redInvm(),i=r.redNeg(),n=new qn(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},jn.prototype._getEndoBasis=function(t){for(var e,r,i,n,a,s,o,d,f,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,u=this.n.clone(),l=new qn(1),p=new qn(0),b=new qn(0),m=new qn(1),y=0;0!==h.cmpn(0);){var g=u.div(h);d=u.sub(g.mul(h)),
f=b.sub(g.mul(l));var v=m.sub(g.mul(p));if(!i&&d.cmp(c)<0)e=o.neg(),r=l,i=d.neg(),n=f;else if(i&&2==++y)break;o=d,u=h,h=d,b=l,l=f,m=p,p=v}a=d.neg(),s=f;var _=i.sqr().add(n.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=e,s=r),i.negative&&(i=i.neg(),n=n.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:i,b:n},{a:a,b:s}]},jn.prototype._endoSplit=function(t){
var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),a=r.b.neg().mul(t).divRound(this.n),s=n.mul(r.a),o=a.mul(i.a),d=n.mul(r.b),f=a.mul(i.b);return{k1:t.sub(s).sub(o),k2:d.add(f).neg()}},jn.prototype.pointFromX=function(t,e){(t=new qn(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd()
;return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},jn.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},jn.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<t.length;a++){var s=this._endoSplit(e[a]),o=t[a],d=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),d=d.neg(!0)),i[2*a]=o,i[2*a+1]=d,
n[2*a]=s.k1,n[2*a+1]=s.k2}for(var f=this._wnafMulAdd(1,i,n,2*a,r),c=0;c<2*a;c++)i[c]=null,n[c]=null;return f},Un(Fn,Cn.BasePoint),jn.prototype.point=function(t,e,r){return new Fn(this,t,e,r)},jn.prototype.pointFromJSON=function(t,e){return Fn.fromJSON(this,t,e)},Fn.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){
return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},Fn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,
points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Fn.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var a=e[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},Fn.prototype.inspect=function(){
return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Fn.prototype.isInfinity=function(){return this.inf},Fn.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()))
;var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Fn.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),s=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},Fn.prototype.getX=function(){
return this.x.fromRed()},Fn.prototype.getY=function(){return this.y.fromRed()},Fn.prototype.mul=function(t){return t=new qn(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Fn.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Fn.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r]
;return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Fn.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Fn.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,
points:r.doubles.points.map(i)}}}return e},Fn.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Un(Vn,Cn.BasePoint),jn.prototype.jpoint=function(t,e,r){return new Vn(this,t,e,r)},Vn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},Vn.prototype.neg=function(){
return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Vn.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),a=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),o=i.redSub(n),d=a.redSub(s);if(0===o.cmpn(0))return 0!==d.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl()
;var f=o.redSqr(),c=f.redMul(o),h=i.redMul(f),u=d.redSqr().redIAdd(c).redISub(h).redISub(h),l=d.redMul(h.redISub(u)).redISub(a.redMul(c)),p=this.z.redMul(t.z).redMul(o);return this.curve.jpoint(u,l,p)},Vn.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,a=t.y.redMul(e).redMul(this.z),s=r.redSub(i),o=n.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl()
;var d=s.redSqr(),f=d.redMul(s),c=r.redMul(d),h=o.redSqr().redIAdd(f).redISub(c).redISub(c),u=o.redMul(c.redISub(h)).redISub(n.redMul(f)),l=this.z.redMul(s);return this.curve.jpoint(h,u,l)},Vn.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,s=this.y,o=this.z,d=o.redSqr().redSqr(),f=s.redAdd(s)
;for(e=0;e<t;e++){var c=a.redSqr(),h=f.redSqr(),u=h.redSqr(),l=c.redAdd(c).redIAdd(c).redIAdd(i.redMul(d)),p=a.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),m=p.redISub(b),y=l.redMul(m);y=y.redIAdd(y).redISub(u);var g=f.redMul(o);e+1<t&&(d=d.redMul(u)),a=b,o=g,f=y}return this.curve.jpoint(a,f.redMul(n),o)},Vn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Vn.prototype._zeroDbl=function(){var t,e,r
;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var o=i.redAdd(i).redIAdd(i),d=o.redSqr().redISub(s).redISub(s),f=a.redIAdd(a);f=(f=f.redIAdd(f)).redIAdd(f),t=d,e=o.redMul(s.redISub(d)).redISub(f),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),u=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(c).redISub(u);l=l.redIAdd(l);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),m=u.redIAdd(u)
;m=(m=m.redIAdd(m)).redIAdd(m),t=b.redISub(l).redISub(l),e=p.redMul(l.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Vn.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var o=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=o.redSqr().redISub(s).redISub(s);t=d;var f=a.redIAdd(a);f=(f=f.redIAdd(f)).redIAdd(f),
e=o.redMul(s.redISub(d)).redISub(f),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),u=this.x.redMul(h),l=this.x.redSub(c).redMul(this.x.redAdd(c));l=l.redAdd(l).redIAdd(l);var p=u.redIAdd(u),b=(p=p.redIAdd(p)).redAdd(p);t=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=l.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},Vn.prototype._dbl=function(){
var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=e.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(t.redMul(n)),d=e.redAdd(e),f=(d=d.redIAdd(d)).redMul(s),c=o.redSqr().redISub(f.redAdd(f)),h=f.redISub(c),u=s.redSqr();u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=o.redMul(h).redISub(u),p=r.redAdd(r).redMul(i);return this.curve.jpoint(c,l,p)},Vn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this)
;var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),a=n.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(i),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),d=i.redIAdd(i);d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=n.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(d),c=e.redMul(f);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(o).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h)
;var u=this.y.redMul(f.redMul(d.redISub(f)).redISub(s.redMul(o)));u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(h,u,l)},Vn.prototype.mul=function(t,e){return t=new qn(t,e),this.curve._wnafMul(this,t)},Vn.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1
;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},Vn.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},Vn.prototype.inspect=function(){
return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Vn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Kn=_n.exports,Zn=xr.exports,Wn=Tn,$n=xn;function Hn(t){Wn.call(this,"mont",t),this.a=new Kn(t.a,16).toRed(this.red),this.b=new Kn(t.b,16).toRed(this.red),this.i4=new Kn(4).toRed(this.red).redInvm(),this.two=new Kn(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}
Zn(Hn,Wn);var Jn=Hn;function Gn(t,e,r){Wn.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Kn(e,16),this.z=new Kn(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Hn.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),i=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===i.redSqrt().redSqr().cmp(i)},Zn(Gn,Wn.BasePoint),
Hn.prototype.decodePoint=function(t,e){return this.point($n.toArray(t,e),1)},Hn.prototype.point=function(t,e){return new Gn(this,t,e)},Hn.prototype.pointFromJSON=function(t){return Gn.fromJSON(this,t)},Gn.prototype.precompute=function(){},Gn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Gn.fromJSON=function(t,e){return new Gn(t,e[0],e[1]||t.one)},Gn.prototype.inspect=function(){
return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Gn.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Gn.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),i=t.redMul(e),n=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},Gn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},
Gn.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=t.x.redAdd(t.z),a=t.x.redSub(t.z).redMul(r),s=n.redMul(i),o=e.z.redMul(a.redAdd(s).redSqr()),d=e.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,d)},Gn.prototype.mul=function(t){for(var e=t.clone(),r=this,i=this.curve.point(null,null),n=[];0!==e.cmpn(0);e.iushrn(1))n.push(e.andln(1));for(var a=n.length-1;a>=0;a--)0===n[a]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},
Gn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Gn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Gn.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},Gn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Gn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Yn=xn,Xn=_n.exports,Qn=xr.exports,ta=Tn,ea=Yn.assert;function ra(t){
this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,ta.call(this,"edwards",t),this.a=new Xn(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Xn(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Xn(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ea(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}Qn(ra,ta);var ia=ra;function na(t,e,r,i,n){ta.BasePoint.call(this,t,"projective"),
null===e&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Xn(e,16),this.y=new Xn(r,16),this.z=i?new Xn(i,16):this.curve.one,this.t=n&&new Xn(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,
this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ra.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},ra.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},ra.prototype.jpoint=function(t,e,r,i){return this.point(t,e,r,i)},ra.prototype.pointFromX=function(t,e){(t=new Xn(t,16)).red||(t=t.toRed(this.red))
;var r=t.redSqr(),i=this.c2.redSub(this.a.redMul(r)),n=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=i.redMul(n.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var o=s.fromRed().isOdd();return(e&&!o||!e&&o)&&(s=s.redNeg()),this.point(t,s)},ra.prototype.pointFromY=function(t,e){(t=new Xn(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),i=r.redSub(this.c2),n=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(n.redInvm())
;if(0===a.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},ra.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),i=e.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===i.cmp(n)},Qn(na,ta.BasePoint),
ra.prototype.pointFromJSON=function(t){return na.fromJSON(this,t)},ra.prototype.point=function(t,e,r,i){return new na(this,t,e,r,i)},na.fromJSON=function(t,e){return new na(t,e[0],e[1],e[2])},na.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},na.prototype.isInfinity=function(){
return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},na.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(t),n=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),a=i.redAdd(e),s=a.redSub(r),o=i.redSub(e),d=n.redMul(s),f=a.redMul(o),c=n.redMul(o),h=s.redMul(a);return this.curve.point(d,f,h,c)},na.prototype._projDbl=function(){
var t,e,r,i,n,a,s=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var f=(i=this.curve._mulA(o)).redAdd(d);this.zOne?(t=s.redSub(o).redSub(d).redMul(f.redSub(this.curve.two)),e=f.redMul(i.redSub(d)),r=f.redSqr().redSub(f).redSub(f)):(n=this.z.redSqr(),a=f.redSub(n).redISub(n),t=s.redSub(o).redISub(d).redMul(a),e=f.redMul(i.redSub(d)),r=f.redMul(a))}else i=o.redAdd(d),n=this.curve._mulC(this.z).redSqr(),a=i.redSub(n).redSub(n),
t=this.curve._mulC(s.redISub(i)).redMul(a),e=this.curve._mulC(i).redMul(o.redISub(d)),r=i.redMul(a);return this.curve.point(t,e,r)},na.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},na.prototype._extAdd=function(t){
var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),n=this.z.redMul(t.z.redAdd(t.z)),a=r.redSub(e),s=n.redSub(i),o=n.redAdd(i),d=r.redAdd(e),f=a.redMul(s),c=o.redMul(d),h=a.redMul(d),u=s.redMul(o);return this.curve.point(f,c,u,h)},na.prototype._projAdd=function(t){
var e,r,i=this.z.redMul(t.z),n=i.redSqr(),a=this.x.redMul(t.x),s=this.y.redMul(t.y),o=this.curve.d.redMul(a).redMul(s),d=n.redSub(o),f=n.redAdd(o),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(a).redISub(s),h=i.redMul(d).redMul(c);return this.curve.twisted?(e=i.redMul(f).redMul(s.redSub(this.curve._mulA(a))),r=d.redMul(f)):(e=i.redMul(f).redMul(s.redSub(a)),r=this.curve._mulC(d).redMul(f)),this.curve.point(h,e,r)},na.prototype.add=function(t){
return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},na.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},na.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},na.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},na.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm()
;return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},na.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},na.prototype.getX=function(){return this.normalize(),this.x.fromRed()},na.prototype.getY=function(){return this.normalize(),this.y.fromRed()},na.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},
na.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}},na.prototype.toP=na.prototype.normalize,na.prototype.mixedAdd=na.prototype.add,function(t){var e=t;e.base=Tn,e.short=Ln,e.mont=Jn,e.edwards=ia}(kn);var aa={},sa={doubles:{step:4,
points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]
},naf:{wnd:7,
points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}};!function(t){var e,r=t,i=_r,n=kn,a=xn.assert;function s(t){"short"===t.type?this.curve=new n.short(t):"edwards"===t.type?this.curve=new n.edwards(t):this.curve=new n.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var i=new s(e);return Object.defineProperty(r,t,{configurable:!0,enumerable:!0,
value:i}),i}})}r.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",
p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,
p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{
type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,
g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,
g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",
n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,
g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{e=sa}catch(t){e=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",e]})}(aa);var oa=_r,da=Sn,fa=Mr;function ca(t){if(!(this instanceof ca))return new ca(t);this.hash=t.hash,
this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=da.toArray(t.entropy,t.entropyEnc||"hex"),r=da.toArray(t.nonce,t.nonceEnc||"hex"),i=da.toArray(t.pers,t.persEnc||"hex");fa(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var ha=ca;ca.prototype._init=function(t,e,r){var i=t.concat(e).concat(r)
;this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},ca.prototype._hmac=function(){return new oa.hmac(this.hash,this.K)},ca.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),
this.V=this._hmac().update(this.V).digest())},ca.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=da.toArray(t,e),r=da.toArray(r,i),fa(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},ca.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=da.toArray(r,i||"hex"),this._update(r))
;for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,t);return this._update(r),this._reseed++,da.encode(a,e)};var ua=_n.exports,la=xn.assert;function pa(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ba=pa;pa.fromPublic=function(t,e,r){return e instanceof pa?e:new pa(t,{pub:e,pubEnc:r})},pa.fromPrivate=function(t,e,r){return e instanceof pa?e:new pa(t,{
priv:e,privEnc:r})},pa.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},pa.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},pa.prototype.getPrivate=function(t){
return"hex"===t?this.priv.toString(16,2):this.priv},pa.prototype._importPrivate=function(t,e){this.priv=new ua(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},pa.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?la(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||la(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},
pa.prototype.derive=function(t){return t.validate()||la(t.validate(),"public point not validated"),t.mul(this.priv).getX()},pa.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},pa.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},pa.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ma=_n.exports,ya=xn,ga=ya.assert;function va(t,e){if(t instanceof va)return t
;this._importDER(t,e)||(ga(t.r&&t.s,"Signature without r or s"),this.r=new ma(t.r,16),this.s=new ma(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var _a=va;function wa(){this.place=0}function Ma(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,a=0,s=e.place;a<i;a++,s++)n<<=8,n|=t[s],n>>>=0;return!(n<=127)&&(e.place=s,n)}function Aa(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++
;return 0===e?t:t.slice(e)}function xa(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}va.prototype._importDER=function(t,e){t=ya.toArray(t,e);var r=new wa;if(48!==t[r.place++])return!1;var i=Ma(t,r);if(!1===i)return!1;if(i+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var n=Ma(t,r);if(!1===n)return!1;var a=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var s=Ma(t,r);if(!1===s)return!1
;if(t.length!==s+r.place)return!1;var o=t.slice(r.place,s+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}return this.r=new ma(a),this.s=new ma(o),this.recoveryParam=null,!0},va.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Aa(e),r=Aa(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];xa(i,e.length),(i=i.concat(e)).push(2),xa(i,r.length)
;var n=i.concat(r),a=[48];return xa(a,n.length),a=a.concat(n),ya.encode(a,t)};var Sa=_n.exports,ka=ha,Ia=xn,Ea=aa,za=br.exports,Na=Ia.assert,Ra=ba,Pa=_a;function Ta(t){if(!(this instanceof Ta))return new Ta(t);"string"==typeof t&&(Na(Object.prototype.hasOwnProperty.call(Ea,t),"Unknown curve "+t),t=Ea[t]),t instanceof Ea.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),
this.hash=t.hash||t.curve.hash}var Ba=Ta;Ta.prototype.keyPair=function(t){return new Ra(this,t)},Ta.prototype.keyFromPrivate=function(t,e){return Ra.fromPrivate(this,t,e)},Ta.prototype.keyFromPublic=function(t,e){return Ra.fromPublic(this,t,e)},Ta.prototype.genKeyPair=function(t){t||(t={});for(var e=new ka({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||za(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()
}),r=this.n.byteLength(),i=this.n.sub(new Sa(2));;){var n=new Sa(e.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Ta.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Ta.prototype.sign=function(t,e,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Sa(t,16))
;for(var n=this.n.byteLength(),a=e.getPrivate().toArray("be",n),s=t.toArray("be",n),o=new ka({hash:this.hash,entropy:a,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new Sa(1)),f=0;;f++){var c=i.k?i.k(f):new Sa(o.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(d)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var u=h.getX(),l=u.umod(this.n);if(0!==l.cmpn(0)){var p=c.invm(this.n).mul(l.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){
var b=(h.getY().isOdd()?1:0)|(0!==u.cmp(l)?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new Pa({r:l,s:p,recoveryParam:b})}}}}}},Ta.prototype.verify=function(t,e,r,i){t=this._truncateToN(new Sa(t,16)),r=this.keyFromPublic(r,i);var n=(e=new Pa(e,"hex")).r,a=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,o=a.invm(this.n),d=o.mul(t).umod(this.n),f=o.mul(n).umod(this.n)
;return this.curve._maxwellTrick?!(s=this.g.jmulAdd(d,r.getPublic(),f)).isInfinity()&&s.eqXToP(n):!(s=this.g.mulAdd(d,r.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(n)},Ta.prototype.recoverPubKey=function(t,e,r,i){Na((3&r)===r,"The recovery param is more than two bits"),e=new Pa(e,i);var n=this.n,a=new Sa(t),s=e.r,o=e.s,d=1&r,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate")
;s=f?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var c=e.r.invm(n),h=n.sub(a).mul(c).umod(n),u=o.mul(c).umod(n);return this.g.mulAdd(h,s,u)},Ta.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new Pa(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(t,e,n)}catch(t){continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Oa=xn,qa=Oa.assert,Ua=Oa.parseBytes,Ca=Oa.cachedProperty
;function Da(t,e){this.eddsa=t,this._secret=Ua(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Ua(e.pub)}Da.fromPublic=function(t,e){return e instanceof Da?e:new Da(t,{pub:e})},Da.fromSecret=function(t,e){return e instanceof Da?e:new Da(t,{secret:e})},Da.prototype.secret=function(){return this._secret},Ca(Da,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),Ca(Da,"pub",(function(){
return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Ca(Da,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i})),Ca(Da,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),Ca(Da,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),Ca(Da,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),
Da.prototype.sign=function(t){return qa(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},Da.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},Da.prototype.getSecret=function(t){return qa(this._secret,"KeyPair is public only"),Oa.encode(this.secret(),t)},Da.prototype.getPublic=function(t){return Oa.encode(this.pubBytes(),t)};var ja=Da,La=_n.exports,Fa=xn,Va=Fa.assert,Ka=Fa.cachedProperty,Za=Fa.parseBytes;function Wa(t,e){this.eddsa=t,"object"!=typeof e&&(e=Za(e)),
Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Va(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof La&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Ka(Wa,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Ka(Wa,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Ka(Wa,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),
Ka(Wa,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Wa.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Wa.prototype.toHex=function(){return Fa.encode(this.toBytes(),"hex").toUpperCase()};var $a=Wa,Ha=_r,Ja=aa,Ga=xn,Ya=Ga.assert,Xa=Ga.parseBytes,Qa=ja,ts=$a;function es(t){if(Ya("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof es))return new es(t);t=Ja[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),
this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Ha.sha512}var rs=es;function is(t,e,r,i){var n,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,r,s):n(e,r))||s);return a>3&&s&&Object.defineProperty(e,r,s),s
/**
   * EOSIO Core v0.6.1
   * https://github.com/greymass/eosio-core
   *
   * @license
   * Copyright (c) 2020 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   *  1. Redistribution of source code must retain the above copyright notice, this
   *     list of conditions and the following disclaimer.
   * 
   *  2. Redistribution in binary form must reproduce the above copyright notice,
   *     this list of conditions and the following disclaimer in the documentation
   *     and/or other materials provided with the distribution.
   * 
   *  3. Neither the name of the copyright holder nor the names of its contributors
   *     may be used to endorse or promote products derived from this software without
   *     specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
   * OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
   * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
   */}function ns(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}es.prototype.sign=function(t,e){t=Xa(t);var r=this.keyFromSecret(e),i=this.hashInt(r.messagePrefix(),t),n=this.g.mul(i),a=this.encodePoint(n),s=this.hashInt(a,r.pubBytes(),t).mul(r.priv()),o=i.add(s).umod(this.curve.n);return this.makeSignature({R:n,S:o,Rencoded:a})},es.prototype.verify=function(t,e,r){t=Xa(t),e=this.makeSignature(e)
;var i=this.keyFromPublic(r),n=this.hashInt(e.Rencoded(),i.pubBytes(),t),a=this.g.mul(e.S());return e.R().add(i.pub().mul(n)).eq(a)},es.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return Ga.intFromLE(t.digest()).umod(this.curve.n)},es.prototype.keyFromPublic=function(t){return Qa.fromPublic(this,t)},es.prototype.keyFromSecret=function(t){return Qa.fromSecret(this,t)},es.prototype.makeSignature=function(t){
return t instanceof ts?t:new ts(this,t)},es.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},es.prototype.decodePoint=function(t){var e=(t=Ga.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),n=Ga.intFromLE(r);return this.curve.pointFromY(n,i)},es.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},es.prototype.decodeInt=function(t){return Ga.intFromLE(t)},
es.prototype.isPoint=function(t){return t instanceof this.pointClass},function(t){var e=t;e.version=An,e.utils=xn,e.rand=br.exports,e.curve=kn,e.curves=aa,e.ec=Ba,e.eddsa=rs}(Mn);const as={};function ss(){as.enc=new Array(255),as.dec={};for(let t=0;t<=255;++t){const e=t.toString(16).padStart(2,"0");as.enc[t]=e,as.dec[e]=t}}function os(t){as.enc||ss();const e=t.length,r=new Array(e);for(let i=0;i<e;++i)r[i]=as.enc[t[i]];return r.join("")}function ds(t){return vr(t)}let fs=!1;function cs(t,e){
if(t instanceof e)return!0;if(null==t||"object"!=typeof t)return!1;const r=e.__className||e.abiName;if(!r)return!1;let i=t.constructor,n=!1;for(;i&&!n;){const t=i.__className||i.abiName;if(!t)break;n=r==t,i=Object.getPrototypeOf(i)}return n&&!fs&&(console.warn(`Detected alien instance of ${r}, this usually means more than one version of @greymass/eosio has been included in your bundle.`),fs=!0),n}class hs{constructor(t=new Uint8Array){this.array=t}static from(t,e){
return cs(t,this)?t:"string"==typeof t?this.fromString(t,e):ArrayBuffer.isView(t)?new this(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)):cs(t.array,Uint8Array)?new this(t.array):new this(new Uint8Array(t))}static fromString(t,e="hex"){if("hex"===e){const e=function(t){if(as.dec||ss(),"string"!=typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");const e=(t=t.toLowerCase()).length/2,r=new Uint8Array(e)
;for(let i=0;i<e;i++){const e=as.dec[t[2*i]+t[2*i+1]];if(void 0===e)throw new Error("Expected hex string");r[i]=e}return r}(t);return new this(e)}if("utf8"==e){return new this((new TextEncoder).encode(t))}throw new Error(`Unknown encoding: ${e}`)}static fromABI(t){const e=t.readVaruint32();return new this(t.readArray(e))}static abiDefault(){return new hs}static equal(t,e){return this.from(t).equals(this.from(e))}static random(t){return new this(ds(t))}static isBytes(t){
return!(!cs(t,hs)&&!cs(t,Uint8Array))||(!(!Array.isArray(t)||!t.every((t=>"number"==typeof t)))||!("string"!=typeof t||!/[\da-f]/i.test(t)&&""!==t))}get hexString(){return os(this.array)}get utf8String(){return(new TextDecoder).decode(this.array)}append(t){t=hs.from(t);const e=this.array.byteLength+t.array.byteLength,r=new ArrayBuffer(e),i=new Uint8Array(r);i.set(this.array),i.set(t.array,this.array.byteLength),this.array=i}appending(t){const e=new hs(this.array);return e.append(t),e}
droppingFirst(t=1){return new hs(this.array.subarray(t))}copy(){const t=new ArrayBuffer(this.array.byteLength),e=new Uint8Array(t);return e.set(this.array),new hs(e)}equals(t){return ns(this.array,hs.from(t).array)}toString(t="hex"){if("hex"===t)return this.hexString;if("utf8"===t)return this.utf8String;throw new Error(`Unknown encoding: ${t}`)}toABI(t){t.writeVaruint32(this.array.byteLength),t.writeArray(this.array)}toJSON(){return this.hexString}}hs.abiName="bytes";class us{constructor(t){
const e=this.constructor.byteSize;if(t.byteLength!==e)throw new Error(`Checksum size mismatch, expected ${e} bytes got ${t.byteLength}`);this.array=t}static from(t){return cs(t,this)?t:cs(t,us)?new this(t.array):new this(hs.from(t).array)}static fromABI(t){return new this(t.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}equals(t){const e=this.constructor;try{return ns(this.array,e.from(t).array)}catch{return!1}}get hexString(){return os(this.array)}
toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}us.abiName="__checksum";class ls extends us{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array(_r.sha256().update(hs.from(t).array).digest());return new ls(e)}}ls.abiName="checksum256",ls.byteSize=32;class ps extends us{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array(_r.sha512().update(hs.from(t).array).digest());return new ps(e)}}
ps.abiName="checksum512",ps.byteSize=64;class bs extends us{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array(_r.ripemd160().update(hs.from(t).array).digest());return new bs(e)}}bs.abiName="checksum160",bs.byteSize=20,t.KeyType=void 0,function(t){t.K1="K1",t.R1="R1",t.WA="WA"}(t.KeyType||(t.KeyType={})),function(t){t.indexFor=function(e){switch(e){case t.K1:return 0;case t.R1:return 1;case t.WA:return 2;default:throw new Error(`Unknown curve type: ${e}`)}},
t.from=function(e){let r;switch(r="number"!=typeof e?t.indexFor(e):e,r){case 0:return t.K1;case 1:return t.R1;case 2:return t.WA;default:throw new Error("Unknown curve type")}}}(t.KeyType||(t.KeyType={}));class ms{constructor(t){const e=this.constructor;if(void 0===e.isSigned||void 0===e.byteWidth)throw new Error("Cannot instantiate abstract class Int");if(t.gt(e.max))throw new Error(`Number ${t} overflows ${e.abiName}`);if(t.lt(e.min))throw new Error(`Number ${t} underflows ${e.abiName}`)
;this.value=t}static get max(){return new wn(2).pow(new wn(8*this.byteWidth-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new wn(0)}static add(t,e,r="truncate"){return ms.operator(t,e,r,((t,e)=>t.add(e)))}static sub(t,e,r){return ms.operator(t,e,r,((t,e)=>t.sub(e)))}static mul(t,e,r){return ms.operator(t,e,r,((t,e)=>t.mul(e)))}static div(t,e,r){return ms.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");return t.div(e)}))}
static divRound(t,e,r){return ms.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");return t.divRound(e)}))}static divCeil(t,e,r){return ms.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");const r=t.divmod(e);return r.mod.isZero()?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)}))}static operator(t,e,r="truncate",i){const{a:n,b:a}=function(t,e){t=zs(t),e=zs(e);const r=t.constructor,i=e.constructor
;r!==i&&(r.isSigned===i.isSigned?r.byteWidth>i.byteWidth?e=e.cast(r):i.byteWidth>r.byteWidth&&(t=t.cast(i)):!1===r.isSigned&&r.byteWidth>=i.byteWidth?e=e.cast(r):!1===i.isSigned&&i.byteWidth>=r.byteWidth?t=t.cast(i):!0===r.isSigned&&r.max.gte(i.max)&&r.min.lte(i.min)?e=e.cast(r):!0===i.isSigned&&i.max.gte(r.max)&&i.min.lte(r.min)&&(t=t.cast(i)));return{a:t,b:e}}(t,e),s=n.constructor,o=i(n.value,a.value);return s.from(o,r)}static from(t,e){if(cs(t,this))return t;let r,i=this
;if(cs(t,ms))i=t.constructor,r=t.value.clone();else if(t instanceof Uint8Array)r=new wn(t,void 0,"le"),i.isSigned&&(r=r.fromTwos(8*i.byteWidth));else{if("string"==typeof t&&!/[0-9]+/.test(t)||"number"==typeof t&&!Number.isFinite(t))throw new Error("Invalid number");r=wn.isBN(t)?t.clone():new wn(t,10),r.isNeg()&&!i.isSigned&&(i={byteWidth:i.byteWidth,isSigned:!0})}switch(e){case"clamp":n=r,a=this.min,s=this.max,r=wn.min(wn.max(n,a),s);break;case"truncate":r=function(t,e,r){
const i=t.isNeg()?255:0,n=(e.isSigned?t.toTwos(8*e.byteWidth):t).toArrayLike(Uint8Array,"le"),a=new Uint8Array(r.byteWidth);a.fill(i),a.set(n.slice(0,r.byteWidth));const s=new wn(a,void 0,"le");return r.isSigned?s.fromTwos(8*r.byteWidth):s}(r,i,this)}var n,a,s;return new this(r)}static fromABI(t){return this.from(t.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(ds(this.byteWidth))}cast(t,e="truncate"){
return this.constructor===t?this:t.from(this,e)}get byteArray(){const t=this.constructor;return(t.isSigned?this.value.toTwos(8*t.byteWidth):this.value).toArrayLike(Uint8Array,"le",t.byteWidth)}equals(t,e=!1){const r=this.constructor;if(!0===e&&cs(t,ms)){const e=t.constructor;if(r.byteWidth!==e.byteWidth||r.isSigned!==e.isSigned)return!1}try{return this.value.eq(r.from(t).value)}catch{return!1}}add(t){this.value=this.operator(t,ms.add).value}adding(t){return this.operator(t,ms.add)}subtract(t){
this.value=this.operator(t,ms.sub).value}subtracting(t){return this.operator(t,ms.sub)}multiply(t){this.value=this.operator(t,ms.mul).value}multiplying(t){return this.operator(t,ms.mul)}divide(t,e){this.value=this.dividing(t,e).value}dividing(t,e){let r=ms.div;switch(e){case"ceil":r=ms.divCeil;break;case"round":r=ms.divRound}return this.operator(t,r)}operator(t,e){let r;return r=cs(t,ms)?t:_s.from(t,"truncate"),e(this,r).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){
return this.value.toString()}[Symbol.toPrimitive](t){return"number"===t?this.toNumber():this.toString()}toABI(t){t.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}ms.abiName="__int";class ys extends ms{}ys.abiName="int8",ys.byteWidth=1,ys.isSigned=!0;class gs extends ms{}gs.abiName="int16",gs.byteWidth=2,gs.isSigned=!0;class vs extends ms{}vs.abiName="int32",vs.byteWidth=4,vs.isSigned=!0;class _s extends ms{}_s.abiName="int64",
_s.byteWidth=8,_s.isSigned=!0;class ws extends ms{}ws.abiName="int128",ws.byteWidth=16,ws.isSigned=!0;class Ms extends ms{}Ms.abiName="uint8",Ms.byteWidth=1,Ms.isSigned=!1;class As extends ms{}As.abiName="uint16",As.byteWidth=2,As.isSigned=!1;class xs extends ms{}xs.abiName="uint32",xs.byteWidth=4,xs.isSigned=!1;class Ss extends ms{}Ss.abiName="uint64",Ss.byteWidth=8,Ss.isSigned=!1;class ks extends ms{}ks.abiName="uint128",ks.byteWidth=16,ks.isSigned=!1;class Is extends ms{static fromABI(t){
return new this(new wn(t.readVarint32()))}toABI(t){t.writeVarint32(Number(this))}}Is.abiName="varint32",Is.byteWidth=32,Is.isSigned=!0;class Es extends ms{static fromABI(t){return new this(new wn(t.readVaruint32()))}toABI(t){t.writeVaruint32(Number(this))}}function zs(t){let e=t;return t.constructor.byteWidth<4&&(e=t.cast(vs)),e}function Ns(t){const e=[],r=[],i=[],n=new Set,a=t=>{let e;return e="string"!=typeof t.type?s(t.type):t.type,!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),
!0===t.extension&&(e+="$"),e},s=t=>{if(!t.abiName)throw new Error("Encountered non-conforming type");if("__struct"===t.abiName)throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?");if(n.has(t))return t.abiName;if(n.add(t),t.abiAlias)i.push({new_type_name:t.abiName,type:a(t.abiAlias)});else if(t.abiFields){const r=t.abiFields.map((t=>({name:t.name,type:a(t)}))),i={base:t.abiBase?s(t.abiBase):"",name:t.abiName,fields:r};e.push(i)}else if(t.abiVariant){const e={
name:t.abiName,types:t.abiVariant.map(a)};r.push(e)}return t.abiName},o=s(t);return{abi:oo.from({structs:e,variants:r,types:i}),types:Array.from(n),root:o}}function Rs(t){let e="string"==typeof t.type?t.type:t.type.abiName;return!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),!0===t.extension&&(e+="$"),e}function Ps(t){return"string"==typeof t||void 0!==t.abiName?{type:t}:t}Es.abiName="varuint32",Es.byteWidth=32,Es.isSigned=!1;const Ts={abiName:"string",abiDefault:()=>"",
fromABI:t=>t.readString(),from:t=>t,toABI:(t,e)=>{e.writeString(t)}},Bs={abiName:"bool",abiDefault:()=>!1,fromABI:t=>1===t.readByte(),from:t=>t,toABI:(t,e)=>{e.writeByte(!0===t?1:0)}};function Os(t=[]){const e={},r=[Bs,Ts,fo,fo.Symbol,fo.SymbolCode,so,hs,bs,ls,ps,co,eo,Qs,to,ws,gs,vs,_s,ys,ro,bo,go,no,ao,ks,As,xs,Ss,Ms,Is,Es];for(const t of r)e[t.abiName]=t;for(const r of t){if(!r.abiName)throw new Error("Invalid type");e[r.abiName]=r}return e}function qs(t){
if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor.abiName;if(Array.isArray(t)){const e=t.map(qs),r=e[0];if(!r||!e.every((t=>t===r)))return;return r+"[]"}switch(typeof t){case"boolean":return"bool";case"string":return"string"}}function Us(t,e="jsobj"){var r;if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor;if(Array.isArray(t)){const r=t.map((t=>Us(t,e))),i=r[0];if(!i)return;if(!r.every((t=>t&&t.abiName===i.abiName)))return;return i}const i=typeof t
;if("object"===i&&null!==t){const i=Object.keys(t).map((r=>({name:r,type:Us(t[r],e+"_nested")})));if(i.find((t=>!t.type)))return;return(r=class extends Js{}).abiName=e,r.abiFields=i,r}switch(i){case"boolean":return Bs;case"string":return Ts}}class Cs extends Error{constructor(t,e){super(`Decoding error at ${t.codingPath.map((({field:t,type:e})=>"number"==typeof t?t:`${t}<${e.typeName}>`)).join(".")}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function Ds(t){
const e=Ps(t.type),r=Rs(e),i=t.customTypes||[];let n;if(t.abi)n=oo.from(t.abi);else try{let t;if("string"==typeof e.type){const r=Os(i);if(t=r[new oo.ResolvedType(e.type).name],!t)throw new Error(`Unknown type: ${e.type}`)}else t=e.type;const r=Ns(t);n=r.abi,i.push(...r.types)}catch(t){throw Error(`Unable to synthesize ABI for: ${r} (${t.message}). To decode non-class types you need to pass the ABI definition manually.`)}const a=n.resolveType(r);"string"!=typeof e.type&&i.unshift(e.type)
;const s={types:Os(i),strictExtensions:t.strictExtensions||!1,codingPath:[{field:"root",type:a}]};try{if(t.data){let e;if(cs(t.data,Ks))e=t.data;else{const r=hs.from(t.data);e=new Ks(r.array)}return t.metadata&&(e.metadata=t.metadata),Ls(a,e,s)}if(void 0!==t.object)return Fs(t.object,a,s);if(t.json)return Fs(JSON.parse(t.json),a,s);throw new Error("Nothing to decode, you must set one of data, json, object")}catch(t){throw new Cs(s,t)}}Cs.__className="DecodingError";const js=Symbol("Resolved")
;function Ls(t,e,r){if(r.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(t.isExtension&&!e.canRead())return r.strictExtensions?Vs(t,r):null;if(t.isOptional&&0===e.readByte())return null;if(t.isArray){const n=e.readVaruint32(),a=[];for(let e=0;e<n;e++)r.codingPath.push({field:e,type:t}),a.push(i()),r.codingPath.pop();return a}return i();function i(){const i=r.types[t.name];if(i&&i.fromABI)return i.fromABI(e);if(t.ref){r.codingPath.push({field:"",type:t.ref})
;const i=Ls(t.ref,e,r);return r.codingPath.pop(),i}if(t.fields){const n=t.allFields;if(!n)throw new Error("Invalid struct fields");const a={};for(const t of n)r.codingPath.push({field:t.name,type:t.type}),a[t.name]=Ls(t.type,e,r),r.codingPath.pop();return i?(a[js]=!0,i.from(a)):a}if(t.variant){const n=e.readByte(),a=t.variant[n];if(!a)throw new Error(`Unknown variant idx: ${n}`);r.codingPath.push({field:`v${n}`,type:a});const s=[a.typeName,Ls(a,e,r)];return r.codingPath.pop(),i?i.from(s):s}
throw i?new Error("Invalid type"):new Error("any"===t.name?"Unable to decode 'any' type from binary":"Unknown type")}}function Fs(t,e,r){if(null==t){if(e.isOptional)return null;if(e.isExtension)return r.strictExtensions?Vs(e,r):null;throw new Error(`Unexpectedly encountered ${t} for non-optional`)}if(e.isArray){if(!Array.isArray(t))throw new Error("Expected array");const n=[],a=t.length;for(let s=0;s<a;s++)r.codingPath.push({field:s,type:e}),n.push(i(t[s])),r.codingPath.pop();return n}
return i(t);function i(t){const i=r.types[e.name];if(e.ref&&!i)return Fs(t,e.ref,r);if(e.fields){if("object"!=typeof t)throw new Error("Expected object");if("function"==typeof i&&cs(t,i))return t;const n=e.allFields;if(!n)throw new Error("Invalid struct fields");const a={};for(const e of n)r.codingPath.push({field:e.name,type:e.type}),a[e.name]=Fs(t[e.name],e.type,r),r.codingPath.pop();return i?(a[js]=!0,i.from(a)):a}if(e.variant){let n
;Array.isArray(t)&&2===t.length&&"string"==typeof t[0]?(n=t[0],t=t[1]):cs(t,Ys)?(n=t.variantName,t=t.value):n=qs(t);const a=e.variant.findIndex((t=>t.typeName===n));if(-1===a)throw new Error(`Unknown variant type: ${n}`);const s=e.variant[a];r.codingPath.push({field:`v${a}`,type:s});const o=[s.typeName,Fs(t,s,r)];return r.codingPath.pop(),i?(o[js]=!0,i.from(o)):o}if(!i){if("any"===e.name)return t;throw new Error("Unknown type")}return i.from(t)}}function Vs(t,e,r=new Set){if(t.isArray)return[]
;if(t.isOptional)return null;const i=e.types[t.name];if(i&&i.abiDefault)return i.abiDefault();if(r.has(t.name))throw new Error("Circular type reference");if(r.add(t.name),t.allFields){const n={};for(const i of t.allFields)e.codingPath.push({field:i.name,type:i.type}),n[i.name]=Vs(i.type,e,r),e.codingPath.pop();return i?(n[js]=!0,i.from(n)):n}if(t.variant&&t.variant.length>0){const r=[t.variant[0].typeName,Vs(t.variant[0],e)];return i?(r[js]=!0,i.from(r)):r}if(t.ref){e.codingPath.push({field:"",
type:t.ref});const i=Vs(t.ref,e,r);return e.codingPath.pop(),i}throw new Error("Unable to determine default value")}class Ks{constructor(t){this.array=t,this.pos=0,this.textDecoder=new TextDecoder("utf-8",{fatal:!0}),this.metadata={},this.data=new DataView(t.buffer,t.byteOffset,t.byteLength)}canRead(t=1){return!(this.pos+t>this.array.byteLength)}ensure(t){if(!this.canRead(t))throw new Error("Read past end of buffer")}setPosition(t){
if(t<0||t>this.array.byteLength)throw new Error("Invalid position");this.pos=t}getPosition(){return this.pos}advance(t){this.ensure(t),this.pos+=t}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(t){let e;switch(this.ensure(t),t){case 4:e=this.data.getFloat32(this.pos,!0);break;case 8:e=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=t,e}readVaruint32(){let t=0,e=0;for(;;){const r=this.readByte();if(t|=(127&r)<<e,e+=7,
!(128&r))break}return t>>>0}readVarint32(){const t=this.readVaruint32();return 1&t?~t>>1|2147483648:t>>>1}readArray(t){this.ensure(t);const e=this.array.subarray(this.pos,this.pos+t);return this.pos+=t,e}readString(){const t=this.readVaruint32();return this.textDecoder.decode(this.readArray(t))}}Ks.__className="ABIDecoder";class Zs extends Error{constructor(t,e){
super(`Encoding error at ${t.codingPath.map((({field:t,type:e})=>"number"==typeof t?t:`${t}<${e.typeName}>`)).join(".")}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function Ws(t){let e,r;"string"==typeof t.type?r=t.type:t.type&&function(t){return"string"!=typeof t&&void 0===t.abiName&&void 0!==t.type}(t.type)?("string"!=typeof t.type.type&&(e=t.type.type),r=Rs(t.type)):t.type&&void 0!==t.type.abiName?(e=t.type,r=t.type.abiName):(e=Us(t.object),e&&(r=e.abiName,
Array.isArray(t.object)&&(r+="[]")));const i=t.customTypes?t.customTypes.slice():[];if(e)i.unshift(e);else if(r){const t=new oo.ResolvedType(r).name;e=i.find((e=>e.abiName===t))}let n;if(t.abi&&r)n=oo.from(t.abi).resolveType(r);else if(e){const t=Ns(e);n=t.abi.resolveType(r||e.abiName),i.push(...t.types)}else{if(!r)throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");n=new oo.ResolvedType(r)}
const a=Os(i),s=t.encoder||new Hs;t.metadata&&(s.metadata=t.metadata);const o={types:a,encoder:s,codingPath:[{field:"root",type:n}]};try{$s(t.object,n,o)}catch(t){throw new Zs(o,t)}return hs.from(s.getData())}function $s(t,e,r){const i=null!=t;if(!e.isOptional||(r.encoder.writeByte(i?1:0),i))if(e.isArray){if(!Array.isArray(t))throw new Error(`Expected array for: ${e.typeName}`);const i=t.length;r.encoder.writeVaruint32(i);for(let a=0;a<i;a++)r.codingPath.push({field:a,type:e}),n(t[a]),
r.codingPath.pop()}else n(t);function n(t){const n=r.types[e.name];if(!e.ref||n){if(!i){if(e.isExtension)return;throw new Error(`Found ${t} for non-optional type: ${e.typeName}`)}if(n&&n.toABI)n.toABI(t,r.encoder);else if("function"==typeof t.toABI&&t.constructor.abiName===e.name)t.toABI(r.encoder);else if(e.fields){if("object"!=typeof t)throw new Error(`Expected object for: ${e.name}`);const i=e.allFields;if(!i)throw new Error("Invalid struct fields");for(const e of i)r.codingPath.push({
field:e.name,type:e.type}),$s(t[e.name],e.type,r),r.codingPath.pop()}else if(e.variant){let i;Array.isArray(t)&&2===t.length&&"string"==typeof t[0]?(i=t[0],t=t[1]):cs(t,Ys)?(i=t.variantName,t=t.value):i=qs(t);const n=e.variant.findIndex((t=>t.typeName===i));if(-1===n){const t=e.variant.map((t=>`'${t.typeName}'`)).join(", ");throw new Error(`Unknown variant type '${i}', expected one of ${t}`)}const a=e.variant[n];r.encoder.writeVaruint32(n),r.codingPath.push({field:`v${n}`,type:a}),$s(t,a,r),
r.codingPath.pop()}else{if(!n)throw new Error("any"===e.name?"Unable to encode any type to binary":"Unknown type");const i=n.from(t);if(!i.toABI)throw new Error(`Invalid type ${e.name}, no encoding methods implemented`);i.toABI(r.encoder)}}else $s(t,e.ref,r)}}Zs.__className="EncodingError";class Hs{constructor(t=1024){this.pageSize=t,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const e=new ArrayBuffer(t);this.data=new DataView(e),this.array=new Uint8Array(e)}ensure(t){
if(this.data.byteLength>=this.pos+t)return;const e=Math.ceil(t/this.pageSize),r=this.data.byteLength+this.pageSize*e,i=new ArrayBuffer(r),n=new DataView(i),a=new Uint8Array(i);a.set(this.array),this.data=n,this.array=a}writeByte(t){this.ensure(1),this.array[this.pos++]=t}writeArray(t){const e=t.length;this.ensure(e),this.array.set(t,this.pos),this.pos+=e}writeFloat(t,e){switch(this.ensure(e),e){case 4:this.data.setFloat32(this.pos,t,!0);break;case 8:this.data.setFloat64(this.pos,t,!0);break
;default:throw new Error("Invalid float size")}this.pos+=e}writeVaruint32(t){for(this.ensure(4);;){if(!(t>>>7)){this.array[this.pos++]=t;break}this.array[this.pos++]=128|127&t,t>>>=7}}writeVarint32(t){this.writeVaruint32(t<<1^t>>31)}writeString(t){const e=this.textEncoder.encode(t);this.writeVaruint32(e.byteLength),this.writeArray(e)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new hs(this.getData())}}Hs.__className="ABIEncoder";class Js{
constructor(t){const e=this.constructor;for(const r of e.structFields)this[r.name]=t[r.name]}static from(t){return!0===t[js]?new this(t):cs(t,this)?t:Ds({object:t,type:this})}static get structFields(){const t=[],e=r=>{r.abiBase&&e(r.abiBase);for(const e of r.abiFields||[])t.push(e)};return e(this),t}equals(t){const e=this.constructor;return(!t.constructor||"string"!=typeof t.constructor.abiName||t.constructor.abiName===e.abiName)&&Ws({object:this}).equals(Ws({object:e.from(t)}))}toJSON(){
const t=this.constructor,e={};for(const r of t.structFields)e[r.name]=this[r.name];return e}}function Gs(t){return function(e){return e.abiAlias={type:Object.getPrototypeOf(e.prototype).constructor},e.abiName=t,e}}Js.abiName="__struct",function(t){const e=Symbol("FieldsOwner");t.type=function(t){return function(e){return e.abiName=t,e}},t.field=function(t,r){return r||(r={}),(i,n)=>{const a=i.constructor;a.abiFields?a.abiFields[e]!==a&&(a.abiBase=a.abiFields[e],a.abiFields=[],
a.abiFields[e]=a):(a.abiFields=[],a.abiFields[e]=a),a.abiFields.push({...r,name:n,type:t})}}}(Js||(Js={}));class Ys{constructor(t){const e=this.constructor.abiVariant;this.value=t[1];const r=e.map(Rs).findIndex((e=>e===t[0]));if(0>r||e.length<=r)throw new Error(`Unknown variant ${t[0]}`);this.variantIdx=r}static from(t){return t[js]?new this(t):cs(t,this)?t:Ds({object:t,type:this})}equals(t){const e=this.constructor.from(t);return this.variantIdx===e.variantIdx&&Ws({object:this}).equals(Ws({
object:e}))}get variantName(){return Rs(this.constructor.abiVariant[this.variantIdx])}toJSON(){return[this.variantName,this.value]}}Ys.abiName="__variant",Ys.abiVariant=[],function(t){t.type=function(t,e){return function(r){return r.abiName=t,r.abiVariant=e.map(Ps),r}}}(Ys||(Ys={}));class Xs{constructor(t){if(!Number.isFinite(t))throw new Error("Invalid number");this.value=t}static from(t){return cs(t,this)?t:("string"==typeof t?t=Number.parseFloat(t):cs(t,Xs)&&(t=t.value),new this(t))}
static fromABI(t){return new this(t.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const t=ds(this.byteWidth),e=new Ks(t);return this.fromABI(e)}equals(t){const e=this.constructor;return this.value===e.from(t).value}toABI(t){const e=this.constructor;t.writeFloat(this.value,e.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}Xs.abiName="__float";class Qs extends Xs{toString(){return this.value.toFixed(7)}}Qs.abiName="float32",
Qs.byteWidth=4;class to extends Xs{}to.abiName="float64",to.byteWidth=8;class eo{constructor(t){if(16!==t.array.length)throw new Error("Invalid float128");this.data=t}static from(t){return cs(t,this)?t:("string"==typeof t&&t.startsWith("0x")&&(t=t.slice(2)),new this(hs.from(t)))}static fromABI(t){return new this(new hs(t.readArray(this.byteWidth)))}static random(){const t=ds(16),e=new Ks(t);return this.fromABI(e)}equals(t){const e=this.constructor;return this.data.equals(e.from(t).data)}
toABI(t){t.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}eo.abiName="float128",eo.byteWidth=16;class ro{constructor(t){this.value=t}get rawValue(){return this.value}static from(t){if(cs(t,ro))return t;if("string"==typeof t)return new ro(function(t){function e(t){return t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0}const r=new Uint8Array(8);let i=63
;for(let n=0;n<t.length;++n){let a=e(t.charCodeAt(n));i<5&&(a<<=1);for(let t=4;t>=0;--t)i>=0&&(r[Math.floor(i/8)]|=(a>>t&1)<<i%8,--i)}return Ss.from(r)}(t));if(cs(t,Ss))return new ro(t);throw new Error("Invalid name")}static fromABI(t){return new ro(Ss.fromABI(t))}static abiDefault(){return new this(Ss.from(0))}equals(t){return this.value.equals(ro.from(t).value)}toString(){return function(t){const e=t.value.toArray("le",8);let r="";for(let t=63;t>=0;){let i=0
;for(let r=0;r<5;++r)t>=0&&(i=i<<1|e[Math.floor(t/8)]>>t%8&1,--t);r+=i>=6?String.fromCharCode(i+"a".charCodeAt(0)-6):i>=1?String.fromCharCode(i+"1".charCodeAt(0)-1):"."}for(;r.endsWith(".");)r=r.substr(0,r.length-1);return r}(this.value)}toABI(t){this.value.toABI(t)}toJSON(){return this.toString()}}ro.abiName="name",ro.pattern=/^[a-z1-5.]{0,13}$/;class io{static from(t){
return cs(t,this)?t:cs(t,io)?this.fromMilliseconds(t.toMilliseconds()):cs(t,Date)?this.fromDate(t):"string"==typeof t?this.fromString(t):this.fromInteger(t)}static fromString(t){const e=Date.parse(t+"Z");if(!Number.isFinite(e))throw new Error("Invalid date string");return this.fromMilliseconds(e)}static fromDate(t){return this.fromMilliseconds(t.getTime())}static abiDefault(){return this.from(0)}toABI(t){this.value.toABI(t)}equals(t){const e=this.constructor
;return this.toMilliseconds()===e.from(t).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}io.abiName="__time_point_base";class no extends io{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(_s.from(Math.round(1e3*t)))}static fromInteger(t){return new this(_s.from(t))}static fromABI(t){return new this(_s.fromABI(t))}toString(){
return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}no.abiName="time_point";class ao extends io{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(xs.from(Math.round(t/1e3)))}static fromInteger(t){return new this(xs.from(t))}static fromABI(t){return new this(xs.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(Ss).multiplying(1e3))}}
ao.abiName="time_point_sec";class so extends io{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(xs.from(Math.round((t-9466848e5)/500)))}static fromInteger(t){return new this(xs.from(t))}static fromABI(t){return new this(xs.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(Ss).multiplying(500).adding(9466848e5))}}so.abiName="block_timestamp_type";class oo{constructor(t){
this.version=t.version||oo.version,this.types=t.types||[],this.variants=t.variants||[],this.structs=t.structs||[],this.actions=t.actions||[],this.tables=t.tables||[],this.ricardian_clauses=t.ricardian_clauses||[]}static from(t){return cs(t,oo)?t:new oo("string"==typeof t?JSON.parse(t):t)}static fromABI(t){const e=t.readString(),r=[],i=t.readVaruint32();for(let e=0;e<i;e++)r.push({new_type_name:t.readString(),type:t.readString()});const n=[],a=t.readVaruint32();for(let e=0;e<a;e++){
const e=t.readString(),r=t.readString(),i=t.readVaruint32(),a=[];for(let e=0;e<i;e++)a.push({name:t.readString(),type:t.readString()});n.push({base:r,name:e,fields:a})}const s=[],o=t.readVaruint32();for(let e=0;e<o;e++){const e=ro.fromABI(t),r=t.readString(),i=t.readString();s.push({name:e,type:r,ricardian_contract:i})}const d=[],f=t.readVaruint32();for(let e=0;e<f;e++){const e=ro.fromABI(t),r=t.readString(),i=[],n=t.readVaruint32();for(let e=0;e<n;e++)i.push(t.readString())
;const a=[],s=t.readVaruint32();for(let e=0;e<s;e++)a.push(t.readString());const o=t.readString();d.push({name:e,index_type:r,key_names:i,key_types:a,type:o})}const c=[],h=t.readVaruint32();for(let e=0;e<h;e++){const e=t.readString(),r=t.readString();c.push({id:e,body:r})}const u=t.readVaruint32();for(let e=0;e<u;e++)t.advance(8),t.advance(t.readVaruint32());const l=t.readVaruint32();for(let e=0;e<l;e++)t.advance(2),t.advance(t.readVaruint32());const p=[];if(t.canRead()){
const e=t.readVaruint32();for(let r=0;r<e;r++){const e=t.readString(),r=[],i=t.readVaruint32();for(let e=0;e<i;e++)r.push(t.readString());p.push({name:e,types:r})}}return new oo({version:e,types:r,structs:n,actions:s,tables:d,ricardian_clauses:c,variants:p})}toABI(t){t.writeString(this.version),t.writeVaruint32(this.types.length);for(const e of this.types)t.writeString(e.new_type_name),t.writeString(e.type);t.writeVaruint32(this.structs.length);for(const e of this.structs){t.writeString(e.name),
t.writeString(e.base),t.writeVaruint32(e.fields.length);for(const r of e.fields)t.writeString(r.name),t.writeString(r.type)}t.writeVaruint32(this.actions.length);for(const e of this.actions)ro.from(e.name).toABI(t),t.writeString(e.type),t.writeString(e.ricardian_contract);t.writeVaruint32(this.tables.length);for(const e of this.tables){ro.from(e.name).toABI(t),t.writeString(e.index_type),t.writeVaruint32(e.key_names.length);for(const r of e.key_names)t.writeString(r)
;t.writeVaruint32(e.key_types.length);for(const r of e.key_types)t.writeString(r);t.writeString(e.type)}t.writeVaruint32(this.ricardian_clauses.length);for(const e of this.ricardian_clauses)t.writeString(e.id),t.writeString(e.body);t.writeVaruint32(0),t.writeVaruint32(0),t.writeVaruint32(this.variants.length);for(const e of this.variants){t.writeString(e.name),t.writeVaruint32(e.types.length);for(const r of e.types)t.writeString(r)}}resolveType(t){return this.resolve({name:t,types:{}},{id:0})}
resolveAll(){const t={},e={id:0};return{types:this.types.map((r=>this.resolve({name:r.new_type_name,types:t},e))),variants:this.variants.map((r=>this.resolve({name:r.name,types:t},e))),structs:this.structs.map((r=>this.resolve({name:r.name,types:t},e)))}}resolve({name:t,types:e},r){const i=e[t];if(i)return i;const n=new oo.ResolvedType(t,++r.id);e[n.typeName]=n;const a=this.types.find((t=>t.new_type_name==n.name));if(a)return n.ref=this.resolve({name:a.type,types:e},r),n
;const s=this.getStruct(n.name);if(s)return s.base&&(n.base=this.resolve({name:s.base,types:e},r)),n.fields=s.fields.map((t=>({name:t.name,type:this.resolve({name:t.type,types:e},r)}))),n;const o=this.getVariant(n.name);return o?(n.variant=o.types.map((t=>this.resolve({name:t,types:e},r))),n):n}getStruct(t){return this.structs.find((e=>e.name==t))}getVariant(t){return this.variants.find((e=>e.name==t))}getActionType(t){const e=ro.from(t).toString(),r=this.actions.find((t=>t.name.toString()===e))
;if(r)return r.type}equals(t){const e=oo.from(t);return this.version==e.version&&this.types.length==e.types.length&&this.structs.length==e.structs.length&&this.actions.length==e.actions.length&&this.tables.length==e.tables.length&&this.ricardian_clauses.length==e.ricardian_clauses.length&&this.variants.length==e.variants.length&&Ws({object:this}).equals(Ws({object:e}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,
ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants}}}oo.abiName="abi",oo.version="eosio::abi/1.1",function(t){t.ResolvedType=class{constructor(t,e=0){let r=t;r.endsWith("$")?(r=r.slice(0,-1),this.isExtension=!0):this.isExtension=!1,r.endsWith("?")?(r=r.slice(0,-1),this.isOptional=!0):this.isOptional=!1,r.endsWith("[]")?(r=r.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=e,this.name=r}get typeName(){let t=this.name
;return this.isArray&&(t+="[]"),this.isOptional&&(t+="?"),this.isExtension&&(t+="$"),t}get allFields(){let t=this;const e=[],r=new Set;do{if(!t.fields)return;if(r.has(t.name))return;for(let r=t.fields.length-1;r>=0;r--)e.unshift(t.fields[r]);r.add(t.name),t=t.base}while(void 0!==t);return e}}}(oo||(oo={}));class fo{constructor(t,e){this.units=t,this.symbol=e}static from(t,e){if(cs(t,fo))return t;switch(typeof t){case"number":
if(!e)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(t,e);case"string":return this.fromString(t);default:throw new Error("Invalid asset")}}static fromString(t){const e=("string"==typeof t?t:"").split(" ");if(2!==e.length)throw new Error("Invalid asset string");const r=e[0].replace(".",""),i=(e[0].split(".")[1]||"").length,n=fo.Symbol.fromParts(e[1],i);return new fo(_s.from(r),n)}static fromFloat(t,e){const r=fo.Symbol.from(e)
;return new fo(r.convertFloat(t),r)}static fromUnits(t,e){return new fo(_s.from(t),fo.Symbol.from(e))}static fromABI(t){const e=_s.fromABI(t),r=fo.Symbol.fromABI(t);return new fo(e,r)}static abiDefault(){return new this(_s.from(0),fo.Symbol.abiDefault())}equals(t){const{symbol:e,units:r}=fo.from(t);return this.symbol.value.equals(e.value)&&this.units.equals(r)}get value(){return this.symbol.convertUnits(this.units)}set value(t){this.units=this.symbol.convertFloat(t)}toABI(t){this.units.toABI(t),
this.symbol.toABI(t)}toString(){const t=this.units.toString().split("");let e=!1;"-"===t[0]&&(e=!0,t.shift());const r=this.symbol.precision;for(;t.length<=r;)t.unshift("0");r>0&&t.splice(t.length-r,0,".");let i=t.join("");return e&&(i="-"+i),i+" "+this.symbol.name}toJSON(){return this.toString()}}fo.abiName="asset",function(t){class e{constructor(t){if(ho(t)>e.maxPrecision)throw new Error("Invalid asset symbol, precision too large")
;if(!e.symbolNamePattern.test(uo(t)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=t}static from(t){if(cs(t,e))return t;if(cs(t,Ss))return new e(t);const r=t.split(",");if(2!==r.length)throw new Error("Invalid symbol string");const i=Number.parseInt(r[0]);return e.fromParts(r[1],i)}static fromParts(t,r){return new e(function(t,e){const r=po(t),i=new Uint8Array(r.length+1);return i[0]=e,i.set(r,1),Ss.from(i)}(t,r))}static fromABI(t){return new e(Ss.fromABI(t))}
static abiDefault(){return this.from("4,SYS")}equals(t){return this.value.equals(e.from(t).value)}get name(){return uo(this.value)}get precision(){return ho(this.value)}get code(){return new r(Ss.from(this.value.value.clone().iushrn(8)))}toABI(t){this.value.toABI(t)}convertUnits(t){return t.value.toNumber()/Math.pow(10,this.precision)}convertFloat(t){return _s.from(t.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}
e.abiName="symbol",e.symbolNamePattern=/^[A-Z]{1,7}$/,e.maxPrecision=18,t.Symbol=e;class r{constructor(t){this.value=t}static from(t){return cs(t,r)?t:("string"==typeof t&&(t=Ss.from(po(t))),new this(Ss.from(t)))}static fromABI(t){return new r(Ss.fromABI(t))}static abiDefault(){return this.from("SYS")}equals(t){return this.value.equals(r.from(t).value)}toABI(t){this.value.toABI(t)}toString(){return lo(this.value.value.toArray("be"))}toJSON(){return this.toString()}}r.abiName="symbol_code",
t.SymbolCode=r}(fo||(fo={}));class co{constructor(t,e){this.quantity=t,this.contract=e}static from(t){return cs(t,co)?t:new this(fo.from(t.quantity),ro.from(t.contract))}static fromABI(t){return new co(fo.fromABI(t),ro.fromABI(t))}equals(t){return this.quantity.equals(t.quantity)&&this.contract.equals(t.contract)}toABI(t){this.quantity.toABI(t),this.contract.toABI(t)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}function ho(t){return t.value.and(Ss.from(255).value).toNumber()}
function uo(t){return lo(t.value.toArray("be").slice(0,-1))}function lo(t){return t.map((t=>String.fromCharCode(t))).reverse().join("")}function po(t){const e=Math.min(t.length,7),r=new Uint8Array(e);for(let i=0;i<e;i++)r[i]=t.charCodeAt(i);return r}co.abiName="extended_asset",t.Base58=void 0,function(t){let e;!function(t){t.E_CHECKSUM="E_CHECKSUM",t.E_INVALID="E_INVALID"}(e=t.ErrorCode||(t.ErrorCode={}));class r extends Error{constructor(t,e,r={}){super(t),this.code=e,this.info=r}}
r.__className="DecodingError",t.DecodingError=r;const i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n=new Int16Array(255).fill(-1);for(let t=0;t<58;++t)n[i.charCodeAt(t)]=t;function a(t,i){if(null==i)return function(t){const i=[];for(let a=0;a<t.length;++a){let s=n[t.charCodeAt(a)];if(s<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:t[a]});for(let t=0;t<i.length;++t){const e=58*i[t]+s;i[t]=255&e,s=e>>8}s&&i.push(s)}for(const e of t){if("1"!==e)break
;i.push(0)}return i.reverse(),hs.from(i)}(t);const a=new Uint8Array(i);for(let s=0;s<t.length;++s){let o=n[t.charCodeAt(s)];if(o<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:t[s]});for(let t=0;t<i;++t){const e=58*a[t]+o;a[t]=e,o=e>>8}if(o)throw new r("Base58 value is out of range",e.E_INVALID)}return a.reverse(),new hs(a)}function s(t){t=hs.from(t);const e=[];for(const r of t.array){let t=r;for(let r=0;r<e.length;++r){const a=(n[e[r]]<<8)+t;e[r]=i.charCodeAt(a%58),
t=a/58|0}for(;t;)e.push(i.charCodeAt(t%58)),t=t/58|0}for(const r of t.array){if(r)break;e.push("1".charCodeAt(0))}return e.reverse(),String.fromCharCode(...e)}function o(t,e){const r=_r.ripemd160().update(t);return e&&r.update(e),new Uint8Array(r.digest().slice(0,4))}function d(t){const e=_r.sha256().update(t).digest(),r=_r.sha256().update(e).digest();return new Uint8Array(r.slice(0,4))}t.decode=a,t.decodeCheck=function(t,i){
const n=a(t,null!=i?i+4:i),s=n.array.subarray(0,-4),o=n.array.subarray(-4),f=d(s);if(!ns(o,f))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:f,expected:o,data:s,hash:"double_sha256"});return new hs(s)},t.decodeRipemd160Check=function(t,i,n){const s=a(t,null!=i?i+4:i),d=s.array.subarray(0,-4),f=s.array.subarray(-4),c=o(d,n);if(!ns(f,c))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:c,expected:f,data:d,hash:"ripemd160"});return new hs(d)},t.encode=s,t.encodeCheck=function(t){
return s(t=(t=hs.from(t)).appending(d(t.array)))},t.encodeRipemd160Check=function(t,e){return s(t=(t=hs.from(t)).appending(o(t.array,e)))}}(t.Base58||(t.Base58={}));class bo{constructor(t,e){this.type=t,this.data=e}static from(e){if(cs(e,bo))return e;if("object"==typeof e&&e.type&&e.compressed)return new bo(t.KeyType.from(e.type),new hs(e.compressed));if("string"!=typeof e)throw new Error("Invalid public key");if(e.startsWith("PUB_")){const r=e.split("_")
;if(3!==r.length)throw new Error("Invalid public key string");const i=t.KeyType.from(r[1]),n=i===t.KeyType.K1||i===t.KeyType.R1?33:void 0,a=t.Base58.decodeRipemd160Check(r[2],n,i);return new bo(i,a)}if(e.length>=50){const r=t.Base58.decodeRipemd160Check(e.slice(-50));return new bo(t.KeyType.K1,r)}throw new Error("Invalid public key string")}static fromABI(e){const r=t.KeyType.from(e.readByte());if(r==t.KeyType.WA){const r=e.getPosition();e.advance(33),e.advance(1),e.advance(e.readVaruint32())
;const i=e.getPosition()-r;e.setPosition(r);const n=hs.from(e.readArray(i));return new bo(t.KeyType.WA,n)}return new bo(r,new hs(e.readArray(33)))}equals(t){const e=bo.from(t);return this.type===e.type&&this.data.equals(e.data)}toLegacyString(e="EOS"){if(this.type!==t.KeyType.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${e}${t.Base58.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${t.Base58.encodeRipemd160Check(this.data,this.type)}`
}toABI(e){e.writeByte(t.KeyType.indexFor(this.type)),e.writeArray(this.data.array)}toJSON(){return this.toString()}}bo.abiName="public_key";const mo={};function yo(t){let e=mo[t];if(!e)if("K1"===t)e=mo[t]=new Mn.ec("secp256k1");else{if("R1"!==t)throw new Error(`Unknown curve type: ${t}`);e=mo[t]=new Mn.ec("p256")}return e}class go{constructor(t,e){this.type=t,this.data=e}static from(e){if(cs(e,go))return e;if("object"==typeof e&&e.r&&e.s){const r=new Uint8Array(65);let i=e.recid
;const n=t.KeyType.from(e.type);return e.type!==t.KeyType.K1&&e.type!==t.KeyType.R1||(i+=31),r[0]=i,r.set(e.r,1),r.set(e.s,33),new go(n,new hs(r))}if("string"!=typeof e)throw new Error("Invalid signature");if(e.startsWith("SIG_")){const r=e.split("_");if(3!==r.length)throw new Error("Invalid signature string");const i=t.KeyType.from(r[1]),n=i===t.KeyType.K1||i===t.KeyType.R1?65:void 0,a=t.Base58.decodeRipemd160Check(r[2],n,i);return new go(i,a)}throw new Error("Invalid signature string")}
static fromABI(e){const r=t.KeyType.from(e.readByte());if(r===t.KeyType.WA){const r=e.getPosition();e.advance(65),e.advance(e.readVaruint32()),e.advance(e.readVaruint32());const i=e.getPosition()-r;e.setPosition(r);const n=hs.from(e.readArray(i));return new go(t.KeyType.WA,n)}return new go(r,new hs(e.readArray(65)))}equals(t){const e=go.from(t);return this.type===e.type&&this.data.equals(e.data)}recoverDigest(t){t=ls.from(t);const e=function(t,e,r){
const i=yo(r),n=t[0]-31,a=t.subarray(1,33),s=t.subarray(33),o=i.recoverPubKey(e,{r:a,s:s},n);return new Uint8Array(o.encodeCompressed())}(this.data.array,t.array,this.type);return bo.from({compressed:e,type:this.type})}recoverMessage(t){return this.recoverDigest(ls.hash(t))}verifyDigest(t,e){return t=ls.from(t),function(t,e,r,i){const n=yo(i),a=t.subarray(1,33),s=t.subarray(33);return n.verify(e,{r:a,s:s},r)}(this.data.array,t.array,e.data.array,this.type)}verifyMessage(t,e){
return this.verifyDigest(ls.hash(t),e)}toString(){return`SIG_${this.type}_${t.Base58.encodeRipemd160Check(this.data,this.type)}`}toABI(e){e.writeByte(t.KeyType.indexFor(this.type)),e.writeArray(this.data.array)}toJSON(){return this.toString()}}function vo(t,e){return!(128&t[0]||0===t[0]&&!(128&t[1])||128&e[0]||0===e[0]&&!(128&e[1]))}go.abiName="signature";class _o{constructor(t,e){this.type=t,this.data=e}static from(t){return cs(t,_o)?t:this.fromString(t)}static fromString(e,r=!1){try{
const{type:r,data:i}=function(e){const r=typeof e;if("string"!==r)throw new Error(`Expected string, got ${r}`);if(e.startsWith("PVT_")){const r=e.split("_");if(3!==r.length)throw new Error("Invalid PVT format");const i=t.KeyType.from(r[1]);let n;switch(i){case t.KeyType.K1:case t.KeyType.R1:n=32}return{type:i,data:t.Base58.decodeRipemd160Check(r[2],n,i)}}{const r=t.KeyType.K1,i=t.Base58.decodeCheck(e);if(128!==i.array[0])throw new Error("Invalid WIF");return{type:r,data:i.droppingFirst()}}}(e)
;return new this(r,i)}catch(i){if(i.message=`Invalid private key (${i.message})`,r&&cs(i,t.Base58.DecodingError)&&i.code===t.Base58.ErrorCode.E_CHECKSUM){const r=e.startsWith("PVT_R1")?t.KeyType.R1:t.KeyType.K1;let n=new hs(i.info.data);return 33==n.array.length&&(n=n.droppingFirst()),new this(r,n)}throw i}}static generate(e){return new _o(t.KeyType.from(e),new hs(function(t){return yo(t).genKeyPair().getPrivate().toArrayLike(Uint8Array,"be")}(e)))}signDigest(t){return t=ls.from(t),
go.from(function(t,e,r){const i=yo(r).keyFromPrivate(t);let n,a,s;if("K1"===r){let t=1;do{n=i.sign(e,{canonical:!0,pers:[t++]}),a=n.r.toArrayLike(Uint8Array,"be",32),s=n.s.toArrayLike(Uint8Array,"be",32)}while(!vo(a,s))}else n=i.sign(e,{canonical:!0}),a=n.r.toArrayLike(Uint8Array,"be",32),s=n.s.toArrayLike(Uint8Array,"be",32);return{type:r,r:a,s:s,recid:n.recoveryParam||0}}(this.data.array,t.array,this.type))}signMessage(t){return this.signDigest(ls.hash(t))}sharedSecret(t){
const e=function(t,e,r){const i=yo(r),n=i.keyFromPrivate(t),a=i.keyFromPublic(e).getPublic();return n.derive(a).toArrayLike(Uint8Array,"be")}(this.data.array,t.data.array,this.type);return ps.hash(e)}toPublic(){const t=function(t,e){const r=yo(e).keyFromPrivate(t).getPublic();return new Uint8Array(r.encodeCompressed())}(this.data.array,this.type);return bo.from({compressed:t,type:this.type})}toWif(){if(this.type!==t.KeyType.K1)throw new Error("Unable to generate WIF for non-k1 key")
;return t.Base58.encodeCheck(hs.from([128]).appending(this.data))}toString(){return`PVT_${this.type}_${t.Base58.encodeRipemd160Check(this.data,this.type)}`}toJSON(){return this.toString()}}var wo,Mo,Ao,xo;t.PermissionLevel=wo=class extends Js{static from(t){if("string"==typeof t){const e=t.split("@");if(2!==e.length&&e[0].length>0&&e[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");t={actor:e[0],permission:e[1]}}return super.from(t)}
equals(t){const e=wo.from(t);return this.actor.equals(e.actor)&&this.permission.equals(e.permission)}toString(){return`${this.actor}@${this.permission}`}},is([Js.field("name")],t.PermissionLevel.prototype,"actor",void 0),is([Js.field("name")],t.PermissionLevel.prototype,"permission",void 0),t.PermissionLevel=wo=is([Js.type("permission_level")],t.PermissionLevel),t.Action=Mo=class extends Js{static from(t,e){const r=t.data;if(!hs.isBytes(r)){let i
;if(e)i=oo.from(e).getActionType(t.name);else if(!r.constructor||void 0===r.constructor.abiName)throw new Error("Missing ABI definition when creating action with untyped action data");t={...t,data:Ws({object:r,type:i,abi:e})}}return super.from(t)}equals(t){const e=Mo.from(t);return this.account.equals(e.account)&&this.name.equals(e.name)&&function(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!t[i].equals(e[i]))return!1;return!0
}(this.authorization,e.authorization)&&this.data.equals(e.data)}decodeData(t){if("string"==typeof t||t.abiName)return Ds({data:this.data,type:t});{const e=oo.from(t),r=e.getActionType(this.name);if(!r)throw new Error(`Action ${this.name} does not exist in provided ABI`);return Ds({data:this.data,type:r,abi:e})}}},is([Js.field("name")],t.Action.prototype,"account",void 0),is([Js.field("name")],t.Action.prototype,"name",void 0),is([Js.field(t.PermissionLevel,{array:!0
})],t.Action.prototype,"authorization",void 0),is([Js.field("bytes")],t.Action.prototype,"data",void 0),t.Action=Mo=is([Js.type("action")],t.Action),t.TransactionExtension=class extends Js{},is([Js.field("uint16")],t.TransactionExtension.prototype,"type",void 0),is([Js.field("bytes")],t.TransactionExtension.prototype,"data",void 0),t.TransactionExtension=is([Js.type("transaction_extension")],t.TransactionExtension),t.TransactionHeader=class extends Js{static from(t){return super.from({
max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...t})}},is([Js.field("time_point_sec")],t.TransactionHeader.prototype,"expiration",void 0),is([Js.field("uint16")],t.TransactionHeader.prototype,"ref_block_num",void 0),is([Js.field("uint32")],t.TransactionHeader.prototype,"ref_block_prefix",void 0),is([Js.field("varuint32")],t.TransactionHeader.prototype,"max_net_usage_words",void 0),is([Js.field("uint8")],t.TransactionHeader.prototype,"max_cpu_usage_ms",void 0),
is([Js.field("varuint32")],t.TransactionHeader.prototype,"delay_sec",void 0),t.TransactionHeader=is([Js.type("transaction_header")],t.TransactionHeader),t.Transaction=Ao=class extends t.TransactionHeader{static from(e,r){const i=e=>{return t.Action.from(e,(i=e.account,r?Array.isArray(r)?r.filter((t=>ro.from(t.contract).equals(i))).map((({abi:t})=>t))[0]:r:void 0));var i},n=(e.actions||[]).map(i),a=(e.context_free_actions||[]).map(i),s={transaction_extensions:[],...e,context_free_actions:a,
actions:n};return super.from(s)}equals(t){const e=Ao.from(t);return this.id.equals(e.id)}get id(){return ls.hash(Ws({object:this}))}signingDigest(t){const e=this.signingData(t);return ls.hash(e)}signingData(t){let e=hs.from(ls.from(t).array);return e=e.appending(Ws({object:this})),e=e.appending(new Uint8Array(32)),e}},is([Js.field(t.Action,{array:!0})],t.Transaction.prototype,"context_free_actions",void 0),is([Js.field(t.Action,{array:!0})],t.Transaction.prototype,"actions",void 0),
is([Js.field(t.TransactionExtension,{array:!0})],t.Transaction.prototype,"transaction_extensions",void 0),t.Transaction=Ao=is([Js.type("transaction")],t.Transaction),t.SignedTransaction=class extends t.Transaction{static from(t){return super.from({signatures:[],context_free_data:[],...t})}},is([Js.field("signature[]")],t.SignedTransaction.prototype,"signatures",void 0),is([Js.field("bytes[]")],t.SignedTransaction.prototype,"context_free_data",void 0),
t.SignedTransaction=is([Js.type("signed_transaction")],t.SignedTransaction),t.PackedTransaction=class extends Js{static from(t){return super.from({signatures:[],packed_context_free_data:"",compression:0,...t})}static fromSigned(e){const r=t.Transaction.from(e);return this.from({signatures:e.signatures,packed_context_free_data:Ws({object:e.context_free_data,type:"bytes[]"}),packed_trx:Ws({object:r})})}getTransaction(){
if(0!==Number(this.compression))throw new Error("Transaction compression not supported yet");return Ds({data:this.packed_trx,type:t.Transaction})}getSignedTransaction(){const e=this.getTransaction();return t.SignedTransaction.from({...e,signatures:this.signatures})}},is([Js.field("signature[]")],t.PackedTransaction.prototype,"signatures",void 0),is([Js.field("uint8")],t.PackedTransaction.prototype,"compression",void 0),
is([Js.field("bytes")],t.PackedTransaction.prototype,"packed_context_free_data",void 0),is([Js.field("bytes")],t.PackedTransaction.prototype,"packed_trx",void 0),t.PackedTransaction=is([Js.type("packed_transaction")],t.PackedTransaction),t.TransactionReceipt=class extends Js{},is([Js.field("string")],t.TransactionReceipt.prototype,"status",void 0),is([Js.field("uint32")],t.TransactionReceipt.prototype,"cpu_usage_us",void 0),
is([Js.field("uint32")],t.TransactionReceipt.prototype,"net_usage_words",void 0),t.TransactionReceipt=is([Js.type("transaction_receipt")],t.TransactionReceipt),t.Weight=class extends As{},t.Weight=is([Gs("weight_type")],t.Weight),t.KeyWeight=class extends Js{},is([Js.field(bo)],t.KeyWeight.prototype,"key",void 0),is([Js.field(t.Weight)],t.KeyWeight.prototype,"weight",void 0),t.KeyWeight=is([Js.type("key_weight")],t.KeyWeight),t.PermissionLevelWeight=class extends Js{},
is([Js.field(t.PermissionLevel)],t.PermissionLevelWeight.prototype,"permission",void 0),is([Js.field(t.Weight)],t.PermissionLevelWeight.prototype,"weight",void 0),t.PermissionLevelWeight=is([Js.type("permission_level_weight")],t.PermissionLevelWeight),t.WaitWeight=class extends Js{},is([Js.field(xs)],t.WaitWeight.prototype,"wait_sec",void 0),is([Js.field(t.Weight)],t.WaitWeight.prototype,"weight",void 0),t.WaitWeight=is([Js.type("wait_weight")],t.WaitWeight),t.Authority=xo=class extends Js{
static from(t){if(cs(t,xo))return t;const e=super.from({keys:[],accounts:[],waits:[],...t});return e.sort(),e}get waitThreshold(){return this.waits.reduce(((t,e)=>t+e.weight.toNumber()),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(t){const e=this.keys.find((({key:e})=>e.equals(t)));return e?e.weight.toNumber():0}hasPermission(t,e=!1){const r=e?1:this.keyThreshold;return this.keyWeight(t)>=r}sort(){
this.keys.sort(((t,e)=>String(t.key).localeCompare(String(e.key)))),this.accounts.sort(((t,e)=>String(t.permission).localeCompare(String(e.permission)))),this.waits.sort(((t,e)=>String(t.wait_sec).localeCompare(String(e.wait_sec))))}},is([Js.field(xs)],t.Authority.prototype,"threshold",void 0),is([Js.field(t.KeyWeight,{array:!0})],t.Authority.prototype,"keys",void 0),is([Js.field(t.PermissionLevelWeight,{array:!0})],t.Authority.prototype,"accounts",void 0),is([Js.field(t.WaitWeight,{array:!0
})],t.Authority.prototype,"waits",void 0),t.Authority=xo=is([Js.type("authority")],t.Authority),t.Serializer=void 0,function(t){t.encode=Ws,t.decode=Ds,t.synthesize=function(t){return Ns(t).abi},t.stringify=function(t){return JSON.stringify(t)},t.objectify=function(t){const e=t=>{switch(typeof t){case"boolean":case"number":case"string":return t;case"object":{if(null===t)return t;if("function"==typeof t.toJSON)return e(t.toJSON());if(Array.isArray(t))return t.map(e);const r={}
;for(const i of Object.keys(t))r[i]=e(t[i]);return r}}};return e(t)}}(t.Serializer||(t.Serializer={}));class So{constructor(t,e={}){if((t=t.trim()).endsWith("/")&&(t=t.slice(0,-1)),this.url=t,e.fetch)this.fetch=e.fetch;else if("undefined"!=typeof window&&window.fetch)this.fetch=window.fetch.bind(window);else{if("undefined"==typeof global||!global.fetch)throw new Error("Missing fetch");this.fetch=global.fetch.bind(global)}}async call(t,e){const r=this.url+t,i=await this.fetch(r,{method:"POST",
body:void 0!==e?JSON.stringify(e):void 0}),n=await i.text();let a;try{a=JSON.parse(n)}catch{}const s={};for(const[t,e]of i.headers.entries())s[t]=e;return{headers:s,status:i.status,json:a,text:n}}}let ko=class extends Js{};is([Js.field("name")],ko.prototype,"perm_name",void 0),is([Js.field("name")],ko.prototype,"parent",void 0),is([Js.field(t.Authority)],ko.prototype,"required_auth",void 0),ko=is([Js.type("account_permission")],ko);let Io=class extends Js{}
;is([Js.field("int64")],Io.prototype,"used",void 0),is([Js.field("int64")],Io.prototype,"available",void 0),is([Js.field("int64")],Io.prototype,"max",void 0),Io=is([Js.type("account_resource_limit")],Io);let Eo=class extends Js{};is([Js.field("name")],Eo.prototype,"owner",void 0),is([Js.field("asset")],Eo.prototype,"net_weight",void 0),is([Js.field("asset")],Eo.prototype,"cpu_weight",void 0),is([Js.field("uint64")],Eo.prototype,"ram_bytes",void 0),Eo=is([Js.type("account_total_resources")],Eo)
;let zo=class extends Js{};is([Js.field("name")],zo.prototype,"from",void 0),is([Js.field("name")],zo.prototype,"to",void 0),is([Js.field("asset")],zo.prototype,"net_weight",void 0),is([Js.field("asset")],zo.prototype,"cpu_weight",void 0),zo=is([Js.type("account_self_delegated_bandwidth")],zo);let No=class extends Js{};is([Js.field("name")],No.prototype,"owner",void 0),is([Js.field("time_point")],No.prototype,"request_time",void 0),is([Js.field("asset")],No.prototype,"net_amount",void 0),
is([Js.field("asset")],No.prototype,"cpu_amount",void 0),No=is([Js.type("account_refund_request")],No);let Ro=class extends Js{};is([Js.field("name")],Ro.prototype,"owner",void 0),is([Js.field("name")],Ro.prototype,"proxy",void 0),is([Js.field("name",{array:!0})],Ro.prototype,"producers",void 0),is([Js.field("int64",{optional:!0})],Ro.prototype,"staked",void 0),is([Js.field("bool")],Ro.prototype,"is_proxy",void 0),is([Js.field("uint32",{optional:!0})],Ro.prototype,"flags1",void 0),
is([Js.field("uint32")],Ro.prototype,"reserved2",void 0),is([Js.field("string")],Ro.prototype,"reserved3",void 0),Ro=is([Js.type("account_voter_info")],Ro);let Po=class extends Js{};is([Js.field("time_point",{optional:!0})],Po.prototype,"key",void 0),is([Js.field("int64",{optional:!0})],Po.prototype,"value",void 0),is([Js.field("time_point",{optional:!0})],Po.prototype,"first",void 0),is([Js.field("int64",{optional:!0})],Po.prototype,"second",void 0),
Po=is([Js.type("account_rex_info_maturities")],Po);let To=class extends Js{};is([Js.field("uint32")],To.prototype,"version",void 0),is([Js.field("name")],To.prototype,"owner",void 0),is([Js.field("asset")],To.prototype,"vote_stake",void 0),is([Js.field("asset")],To.prototype,"rex_balance",void 0),is([Js.field("int64")],To.prototype,"matured_rex",void 0),is([Js.field(Po,{array:!0})],To.prototype,"rex_maturities",void 0),To=is([Js.type("account_rex_info")],To);let Bo=class extends Js{
getPermission(t){const e=ro.from(t),r=this.permissions.find((t=>t.perm_name.equals(e)));if(!r)throw new Error(`Unknown permission ${e} on account ${this.account_name}.`);return r}};is([Js.field("name")],Bo.prototype,"account_name",void 0),is([Js.field("uint32")],Bo.prototype,"head_block_num",void 0),is([Js.field("time_point")],Bo.prototype,"head_block_time",void 0),is([Js.field("bool")],Bo.prototype,"privileged",void 0),is([Js.field("time_point")],Bo.prototype,"last_code_update",void 0),
is([Js.field("time_point")],Bo.prototype,"created",void 0),is([Js.field("asset?")],Bo.prototype,"core_liquid_balance",void 0),is([Js.field("int64")],Bo.prototype,"ram_quota",void 0),is([Js.field("int64")],Bo.prototype,"net_weight",void 0),is([Js.field("int64")],Bo.prototype,"cpu_weight",void 0),is([Js.field(Io)],Bo.prototype,"net_limit",void 0),is([Js.field(Io)],Bo.prototype,"cpu_limit",void 0),is([Js.field("uint64")],Bo.prototype,"ram_usage",void 0),is([Js.field(ko,{array:!0
})],Bo.prototype,"permissions",void 0),is([Js.field(Eo)],Bo.prototype,"total_resources",void 0),is([Js.field(zo,{optional:!0})],Bo.prototype,"self_delegated_bandwidth",void 0),is([Js.field(No,{optional:!0})],Bo.prototype,"refund_request",void 0),is([Js.field(Ro,{optional:!0})],Bo.prototype,"voter_info",void 0),is([Js.field(To,{optional:!0})],Bo.prototype,"rex_info",void 0),Bo=is([Js.type("account_object")],Bo);let Oo=class extends Js{};is([Js.field("name")],Oo.prototype,"producer_name",void 0),
is([Js.field("public_key")],Oo.prototype,"block_signing_key",void 0),Oo=is([Js.type("new_producers_entry")],Oo);let qo=class extends Js{};is([Js.field("uint32")],qo.prototype,"version",void 0),is([Js.field(Oo,{array:!0})],qo.prototype,"producers",void 0),qo=is([Js.type("new_producers")],qo);let Uo=class extends Js{};is([Js.field("uint16")],Uo.prototype,"type",void 0),is([Js.field("bytes")],Uo.prototype,"data",void 0),Uo=is([Js.type("block_extension")],Uo);let Co=class extends Js{}
;is([Js.field("uint16")],Co.prototype,"type",void 0),is([Js.field("bytes")],Co.prototype,"data",void 0),Co=is([Js.type("header_extension")],Co);class Do{constructor(t,e){this.id=t,this.extra=e}static from(t){let e,r;return"string"==typeof t?(e=ls.from(t),r={}):(e=ls.from(t.id),r=t),new this(e,r)}get transaction(){if(this.extra.packed_trx)return t.Serializer.decode({data:this.extra.packed_trx,type:t.Transaction})}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(go.from)}
equals(t){return this.id.equals(t.id)}toJSON(){return this.id}}Do.abiName="trx_variant";let jo=class extends t.TransactionReceipt{get id(){return this.trx.id}};is([Js.field(Do)],jo.prototype,"trx",void 0),jo=is([Js.type("get_block_response_receipt")],jo);let Lo=class extends Js{};is([Js.field("time_point")],Lo.prototype,"timestamp",void 0),is([Js.field("name")],Lo.prototype,"producer",void 0),is([Js.field("uint16")],Lo.prototype,"confirmed",void 0),
is([Js.field("checksum256")],Lo.prototype,"previous",void 0),is([Js.field("checksum256")],Lo.prototype,"transaction_mroot",void 0),is([Js.field("checksum256")],Lo.prototype,"action_mroot",void 0),is([Js.field("uint32")],Lo.prototype,"schedule_version",void 0),is([Js.field(qo,{optional:!0})],Lo.prototype,"new_producers",void 0),is([Js.field("header_extension",{optional:!0})],Lo.prototype,"header_extensions",void 0),is([Js.field("any",{optional:!0})],Lo.prototype,"new_protocol_features",void 0),
is([Js.field("signature")],Lo.prototype,"producer_signature",void 0),is([Js.field(jo,{array:!0})],Lo.prototype,"transactions",void 0),is([Js.field("block_extension",{optional:!0})],Lo.prototype,"block_extensions",void 0),is([Js.field("checksum256")],Lo.prototype,"id",void 0),is([Js.field("uint32")],Lo.prototype,"block_num",void 0),is([Js.field("uint32")],Lo.prototype,"ref_block_prefix",void 0),Lo=is([Js.type("get_block_response")],Lo);let Fo=class extends Js{}
;is([Js.field("name")],Fo.prototype,"producer_name",void 0),is([Js.field("any")],Fo.prototype,"authority",void 0),Fo=is([Js.type("active_schedule_producer_authority")],Fo);let Vo=class extends Js{};is([Js.field("name")],Vo.prototype,"producer_name",void 0),is([Js.field(Fo)],Vo.prototype,"authority",void 0),Vo=is([Js.type("active_schedule_producer")],Vo);let Ko=class extends Js{};is([Js.field("uint32")],Ko.prototype,"version",void 0),is([Js.field(Vo,{array:!0})],Ko.prototype,"producers",void 0),
Ko=is([Js.type("active_schedule")],Ko);let Zo=class extends Js{};is([Js.field("time_point")],Zo.prototype,"timestamp",void 0),is([Js.field("name")],Zo.prototype,"producer",void 0),is([Js.field("uint16")],Zo.prototype,"confirmed",void 0),is([Js.field("checksum256")],Zo.prototype,"previous",void 0),is([Js.field("checksum256")],Zo.prototype,"transaction_mroot",void 0),is([Js.field("checksum256")],Zo.prototype,"action_mroot",void 0),is([Js.field("uint32")],Zo.prototype,"schedule_version",void 0),
is([Js.field(Co,{array:!0,optional:!0})],Zo.prototype,"header_extensions",void 0),is([Js.field("signature")],Zo.prototype,"producer_signature",void 0),Zo=is([Js.type("block_state_header")],Zo);let Wo=class extends Js{};is([Js.field("uint32")],Wo.prototype,"block_num",void 0),is([Js.field("uint32")],Wo.prototype,"dpos_proposed_irreversible_blocknum",void 0),is([Js.field("uint32")],Wo.prototype,"dpos_irreversible_blocknum",void 0),is([Js.field("checksum256")],Wo.prototype,"id",void 0),
is([Js.field(Zo)],Wo.prototype,"header",void 0),is([Js.field("any")],Wo.prototype,"active_schedule",void 0),is([Js.field("any")],Wo.prototype,"blockroot_merkle",void 0),is([Js.field("any")],Wo.prototype,"producer_to_last_produced",void 0),is([Js.field("any")],Wo.prototype,"producer_to_last_implied_irb",void 0),is([Js.field("any")],Wo.prototype,"valid_block_signing_authority",void 0),is([Js.field("any")],Wo.prototype,"confirm_count",void 0),
is([Js.field("any")],Wo.prototype,"pending_schedule",void 0),is([Js.field("any")],Wo.prototype,"activated_protocol_features",void 0),is([Js.field("any")],Wo.prototype,"additional_signatures",void 0),Wo=is([Js.type("get_block_header_state_response")],Wo);let $o=class extends Js{getTransactionHeader(e=120){const r=ao.fromMilliseconds(this.head_block_time.toMilliseconds()+1e3*e),i=this.last_irreversible_block_id.array.subarray(8,12),n=new Uint32Array(i.buffer,i.byteOffset,1)[0]
;return t.TransactionHeader.from({expiration:r,ref_block_num:65535&Number(this.last_irreversible_block_num),ref_block_prefix:n})}};is([Js.field("string")],$o.prototype,"server_version",void 0),is([Js.field("checksum256")],$o.prototype,"chain_id",void 0),is([Js.field("uint32")],$o.prototype,"head_block_num",void 0),is([Js.field("uint32")],$o.prototype,"last_irreversible_block_num",void 0),is([Js.field("checksum256")],$o.prototype,"last_irreversible_block_id",void 0),
is([Js.field("checksum256")],$o.prototype,"head_block_id",void 0),is([Js.field("time_point")],$o.prototype,"head_block_time",void 0),is([Js.field("name")],$o.prototype,"head_block_producer",void 0),is([Js.field("uint64")],$o.prototype,"virtual_block_cpu_limit",void 0),is([Js.field("uint64")],$o.prototype,"virtual_block_net_limit",void 0),is([Js.field("uint64")],$o.prototype,"block_cpu_limit",void 0),is([Js.field("uint64")],$o.prototype,"block_net_limit",void 0),
is([Js.field("string?")],$o.prototype,"server_version_string",void 0),is([Js.field("uint32?")],$o.prototype,"fork_db_head_block_num",void 0),is([Js.field("checksum256?")],$o.prototype,"fork_db_head_block_id",void 0),$o=is([Js.type("get_info_response")],$o);let Ho=class extends Js{};is([Js.field("name")],Ho.prototype,"code",void 0),is([Js.field("name")],Ho.prototype,"scope",void 0),is([Js.field("name")],Ho.prototype,"table",void 0),is([Js.field("name")],Ho.prototype,"payer",void 0),
is([Js.field("uint32")],Ho.prototype,"count",void 0),Ho=is([Js.type("get_table_by_scope_response_row")],Ho);let Jo=class extends Js{};is([Js.field(Ho,{array:!0})],Jo.prototype,"rows",void 0),is([Js.field("string")],Jo.prototype,"more",void 0),Jo=is([Js.type("get_table_by_scope_response")],Jo);let Go=class extends Js{};is([Js.field(Ss)],Go.prototype,"global_action_seq",void 0),is([Js.field(_s)],Go.prototype,"account_action_seq",void 0),is([Js.field(xs)],Go.prototype,"block_num",void 0),
is([Js.field(so)],Go.prototype,"block_time",void 0),is([Js.field("any")],Go.prototype,"action_trace",void 0),is([Js.field("boolean?")],Go.prototype,"irrevirsible",void 0),Go=is([Js.type("ordered_action_result")],Go);let Yo=class extends Js{};is([Js.field(Go,{array:!0})],Yo.prototype,"actions",void 0),is([Js.field(vs)],Yo.prototype,"last_irreversible_block",void 0),is([Js.field(vs)],Yo.prototype,"head_block_num",void 0),is([Js.field("boolean?")],Yo.prototype,"time_limit_exceeded_error",void 0),
Yo=is([Js.type("get_actions_response")],Yo);let Xo=class extends Js{};Xo=is([Js.type("transaction_trace")],Xo);let Qo=class extends Js{};is([Js.field("any")],Qo.prototype,"actions",void 0),is([Js.field("any")],Qo.prototype,"context_free_actions",void 0),is([Js.field("any")],Qo.prototype,"context_free_data",void 0),is([Js.field("number")],Qo.prototype,"delay_sec",void 0),is([Js.field("string")],Qo.prototype,"expiration",void 0),is([Js.field("number")],Qo.prototype,"max_cpu_usage_ms",void 0),
is([Js.field("number")],Qo.prototype,"max_net_usage_words",void 0),is([Js.field("number")],Qo.prototype,"ref_block_num",void 0),is([Js.field("number")],Qo.prototype,"ref_block_prefix",void 0),is([Js.field("string",{array:!0})],Qo.prototype,"signatures",void 0),Qo=is([Js.type("trx")],Qo);let td=class extends Js{};is([Js.field(t.TransactionReceipt)],td.prototype,"receipt",void 0),is([Js.field("trx")],td.prototype,"trx",void 0),td=is([Js.type("transaction_info")],td);let ed=class extends Js{}
;is([Js.field(ls)],ed.prototype,"id",void 0),is([Js.field(xs)],ed.prototype,"block_num",void 0),is([Js.field(so)],ed.prototype,"block_time",void 0),is([Js.field(xs)],ed.prototype,"last_irreversible_block",void 0),is([Js.field("any?")],ed.prototype,"traces",void 0),is([Js.field("any")],ed.prototype,"trx",void 0),ed=is([Js.type("get_transaction_response")],ed);let rd=class extends Js{};is([Js.field("name",{array:!0})],rd.prototype,"account_names",void 0),
rd=is([Js.type("get_key_accounts_response")],rd);let id=class extends Js{};is([Js.field("name",{array:!0})],id.prototype,"controlled_accounts",void 0),id=is([Js.type("get_controlled_accounts_response")],id);var nd=Object.freeze({__proto__:null,get AccountPermission(){return ko},get AccountResourceLimit(){return Io},get AccountTotalResources(){return Eo},get AccountSelfDelegatedBandwidth(){return zo},get AccountRefundRequest(){return No},get AccountVoterInfo(){return Ro},
get AccountRexInfoMaturities(){return Po},get AccountRexInfo(){return To},get AccountObject(){return Bo},get NewProducersEntry(){return Oo},get NewProducers(){return qo},get BlockExtension(){return Uo},get HeaderExtension(){return Co},TrxVariant:Do,get GetBlockResponseTransactionReceipt(){return jo},get GetBlockResponse(){return Lo},get ActiveScheduleProducerAuthority(){return Fo},get ActiveScheduleProducer(){return Vo},get ActiveSchedule(){return Ko},get BlockStateHeader(){return Zo},
get GetBlockHeaderStateResponse(){return Wo},get GetInfoResponse(){return $o},get GetTableByScopeResponseRow(){return Ho},get GetTableByScopeResponse(){return Jo},get OrderedActionsResult(){return Go},get GetActionsResponse(){return Yo},get TransactionTrace(){return Xo},get Trx(){return Qo},get TransactionInfo(){return td},get GetTransactionResponse(){return ed},get GetKeyAccountsResponse(){return rd},get GetControlledAccountsResponse(){return id}});class ad{constructor(t){this.client=t}
async get_abi(t){return this.client.call({path:"/v1/chain/get_abi",params:{account_name:ro.from(t)}})}async get_account(t){return this.client.call({path:"/v1/chain/get_account",params:{account_name:ro.from(t)},responseType:Bo})}async get_block(t){return this.client.call({path:"/v1/chain/get_block",params:{block_num_or_id:t},responseType:Lo})}async get_block_header_state(t){return this.client.call({path:"/v1/chain/get_block_header_state",params:{block_num_or_id:t},responseType:Wo})}
async get_currency_balance(t,e,r){const i={account:ro.from(e),code:ro.from(t)};return r&&(i.symbol=r),this.client.call({path:"/v1/chain/get_currency_balance",params:i,responseType:"asset[]"})}async get_info(){return this.client.call({path:"/v1/chain/get_info",responseType:$o})}async push_transaction(e){return cs(e,t.PackedTransaction)||(e=t.PackedTransaction.fromSigned(t.SignedTransaction.from(e))),this.client.call({path:"/v1/chain/push_transaction",params:e})}async get_table_rows(e){
const r=e.type;let i=e.key_type;const n=e.lower_bound||e.upper_bound;!i&&n&&(cs(n,Ss)?i="i64":cs(n,ks)?i="i128":cs(n,ls)?i="sha256":cs(n,bs)&&(i="ripemd160")),i||(i="name");let a=e.json;void 0===a&&(a=void 0===r);let s=e.upper_bound;s&&"string"!=typeof s&&(s=String(s));let o=e.lower_bound;o&&"string"!=typeof o&&(o=String(o));let d=e.scope;void 0===d?d=String(ro.from(e.code)):"string"!=typeof d&&(d=String(d));let f,{rows:c,more:h,next_key:u}=await this.client.call({
path:"/v1/chain/get_table_rows",params:{...e,code:ro.from(e.code),table:ro.from(e.table),limit:void 0!==e.limit?xs.from(e.limit):void 0,scope:d,key_type:i,json:a,upper_bound:s,lower_bound:o}});if(e.show_payer&&(f=[],c=c.map((({data:t,payer:e})=>(f.push(ro.from(e)),t)))),r&&(c=a?c.map((e=>"string"==typeof e&&hs.isBytes(e)?t.Serializer.decode({data:hs.from(e),type:r}):t.Serializer.decode({object:e,type:r}))):c.map((t=>hs.from(t))).map((e=>t.Serializer.decode({data:e,type:r})))),u&&u.length>0){
let e;switch(i){case"i64":e=Ss;break;case"i128":e=ks;break;case"name":e=ro;break;case"float64":e=to;break;case"float128":e=eo;break;case"sha256":e=ls;break;case"ripemd160":e=bs;break;default:throw new Error(`Unsupported key type: ${i}`)}u=e===ro?ro.from(t.Serializer.decode({object:u,type:Ss})):t.Serializer.decode({object:u,type:e})}else u=void 0;return{rows:c,more:h,next_key:u,ram_payers:f}}async get_table_by_scope(t){return this.client.call({path:"/v1/chain/get_table_by_scope",params:t,
responseType:Jo})}}class sd{constructor(t){this.client=t}async get_actions(t,e,r){return this.client.call({path:"/v1/history/get_actions",params:{account_name:ro.from(t),pos:vs.from(e),offset:vs.from(r)},responseType:Yo})}async get_transaction(t,e={}){return this.client.call({path:"/v1/history/get_transaction",params:{id:ls.from(t),block_num_hint:e.blockNumHint&&xs.from(e.blockNumHint),traces:!0!==e.excludeTraces&&void 0},responseType:ed})}async get_key_accounts(t){return this.client.call({
path:"/v1/history/get_key_accounts",params:{public_key:bo.from(t)},responseType:rd})}async get_controlled_accounts(t){return this.client.call({path:"/v1/history/get_controlled_accounts",params:{controlling_account:ro.from(t)},responseType:id})}}class od extends Error{constructor(t,e){let r;r=e.json&&e.json.error?`${od.formatError(e.json.error)} at ${t}`:`HTTP ${e.status} at ${t}`,super(r),this.path=t,this.response=e}static formatError(t){
return"unspecified"===t.what&&t.details[0].file&&"http_plugin.cpp"===t.details[0].file&&"unknown key"===t.details[0].message.slice(0,11)?"Account not found":"unspecified"===t.what&&t.details&&t.details.length>0?t.details[0].message:t.what&&t.what.length>0?t.what:"Unknown API error"}get error(){const{json:t}=this.response;return t?t.error:void 0}get name(){const{error:t}=this;return t?t.name:"unspecified"}get code(){const{error:t}=this;return t?t.code:0}get details(){const{error:t}=this
;return t?t.details:[]}}od.__className="APIError";class dd{constructor(t){if(this.v1={chain:new ad(this),history:new sd(this)},t.provider)this.provider=t.provider;else{if(!t.url)throw new Error("Missing url or provider");this.provider=new So(t.url,t)}}async call(t){const e=await this.provider.call(t.path,t.params),{json:r}=e;if(2!==Math.floor(e.status/100)||r&&"object"==typeof r.error)throw new od(t.path,e);return t.responseType?Ds({type:t.responseType,object:e.json}):e.json||e.text}}
dd.__className="APIClient";var fd,cd=Object.freeze({__proto__:null,v1:nd}),hd={exports:{}};function ud(t){this.rand=t}if(hd.exports=function(t){return fd||(fd=new ud(null)),fd.generate(t)},hd.exports.Rand=ud,ud.prototype.generate=function(t){return this._rand(t)},ud.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},
"object"==typeof self)self.crypto&&self.crypto.getRandomValues?ud.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?ud.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(ud.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var ld=mr;if("function"!=typeof ld.randomBytes)throw new Error("Not supported")
;ud.prototype._rand=function(t){return ld.randomBytes(t)}}catch(t){}var pd=hd.exports,bd={},md={},yd=gd;function gd(t,e){if(!t)throw new Error(e||"Assertion failed")}gd.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var vd={exports:{}};"function"==typeof Object.create?vd.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:vd.exports=function(t,e){if(e){t.super_=e
;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var _d=yd,wd=vd.exports;function Md(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function Ad(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function xd(t){return 1===t.length?"0"+t:t}function Sd(t){
return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}md.inherits=wd,md.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(var i=0,n=0;n<t.length;n++){var a=t.charCodeAt(n)
;a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=63&a|128):Md(t,n)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++n)),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=63&a|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=63&a|128)}else for(n=0;n<t.length;n++)r[n]=0|t[n];return r},md.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=xd(t[r].toString(16));return e},md.htonl=Ad,md.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=Ad(n)),
r+=Sd(n.toString(16))}return r},md.zero2=xd,md.zero8=Sd,md.join32=function(t,e,r,i){var n=r-e;_d(n%4==0);for(var a=new Array(n/4),s=0,o=e;s<a.length;s++,o+=4){var d;d="big"===i?t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3]:t[o+3]<<24|t[o+2]<<16|t[o+1]<<8|t[o],a[s]=d>>>0}return a},md.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var a=t[i];"big"===e?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=255&a):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,
r[n]=255&a)}return r},md.rotr32=function(t,e){return t>>>e|t<<32-e},md.rotl32=function(t,e){return t<<e|t>>>32-e},md.sum32=function(t,e){return t+e>>>0},md.sum32_3=function(t,e,r){return t+e+r>>>0},md.sum32_4=function(t,e,r,i){return t+e+r+i>>>0},md.sum32_5=function(t,e,r,i,n){return t+e+r+i+n>>>0},md.sum64=function(t,e,r,i){var n=t[e],a=i+t[e+1]>>>0,s=(a<i?1:0)+r+n;t[e]=s>>>0,t[e+1]=a},md.sum64_hi=function(t,e,r,i){return(e+i>>>0<e?1:0)+t+r>>>0},md.sum64_lo=function(t,e,r,i){return e+i>>>0},
md.sum64_4_hi=function(t,e,r,i,n,a,s,o){var d=0,f=e;return d+=(f=f+i>>>0)<e?1:0,d+=(f=f+a>>>0)<a?1:0,t+r+n+s+(d+=(f=f+o>>>0)<o?1:0)>>>0},md.sum64_4_lo=function(t,e,r,i,n,a,s,o){return e+i+a+o>>>0},md.sum64_5_hi=function(t,e,r,i,n,a,s,o,d,f){var c=0,h=e;return c+=(h=h+i>>>0)<e?1:0,c+=(h=h+a>>>0)<a?1:0,c+=(h=h+o>>>0)<o?1:0,t+r+n+s+d+(c+=(h=h+f>>>0)<f?1:0)>>>0},md.sum64_5_lo=function(t,e,r,i,n,a,s,o,d,f){return e+i+a+o+f>>>0},md.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},
md.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},md.shr64_hi=function(t,e,r){return t>>>r},md.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var kd={},Id=md,Ed=yd;function zd(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}kd.BlockHash=zd,
zd.prototype.update=function(t,e){if(t=Id.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=Id.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},zd.prototype.digest=function(t){
return this.update(this._pad()),Ed(null===this.pending),this._digest(t)},zd.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(t<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t}else for(i[n++]=255&t,i[n++]=t>>>8&255,i[n++]=t>>>16&255,i[n++]=t>>>24&255,i[n++]=0,i[n++]=0,
i[n++]=0,i[n++]=0,a=8;a<this.padLength;a++)i[n++]=0;return i};var Nd={},Rd={},Pd=md.rotr32;function Td(t,e,r){return t&e^~t&r}function Bd(t,e,r){return t&e^t&r^e&r}function Od(t,e,r){return t^e^r}Rd.ft_1=function(t,e,r,i){return 0===t?Td(e,r,i):1===t||3===t?Od(e,r,i):2===t?Bd(e,r,i):void 0},Rd.ch32=Td,Rd.maj32=Bd,Rd.p32=Od,Rd.s0_256=function(t){return Pd(t,2)^Pd(t,13)^Pd(t,22)},Rd.s1_256=function(t){return Pd(t,6)^Pd(t,11)^Pd(t,25)},Rd.g0_256=function(t){return Pd(t,7)^Pd(t,18)^t>>>3},
Rd.g1_256=function(t){return Pd(t,17)^Pd(t,19)^t>>>10};var qd=md,Ud=kd,Cd=Rd,Dd=qd.rotl32,jd=qd.sum32,Ld=qd.sum32_5,Fd=Cd.ft_1,Vd=Ud.BlockHash,Kd=[1518500249,1859775393,2400959708,3395469782];function Zd(){if(!(this instanceof Zd))return new Zd;Vd.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}qd.inherits(Zd,Vd);var Wd=Zd;Zd.blockSize=512,Zd.outSize=160,Zd.hmacStrength=80,Zd.padLength=64,Zd.prototype._update=function(t,e){
for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=Dd(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],d=this.h[4];for(i=0;i<r.length;i++){var f=~~(i/20),c=Ld(Dd(n,5),Fd(f,a,s,o),d,r[i],Kd[f]);d=o,o=s,s=Dd(a,30),a=n,n=c}this.h[0]=jd(this.h[0],n),this.h[1]=jd(this.h[1],a),this.h[2]=jd(this.h[2],s),this.h[3]=jd(this.h[3],o),this.h[4]=jd(this.h[4],d)},Zd.prototype._digest=function(t){
return"hex"===t?qd.toHex32(this.h,"big"):qd.split32(this.h,"big")}
;var $d=md,Hd=kd,Jd=Rd,Gd=yd,Yd=$d.sum32,Xd=$d.sum32_4,Qd=$d.sum32_5,tf=Jd.ch32,ef=Jd.maj32,rf=Jd.s0_256,nf=Jd.s1_256,af=Jd.g0_256,sf=Jd.g1_256,of=Hd.BlockHash,df=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]
;function ff(){if(!(this instanceof ff))return new ff;of.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=df,this.W=new Array(64)}$d.inherits(ff,of);var cf=ff;ff.blockSize=512,ff.outSize=256,ff.hmacStrength=192,ff.padLength=64,ff.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=Xd(sf(r[i-2]),r[i-7],af(r[i-15]),r[i-16])
;var n=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],d=this.h[4],f=this.h[5],c=this.h[6],h=this.h[7];for(Gd(this.k.length===r.length),i=0;i<r.length;i++){var u=Qd(h,nf(d),tf(d,f,c),this.k[i],r[i]),l=Yd(rf(n),ef(n,a,s));h=c,c=f,f=d,d=Yd(o,u),o=s,s=a,a=n,n=Yd(u,l)}this.h[0]=Yd(this.h[0],n),this.h[1]=Yd(this.h[1],a),this.h[2]=Yd(this.h[2],s),this.h[3]=Yd(this.h[3],o),this.h[4]=Yd(this.h[4],d),this.h[5]=Yd(this.h[5],f),this.h[6]=Yd(this.h[6],c),this.h[7]=Yd(this.h[7],h)},
ff.prototype._digest=function(t){return"hex"===t?$d.toHex32(this.h,"big"):$d.split32(this.h,"big")};var hf=md,uf=cf;function lf(){if(!(this instanceof lf))return new lf;uf.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}hf.inherits(lf,uf);var pf=lf;lf.blockSize=512,lf.outSize=224,lf.hmacStrength=192,lf.padLength=64,lf.prototype._digest=function(t){return"hex"===t?hf.toHex32(this.h.slice(0,7),"big"):hf.split32(this.h.slice(0,7),"big")}
;var bf=md,mf=kd,yf=yd,gf=bf.rotr64_hi,vf=bf.rotr64_lo,_f=bf.shr64_hi,wf=bf.shr64_lo,Mf=bf.sum64,Af=bf.sum64_hi,xf=bf.sum64_lo,Sf=bf.sum64_4_hi,kf=bf.sum64_4_lo,If=bf.sum64_5_hi,Ef=bf.sum64_5_lo,zf=mf.BlockHash,Nf=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]
;function Rf(){if(!(this instanceof Rf))return new Rf;zf.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Nf,this.W=new Array(160)}bf.inherits(Rf,zf);var Pf=Rf;function Tf(t,e,r,i,n){var a=t&r^~t&n;return a<0&&(a+=4294967296),a}function Bf(t,e,r,i,n,a){var s=e&i^~e&a;return s<0&&(s+=4294967296),s}function Of(t,e,r,i,n){var a=t&r^t&n^r&n
;return a<0&&(a+=4294967296),a}function qf(t,e,r,i,n,a){var s=e&i^e&a^i&a;return s<0&&(s+=4294967296),s}function Uf(t,e){var r=gf(t,e,28)^gf(e,t,2)^gf(e,t,7);return r<0&&(r+=4294967296),r}function Cf(t,e){var r=vf(t,e,28)^vf(e,t,2)^vf(e,t,7);return r<0&&(r+=4294967296),r}function Df(t,e){var r=gf(t,e,14)^gf(t,e,18)^gf(e,t,9);return r<0&&(r+=4294967296),r}function jf(t,e){var r=vf(t,e,14)^vf(t,e,18)^vf(e,t,9);return r<0&&(r+=4294967296),r}function Lf(t,e){var r=gf(t,e,1)^gf(t,e,8)^_f(t,e,7)
;return r<0&&(r+=4294967296),r}function Ff(t,e){var r=vf(t,e,1)^vf(t,e,8)^wf(t,e,7);return r<0&&(r+=4294967296),r}function Vf(t,e){var r=gf(t,e,19)^gf(e,t,29)^_f(t,e,6);return r<0&&(r+=4294967296),r}function Kf(t,e){var r=vf(t,e,19)^vf(e,t,29)^wf(t,e,6);return r<0&&(r+=4294967296),r}Rf.blockSize=1024,Rf.outSize=512,Rf.hmacStrength=192,Rf.padLength=128,Rf.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){
var n=Vf(r[i-4],r[i-3]),a=Kf(r[i-4],r[i-3]),s=r[i-14],o=r[i-13],d=Lf(r[i-30],r[i-29]),f=Ff(r[i-30],r[i-29]),c=r[i-32],h=r[i-31];r[i]=Sf(n,a,s,o,d,f,c,h),r[i+1]=kf(n,a,s,o,d,f,c,h)}},Rf.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,i=this.h[0],n=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],d=this.h[5],f=this.h[6],c=this.h[7],h=this.h[8],u=this.h[9],l=this.h[10],p=this.h[11],b=this.h[12],m=this.h[13],y=this.h[14],g=this.h[15];yf(this.k.length===r.length)
;for(var v=0;v<r.length;v+=2){var _=y,w=g,M=Df(h,u),A=jf(h,u),x=Tf(h,u,l,p,b),S=Bf(h,u,l,p,b,m),k=this.k[v],I=this.k[v+1],E=r[v],z=r[v+1],N=If(_,w,M,A,x,S,k,I,E,z),R=Ef(_,w,M,A,x,S,k,I,E,z);_=Uf(i,n),w=Cf(i,n),M=Of(i,n,a,s,o),A=qf(i,n,a,s,o,d);var P=Af(_,w,M,A),T=xf(_,w,M,A);y=b,g=m,b=l,m=p,l=h,p=u,h=Af(f,c,N,R),u=xf(c,c,N,R),f=o,c=d,o=a,d=s,a=i,s=n,i=Af(N,R,P,T),n=xf(N,R,P,T)}Mf(this.h,0,i,n),Mf(this.h,2,a,s),Mf(this.h,4,o,d),Mf(this.h,6,f,c),Mf(this.h,8,h,u),Mf(this.h,10,l,p),
Mf(this.h,12,b,m),Mf(this.h,14,y,g)},Rf.prototype._digest=function(t){return"hex"===t?bf.toHex32(this.h,"big"):bf.split32(this.h,"big")};var Zf=md,Wf=Pf;function $f(){if(!(this instanceof $f))return new $f;Wf.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Zf.inherits($f,Wf);var Hf=$f;$f.blockSize=1024,$f.outSize=384,$f.hmacStrength=192,
$f.padLength=128,$f.prototype._digest=function(t){return"hex"===t?Zf.toHex32(this.h.slice(0,12),"big"):Zf.split32(this.h.slice(0,12),"big")},Nd.sha1=Wd,Nd.sha224=pf,Nd.sha256=cf,Nd.sha384=Hf,Nd.sha512=Pf;var Jf={},Gf=md,Yf=kd,Xf=Gf.rotl32,Qf=Gf.sum32,tc=Gf.sum32_3,ec=Gf.sum32_4,rc=Yf.BlockHash;function ic(){if(!(this instanceof ic))return new ic;rc.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function nc(t,e,r,i){
return t<=15?e^r^i:t<=31?e&r|~e&i:t<=47?(e|~r)^i:t<=63?e&i|r&~i:e^(r|~i)}function ac(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function sc(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Gf.inherits(ic,rc),Jf.ripemd160=ic,ic.blockSize=512,ic.outSize=160,ic.hmacStrength=192,ic.padLength=64,ic.prototype._update=function(t,e){for(var r=this.h[0],i=this.h[1],n=this.h[2],a=this.h[3],s=this.h[4],o=r,d=i,f=n,c=a,h=s,u=0;u<80;u++){
var l=Qf(Xf(ec(r,nc(u,i,n,a),t[oc[u]+e],ac(u)),fc[u]),s);r=s,s=a,a=Xf(n,10),n=i,i=l,l=Qf(Xf(ec(o,nc(79-u,d,f,c),t[dc[u]+e],sc(u)),cc[u]),h),o=h,h=c,c=Xf(f,10),f=d,d=l}l=tc(this.h[1],n,c),this.h[1]=tc(this.h[2],a,h),this.h[2]=tc(this.h[3],s,o),this.h[3]=tc(this.h[4],r,d),this.h[4]=tc(this.h[0],i,f),this.h[0]=l},ic.prototype._digest=function(t){return"hex"===t?Gf.toHex32(this.h,"little"):Gf.split32(this.h,"little")}
;var oc=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],dc=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],fc=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],cc=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hc=md,uc=yd
;function lc(t,e,r){if(!(this instanceof lc))return new lc(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(hc.toArray(e,r))}var pc=lc;lc.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),uc(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106
;this.outer=(new this.Hash).update(t)},lc.prototype.update=function(t,e){return this.inner.update(t,e),this},lc.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=md,e.common=kd,e.sha=Nd,e.ripemd=Jf,e.hmac=pc,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(bd);var bc={exports:{}};!function(t){!function(t,e){function r(t,e){
if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:mr.Buffer}catch(t){}
function s(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function o(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function d(t,e,r,i){for(var n=0,a=Math.min(t.length,r),s=e;s<a;s++){var o=t.charCodeAt(s)-48;n*=i,n+=o>=49?o-49+10:o>=17?o-17+10:o}return n}n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){
return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),
t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0
;var a,s,o=0;if("be"===i)for(n=t.length-1,a=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(n=0,a=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length)
;for(var i=0;i<this.length;i++)this.words[i]=0;var n,a=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=o(t,e,i)<<a,this.words[s]|=67108863&n,a>=18?(a-=18,s+=1,this.words[s]|=n>>>26):a+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=o(t,e,i)<<a,this.words[s]|=67108863&n,a>=18?(a-=18,s+=1,this.words[s]|=n>>>26):a+=8;this.strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0
;for(var a=t.length-r,s=a%i,o=Math.min(a,a-s)+r,f=0,c=r;c<o;c+=i)f=d(t,c,c+i,e),this.imuln(n),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==s){var h=1;for(f=d(t,c,t.length,e),c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},
n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}
;var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176]
;function u(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],a=0|e.words[0],s=n*a,o=67108863&s,d=s/67108864|0;r.words[0]=o;for(var f=1;f<i;f++){for(var c=d>>>26,h=67108863&d,u=Math.min(f,e.length-1),l=Math.max(0,f-t.length+1);l<=u;l++){var p=f-l|0;c+=(s=(n=0|t.words[p])*(a=0|e.words[l])+h)/67108864|0,h=67108863&s}r.words[f]=0|h,d=0|c}return 0!==d?r.words[f]=0|d:r.length--,r.strip()}n.prototype.toString=function(t,e){var i;if(e=0|e||1,
16===(t=t||10)||"hex"===t){i="";for(var n=0,a=0,s=0;s<this.length;s++){var o=this.words[s],d=(16777215&(o<<n|a)).toString(16);i=0!==(a=o>>>24-n&16777215)||s!==this.length-1?f[6-d.length]+d+i:d+i,(n+=2)>=26&&(n-=26,s--)}for(0!==a&&(i=a.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var u=c[t],l=h[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(t);i=(p=p.idivn(l)).isZero()?b+i:f[u-b.length]+b+i}
for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(t,e){
return r(void 0!==a),this.toArrayLike(a,t,e)},n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,i){var n=this.byteLength(),a=i||Math.max(1,n);r(n<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var s,o,d="le"===e,f=new t(a),c=this.clone();if(d){for(o=0;!c.isZero();o++)s=c.andln(255),c.iushrn(8),f[o]=s;for(;o<a;o++)f[o]=0}else{for(o=0;o<a-n;o++)f[o]=0;for(o=0;!c.isZero();o++)s=c.andln(255),
c.iushrn(8),f[a-o-1]=s}return f},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){
var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){
return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),
this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){
return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),
this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},n.prototype.notn=function(t){
return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this)
;for(var n=0,a=0;a<i.length;a++)e=(0|r.words[a])+(0|i.words[a])+n,this.words[a]=67108863&e,n=e>>>26;for(;0!==n&&a<r.length;a++)e=(0|r.words[a])+n,this.words[a]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,
e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var a=0,s=0;s<i.length;s++)a=(e=(0|r.words[s])-(0|i.words[s])+a)>>26,
this.words[s]=67108863&e;for(;0!==a&&s<r.length;s++)a=(e=(0|r.words[s])+a)>>26,this.words[s]=67108863&e;if(0===a&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var l=function(t,e,r){
var i,n,a,s=t.words,o=e.words,d=r.words,f=0,c=0|s[0],h=8191&c,u=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,m=0|s[2],y=8191&m,g=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,M=0|s[4],A=8191&M,x=M>>>13,S=0|s[5],k=8191&S,I=S>>>13,E=0|s[6],z=8191&E,N=E>>>13,R=0|s[7],P=8191&R,T=R>>>13,B=0|s[8],O=8191&B,q=B>>>13,U=0|s[9],C=8191&U,D=U>>>13,j=0|o[0],L=8191&j,F=j>>>13,V=0|o[1],K=8191&V,Z=V>>>13,W=0|o[2],$=8191&W,H=W>>>13,J=0|o[3],G=8191&J,Y=J>>>13,X=0|o[4],Q=8191&X,tt=X>>>13,et=0|o[5],rt=8191&et,it=et>>>13,nt=0|o[6],at=8191&nt,st=nt>>>13,ot=0|o[7],dt=8191&ot,ft=ot>>>13,ct=0|o[8],ht=8191&ct,ut=ct>>>13,lt=0|o[9],pt=8191&lt,bt=lt>>>13
;r.negative=t.negative^e.negative,r.length=19;var mt=(f+(i=Math.imul(h,L))|0)+((8191&(n=(n=Math.imul(h,F))+Math.imul(u,L)|0))<<13)|0;f=((a=Math.imul(u,F))+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,F))+Math.imul(b,L)|0,a=Math.imul(b,F);var yt=(f+(i=i+Math.imul(h,K)|0)|0)+((8191&(n=(n=n+Math.imul(h,Z)|0)+Math.imul(u,K)|0))<<13)|0;f=((a=a+Math.imul(u,Z)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,L),n=(n=Math.imul(y,F))+Math.imul(g,L)|0,a=Math.imul(g,F),
i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,Z)|0)+Math.imul(b,K)|0,a=a+Math.imul(b,Z)|0;var gt=(f+(i=i+Math.imul(h,$)|0)|0)+((8191&(n=(n=n+Math.imul(h,H)|0)+Math.imul(u,$)|0))<<13)|0;f=((a=a+Math.imul(u,H)|0)+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(_,L),n=(n=Math.imul(_,F))+Math.imul(w,L)|0,a=Math.imul(w,F),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,Z)|0)+Math.imul(g,K)|0,a=a+Math.imul(g,Z)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(b,$)|0,a=a+Math.imul(b,H)|0
;var vt=(f+(i=i+Math.imul(h,G)|0)|0)+((8191&(n=(n=n+Math.imul(h,Y)|0)+Math.imul(u,G)|0))<<13)|0;f=((a=a+Math.imul(u,Y)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(A,L),n=(n=Math.imul(A,F))+Math.imul(x,L)|0,a=Math.imul(x,F),i=i+Math.imul(_,K)|0,n=(n=n+Math.imul(_,Z)|0)+Math.imul(w,K)|0,a=a+Math.imul(w,Z)|0,i=i+Math.imul(y,$)|0,n=(n=n+Math.imul(y,H)|0)+Math.imul(g,$)|0,a=a+Math.imul(g,H)|0,i=i+Math.imul(p,G)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(b,G)|0,a=a+Math.imul(b,Y)|0
;var _t=(f+(i=i+Math.imul(h,Q)|0)|0)+((8191&(n=(n=n+Math.imul(h,tt)|0)+Math.imul(u,Q)|0))<<13)|0;f=((a=a+Math.imul(u,tt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(k,L),n=(n=Math.imul(k,F))+Math.imul(I,L)|0,a=Math.imul(I,F),i=i+Math.imul(A,K)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(x,K)|0,a=a+Math.imul(x,Z)|0,i=i+Math.imul(_,$)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(w,$)|0,a=a+Math.imul(w,H)|0,i=i+Math.imul(y,G)|0,n=(n=n+Math.imul(y,Y)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,Y)|0,
i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(b,Q)|0,a=a+Math.imul(b,tt)|0;var wt=(f+(i=i+Math.imul(h,rt)|0)|0)+((8191&(n=(n=n+Math.imul(h,it)|0)+Math.imul(u,rt)|0))<<13)|0;f=((a=a+Math.imul(u,it)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(z,L),n=(n=Math.imul(z,F))+Math.imul(N,L)|0,a=Math.imul(N,F),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,Z)|0)+Math.imul(I,K)|0,a=a+Math.imul(I,Z)|0,i=i+Math.imul(A,$)|0,n=(n=n+Math.imul(A,H)|0)+Math.imul(x,$)|0,a=a+Math.imul(x,H)|0,
i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,Y)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,Y)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(g,Q)|0,a=a+Math.imul(g,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(b,rt)|0,a=a+Math.imul(b,it)|0;var Mt=(f+(i=i+Math.imul(h,at)|0)|0)+((8191&(n=(n=n+Math.imul(h,st)|0)+Math.imul(u,at)|0))<<13)|0;f=((a=a+Math.imul(u,st)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,F))+Math.imul(T,L)|0,a=Math.imul(T,F),
i=i+Math.imul(z,K)|0,n=(n=n+Math.imul(z,Z)|0)+Math.imul(N,K)|0,a=a+Math.imul(N,Z)|0,i=i+Math.imul(k,$)|0,n=(n=n+Math.imul(k,H)|0)+Math.imul(I,$)|0,a=a+Math.imul(I,H)|0,i=i+Math.imul(A,G)|0,n=(n=n+Math.imul(A,Y)|0)+Math.imul(x,G)|0,a=a+Math.imul(x,Y)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(g,rt)|0,a=a+Math.imul(g,it)|0,i=i+Math.imul(p,at)|0,n=(n=n+Math.imul(p,st)|0)+Math.imul(b,at)|0,
a=a+Math.imul(b,st)|0;var At=(f+(i=i+Math.imul(h,dt)|0)|0)+((8191&(n=(n=n+Math.imul(h,ft)|0)+Math.imul(u,dt)|0))<<13)|0;f=((a=a+Math.imul(u,ft)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(O,L),n=(n=Math.imul(O,F))+Math.imul(q,L)|0,a=Math.imul(q,F),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,Z)|0)+Math.imul(T,K)|0,a=a+Math.imul(T,Z)|0,i=i+Math.imul(z,$)|0,n=(n=n+Math.imul(z,H)|0)+Math.imul(N,$)|0,a=a+Math.imul(N,H)|0,i=i+Math.imul(k,G)|0,n=(n=n+Math.imul(k,Y)|0)+Math.imul(I,G)|0,
a=a+Math.imul(I,Y)|0,i=i+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,a=a+Math.imul(x,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(w,rt)|0,a=a+Math.imul(w,it)|0,i=i+Math.imul(y,at)|0,n=(n=n+Math.imul(y,st)|0)+Math.imul(g,at)|0,a=a+Math.imul(g,st)|0,i=i+Math.imul(p,dt)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(b,dt)|0,a=a+Math.imul(b,ft)|0;var xt=(f+(i=i+Math.imul(h,ht)|0)|0)+((8191&(n=(n=n+Math.imul(h,ut)|0)+Math.imul(u,ht)|0))<<13)|0
;f=((a=a+Math.imul(u,ut)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(C,L),n=(n=Math.imul(C,F))+Math.imul(D,L)|0,a=Math.imul(D,F),i=i+Math.imul(O,K)|0,n=(n=n+Math.imul(O,Z)|0)+Math.imul(q,K)|0,a=a+Math.imul(q,Z)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,H)|0)+Math.imul(T,$)|0,a=a+Math.imul(T,H)|0,i=i+Math.imul(z,G)|0,n=(n=n+Math.imul(z,Y)|0)+Math.imul(N,G)|0,a=a+Math.imul(N,Y)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,tt)|0,i=i+Math.imul(A,rt)|0,
n=(n=n+Math.imul(A,it)|0)+Math.imul(x,rt)|0,a=a+Math.imul(x,it)|0,i=i+Math.imul(_,at)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(w,at)|0,a=a+Math.imul(w,st)|0,i=i+Math.imul(y,dt)|0,n=(n=n+Math.imul(y,ft)|0)+Math.imul(g,dt)|0,a=a+Math.imul(g,ft)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(b,ht)|0,a=a+Math.imul(b,ut)|0;var St=(f+(i=i+Math.imul(h,pt)|0)|0)+((8191&(n=(n=n+Math.imul(h,bt)|0)+Math.imul(u,pt)|0))<<13)|0;f=((a=a+Math.imul(u,bt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,
i=Math.imul(C,K),n=(n=Math.imul(C,Z))+Math.imul(D,K)|0,a=Math.imul(D,Z),i=i+Math.imul(O,$)|0,n=(n=n+Math.imul(O,H)|0)+Math.imul(q,$)|0,a=a+Math.imul(q,H)|0,i=i+Math.imul(P,G)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(T,G)|0,a=a+Math.imul(T,Y)|0,i=i+Math.imul(z,Q)|0,n=(n=n+Math.imul(z,tt)|0)+Math.imul(N,Q)|0,a=a+Math.imul(N,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(I,rt)|0,a=a+Math.imul(I,it)|0,i=i+Math.imul(A,at)|0,n=(n=n+Math.imul(A,st)|0)+Math.imul(x,at)|0,
a=a+Math.imul(x,st)|0,i=i+Math.imul(_,dt)|0,n=(n=n+Math.imul(_,ft)|0)+Math.imul(w,dt)|0,a=a+Math.imul(w,ft)|0,i=i+Math.imul(y,ht)|0,n=(n=n+Math.imul(y,ut)|0)+Math.imul(g,ht)|0,a=a+Math.imul(g,ut)|0;var kt=(f+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,bt)|0)+Math.imul(b,pt)|0))<<13)|0;f=((a=a+Math.imul(b,bt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(C,$),n=(n=Math.imul(C,H))+Math.imul(D,$)|0,a=Math.imul(D,H),i=i+Math.imul(O,G)|0,n=(n=n+Math.imul(O,Y)|0)+Math.imul(q,G)|0,
a=a+Math.imul(q,Y)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(T,Q)|0,a=a+Math.imul(T,tt)|0,i=i+Math.imul(z,rt)|0,n=(n=n+Math.imul(z,it)|0)+Math.imul(N,rt)|0,a=a+Math.imul(N,it)|0,i=i+Math.imul(k,at)|0,n=(n=n+Math.imul(k,st)|0)+Math.imul(I,at)|0,a=a+Math.imul(I,st)|0,i=i+Math.imul(A,dt)|0,n=(n=n+Math.imul(A,ft)|0)+Math.imul(x,dt)|0,a=a+Math.imul(x,ft)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(w,ht)|0,a=a+Math.imul(w,ut)|0
;var It=(f+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,bt)|0)+Math.imul(g,pt)|0))<<13)|0;f=((a=a+Math.imul(g,bt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(C,G),n=(n=Math.imul(C,Y))+Math.imul(D,G)|0,a=Math.imul(D,Y),i=i+Math.imul(O,Q)|0,n=(n=n+Math.imul(O,tt)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(T,rt)|0,a=a+Math.imul(T,it)|0,i=i+Math.imul(z,at)|0,n=(n=n+Math.imul(z,st)|0)+Math.imul(N,at)|0,a=a+Math.imul(N,st)|0,
i=i+Math.imul(k,dt)|0,n=(n=n+Math.imul(k,ft)|0)+Math.imul(I,dt)|0,a=a+Math.imul(I,ft)|0,i=i+Math.imul(A,ht)|0,n=(n=n+Math.imul(A,ut)|0)+Math.imul(x,ht)|0,a=a+Math.imul(x,ut)|0;var Et=(f+(i=i+Math.imul(_,pt)|0)|0)+((8191&(n=(n=n+Math.imul(_,bt)|0)+Math.imul(w,pt)|0))<<13)|0;f=((a=a+Math.imul(w,bt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(C,Q),n=(n=Math.imul(C,tt))+Math.imul(D,Q)|0,a=Math.imul(D,tt),i=i+Math.imul(O,rt)|0,n=(n=n+Math.imul(O,it)|0)+Math.imul(q,rt)|0,a=a+Math.imul(q,it)|0,
i=i+Math.imul(P,at)|0,n=(n=n+Math.imul(P,st)|0)+Math.imul(T,at)|0,a=a+Math.imul(T,st)|0,i=i+Math.imul(z,dt)|0,n=(n=n+Math.imul(z,ft)|0)+Math.imul(N,dt)|0,a=a+Math.imul(N,ft)|0,i=i+Math.imul(k,ht)|0,n=(n=n+Math.imul(k,ut)|0)+Math.imul(I,ht)|0,a=a+Math.imul(I,ut)|0;var zt=(f+(i=i+Math.imul(A,pt)|0)|0)+((8191&(n=(n=n+Math.imul(A,bt)|0)+Math.imul(x,pt)|0))<<13)|0;f=((a=a+Math.imul(x,bt)|0)+(n>>>13)|0)+(zt>>>26)|0,zt&=67108863,i=Math.imul(C,rt),n=(n=Math.imul(C,it))+Math.imul(D,rt)|0,
a=Math.imul(D,it),i=i+Math.imul(O,at)|0,n=(n=n+Math.imul(O,st)|0)+Math.imul(q,at)|0,a=a+Math.imul(q,st)|0,i=i+Math.imul(P,dt)|0,n=(n=n+Math.imul(P,ft)|0)+Math.imul(T,dt)|0,a=a+Math.imul(T,ft)|0,i=i+Math.imul(z,ht)|0,n=(n=n+Math.imul(z,ut)|0)+Math.imul(N,ht)|0,a=a+Math.imul(N,ut)|0;var Nt=(f+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,bt)|0)+Math.imul(I,pt)|0))<<13)|0;f=((a=a+Math.imul(I,bt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(C,at),
n=(n=Math.imul(C,st))+Math.imul(D,at)|0,a=Math.imul(D,st),i=i+Math.imul(O,dt)|0,n=(n=n+Math.imul(O,ft)|0)+Math.imul(q,dt)|0,a=a+Math.imul(q,ft)|0,i=i+Math.imul(P,ht)|0,n=(n=n+Math.imul(P,ut)|0)+Math.imul(T,ht)|0,a=a+Math.imul(T,ut)|0;var Rt=(f+(i=i+Math.imul(z,pt)|0)|0)+((8191&(n=(n=n+Math.imul(z,bt)|0)+Math.imul(N,pt)|0))<<13)|0;f=((a=a+Math.imul(N,bt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(C,dt),n=(n=Math.imul(C,ft))+Math.imul(D,dt)|0,a=Math.imul(D,ft),i=i+Math.imul(O,ht)|0,
n=(n=n+Math.imul(O,ut)|0)+Math.imul(q,ht)|0,a=a+Math.imul(q,ut)|0;var Pt=(f+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,bt)|0)+Math.imul(T,pt)|0))<<13)|0;f=((a=a+Math.imul(T,bt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(C,ht),n=(n=Math.imul(C,ut))+Math.imul(D,ht)|0,a=Math.imul(D,ut);var Tt=(f+(i=i+Math.imul(O,pt)|0)|0)+((8191&(n=(n=n+Math.imul(O,bt)|0)+Math.imul(q,pt)|0))<<13)|0;f=((a=a+Math.imul(q,bt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863
;var Bt=(f+(i=Math.imul(C,pt))|0)+((8191&(n=(n=Math.imul(C,bt))+Math.imul(D,pt)|0))<<13)|0;return f=((a=Math.imul(D,bt))+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,d[0]=mt,d[1]=yt,d[2]=gt,d[3]=vt,d[4]=_t,d[5]=wt,d[6]=Mt,d[7]=At,d[8]=xt,d[9]=St,d[10]=kt,d[11]=It,d[12]=Et,d[13]=zt,d[14]=Nt,d[15]=Rt,d[16]=Pt,d[17]=Tt,d[18]=Bt,0!==f&&(d[19]=f,r.length++),r};function p(t,e,r){return(new b).mulp(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(l=u),n.prototype.mulTo=function(t,e){
var r,i=this.length+t.length;return r=10===this.length&&10===t.length?l(this,t,e):i<63?u(this,t,e):i<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,a=0;a<r.length-1;a++){var s=n;n=0;for(var o=67108863&i,d=Math.min(a,e.length-1),f=Math.max(0,a-t.length+1);f<=d;f++){var c=a-f,h=(0|t.words[c])*(0|e.words[f]),u=67108863&h;o=67108863&(u=u+o|0),n+=(s=(s=s+(h/67108864|0)|0)+(u>>>26)|0)>>>26,s&=67108863}r.words[a]=o,i=s,s=n}
return 0!==i?r.words[a]=i:r.length--,r.strip()}(this,t,e):p(this,t,e),r},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=n.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var i=0,n=0;n<e;n++)i|=(1&t)<<e-n-1,t>>=1;return i},b.prototype.permute=function(t,e,r,i,n,a){for(var s=0;s<a;s++)i[s]=e[t[s]],n[s]=r[t[s]]},b.prototype.transform=function(t,e,r,i,n,a){this.permute(a,t,e,r,i,n)
;for(var s=1;s<n;s<<=1)for(var o=s<<1,d=Math.cos(2*Math.PI/o),f=Math.sin(2*Math.PI/o),c=0;c<n;c+=o)for(var h=d,u=f,l=0;l<s;l++){var p=r[c+l],b=i[c+l],m=r[c+l+s],y=i[c+l+s],g=h*m-u*y;y=h*y+u*m,m=g,r[c+l]=p+m,i[c+l]=b+y,r[c+l+s]=p-m,i[c+l+s]=b-y,l!==o&&(g=d*h-f*u,u=d*u+f*h,h=g)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),i=1&r,n=0;for(r=r/2|0;r;r>>>=1)n++;return 1<<n+1+i},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,
n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},b.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},b.prototype.convert13b=function(t,e,i,n){for(var a=0,s=0;s<e;s++)a+=0|t[s],i[2*s]=8191&a,a>>>=13,i[2*s+1]=8191&a,a>>>=13;for(s=2*e;s<n;++s)i[s]=0;r(0===a),r(0==(-8192&a))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){
var i=2*this.guessLen13b(t.length,e.length),n=this.makeRBT(i),a=this.stub(i),s=new Array(i),o=new Array(i),d=new Array(i),f=new Array(i),c=new Array(i),h=new Array(i),u=r.words;u.length=i,this.convert13b(t.words,t.length,s,i),this.convert13b(e.words,e.length,f,i),this.transform(s,a,o,d,i,n),this.transform(f,a,c,h,i,n);for(var l=0;l<i;l++){var p=o[l]*c[l]-d[l]*h[l];d[l]=o[l]*h[l]+d[l]*c[l],o[l]=p}return this.conjugate(o,d,i),this.transform(o,d,u,a,i,n),this.conjugate(u,a,i),
this.normalize13b(u,i),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),p(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,i=0;i<this.length;i++){
var n=(0|this.words[i])*t,a=(67108863&n)+(67108863&e);e>>=26,e+=n/67108864|0,e+=a>>>26,this.words[i]=67108863&a}return 0!==e&&(this.words[i]=e,this.length++),this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=(t.words[i]&1<<n)>>>n}return e}(t)
;if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var a=r.sqr();i<e.length;i++,a=a.sqr())0!==e[i]&&(r=r.mul(a));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var o=this.words[e]&a,d=(0|this.words[e])-o<<i;this.words[e]=d|s,s=o>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){
for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var a=t%26,s=Math.min((t-a)/26,this.length),o=67108863^67108863>>>a<<a,d=i;if(n-=s,n=Math.max(0,n),d){for(var f=0;f<s;f++)d.words[f]=this.words[f];d.length=s}if(0===s);else if(this.length>s)for(this.length-=s,
f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var c=0;for(f=this.length-1;f>=0&&(0!==c||f>=n);f--){var h=0|this.words[f];this.words[f]=c<<26-a|h>>>a,c=h&o}return d&&0!==c&&(d.words[d.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)
},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){
var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.strip()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t
;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],
this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,a,s=t.length+i;this._expand(s);var o=0;for(n=0;n<t.length;n++){a=(0|this.words[n+i])+o
;var d=(0|t.words[n])*e;o=((a-=67108863&d)>>26)-(d/67108864|0),this.words[n+i]=67108863&a}for(;n<this.length-i;n++)o=(a=(0|this.words[n+i])+o)>>26,this.words[n+i]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,n=0;n<this.length;n++)o=(a=-(0|this.words[n])+o)>>26,this.words[n]=67108863&a;return this.negative=1,this.strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),a=t,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),i.iushln(r),
s=0|a.words[a.length-1]);var o,d=i.length-a.length;if("mod"!==e){(o=new n(null)).length=d+1,o.words=new Array(o.length);for(var f=0;f<o.length;f++)o.words[f]=0}var c=i.clone()._ishlnsubmul(a,1,d);0===c.negative&&(i=c,o&&(o.words[d]=1));for(var h=d-1;h>=0;h--){var u=67108864*(0|i.words[a.length+h])+(0|i.words[a.length+h-1]);for(u=Math.min(u/s|0,67108863),i._ishlnsubmul(a,u,h);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(a,1,h),i.isZero()||(i.negative^=1);o&&(o.words[h]=u)}return o&&o.strip(),
i.strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:o||null,mod:i}},n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(a=o.div.neg()),"div"!==e&&(s=o.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:a,mod:s}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),"mod"!==e&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),
"div"!==e&&(s=o.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:o.div,mod:s}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modn(t.words[0]))}:this._wordDiv(t,e);var a,s,o},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){
return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),a=r.cmp(i);return a<0||1===n&&0===a?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,i=0,n=this.length-1;n>=0;n--)i=(e*i+(0|this.words[n]))%t;return i},n.prototype.idivn=function(t){r(t<=67108863);for(var e=0,i=this.length-1;i>=0;i--){
var n=(0|this.words[i])+67108864*e;this.words[i]=n/t|0,e=n%t}return this.strip()},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var a=new n(1),s=new n(0),o=new n(0),d=new n(1),f=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++f;for(var c=i.clone(),h=e.clone();!e.isZero();){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);
if(u>0)for(e.iushrn(u);u-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(c),s.isub(h)),a.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(i.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||d.isOdd())&&(o.iadd(c),d.isub(h)),o.iushrn(1),d.iushrn(1);e.cmp(i)>=0?(e.isub(i),a.isub(o),s.isub(d)):(i.isub(e),o.isub(a),d.isub(s))}return{a:o,b:d,gcd:i.iushln(f)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone()
;for(var a,s=new n(1),o=new n(0),d=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var f=0,c=1;0==(e.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(e.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(d),s.iushrn(1);for(var h=0,u=1;0==(i.words[0]&u)&&h<26;++h,u<<=1);if(h>0)for(i.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(d),o.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(o)):(i.isub(e),o.isub(s))}return(a=0===e.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(t),a},n.prototype.gcd=function(t){if(this.isZero())return t.abs()
;if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var a=e;e=r,r=a}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},
n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var a=n,s=i;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,i=t<0
;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1
;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},
n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new M(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},
n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},
n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},
n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),
this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){
y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e
}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function A(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},
y.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},i(g,y),g.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n]
;if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var a=t.words[9];for(e.words[e.length++]=a&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|a>>>22,a=s}a>>>=22,t.words[n-10]=a,0===a&&t.length>10?t.length-=10:t.length-=9},g.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r];e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,
0===t.words[t.length-1]&&t.length--),t},i(v,y),i(_,y),i(w,y),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(m[t])return m[t];var e;if("k256"===t)e=new g;else if("p224"===t)e=new v;else if("p192"===t)e=new _;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return m[t]=e,e},M.prototype._verify1=function(t){
r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){
this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))
},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,
a.iushrn(1);r(!a.isZero());var o=new n(1).toRed(this),d=o.redNeg(),f=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);0!==this.pow(c,f).cmp(d);)c.redIAdd(d);for(var h=this.pow(c,a),u=this.pow(t,a.addn(1).iushrn(1)),l=this.pow(t,a),p=s;0!==l.cmp(o);){for(var b=l,m=0;0!==b.cmp(o);m++)b=b.redSqr();r(m<p);var y=this.pow(h,new n(1).iushln(p-m-1));u=u.redMul(y),h=y.redSqr(),l=l.redMul(h),p=m}return u},M.prototype.invm=function(t){var e=t._invmp(this.m)
;return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var a=r[0],s=0,o=0,d=e.bitLength()%26;for(0===d&&(d=26),i=e.length-1;i>=0;i--){for(var f=e.words[i],c=d-1;c>=0;c--){var h=f>>c&1;a!==r[0]&&(a=this.sqr(a)),0!==h||0!==s?(s<<=1,s|=h,
(4===++o||0===i&&0===c)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}d=26}return a},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new A(t)},i(A,M),A.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},A.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},A.prototype.imul=function(t,e){
if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},A.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this);var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(i).iushrn(this.shift),s=a
;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,hr)}(bc);var mc=bc.exports,yc={},gc="6.5.4",vc={},_c={};!function(t){var e=t;function r(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",i=0;i<t.length;i++)e+=r(t[i].toString(16));return e}e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){
for(var i=0;i<t.length;i++)r[i]=0|t[i];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var n=t.charCodeAt(i),a=n>>8,s=255&n;a?r.push(a,s):r.push(s)}return r},e.zero2=r,e.toHex=i,e.encode=function(t,e){return"hex"===e?i(t):t}}(_c),function(t){var e=t,r=bc.exports,i=yd,n=_c;e.assert=i,e.toArray=n.toArray,e.zero2=n.zero2,e.toHex=n.toHex,e.encode=n.encode,e.getNAF=function(t,e,r){
var i=new Array(Math.max(t.bitLength(),r)+1);i.fill(0);for(var n=1<<e+1,a=t.clone(),s=0;s<i.length;s++){var o,d=a.andln(n-1);a.isOdd()?(o=d>(n>>1)-1?(n>>1)-d:d,a.isubn(o)):o=0,i[s]=o,a.iushrn(1)}return i},e.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var i,n=0,a=0;t.cmpn(-n)>0||e.cmpn(-a)>0;){var s,o,d=t.andln(3)+n&3,f=e.andln(3)+a&3;3===d&&(d=-1),3===f&&(f=-1),s=0==(1&d)?0:3!==(i=t.andln(7)+n&7)&&5!==i||2!==f?d:-d,r[0].push(s),
o=0==(1&f)?0:3!==(i=e.andln(7)+a&7)&&5!==i||2!==d?f:-f,r[1].push(o),2*n===s+1&&(n=1-n),2*a===o+1&&(a=1-a),t.iushrn(1),e.iushrn(1)}return r},e.cachedProperty=function(t,e,r){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},e.parseBytes=function(t){return"string"==typeof t?e.toArray(t,"hex"):t},e.intFromLE=function(t){return new r(t,"hex","le")}}(vc);var wc={},Mc=bc.exports,Ac=vc,xc=Ac.getNAF,Sc=Ac.getJSF,kc=Ac.assert;function Ic(t,e){this.type=t,
this.p=new Mc(e.p,16),this.red=e.prime?Mc.red(e.prime):Mc.mont(this.p),this.zero=new Mc(0).toRed(this.red),this.one=new Mc(1).toRed(this.red),this.two=new Mc(2).toRed(this.red),this.n=e.n&&new Mc(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,
this.redN=this.n.toRed(this.red))}var Ec=Ic;function zc(t,e){this.curve=t,this.type=e,this.precomputed=null}Ic.prototype.point=function(){throw new Error("Not implemented")},Ic.prototype.validate=function(){throw new Error("Not implemented")},Ic.prototype._fixedNafMul=function(t,e){kc(t.precomputed);var r=t._getDoubles(),i=xc(e,1,this._bitLength),n=(1<<r.step+1)-(r.step%2==0?2:1);n/=3;var a,s,o=[];for(a=0;a<i.length;a+=r.step){s=0;for(var d=a+r.step-1;d>=a;d--)s=(s<<1)+i[d];o.push(s)}
for(var f=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=n;h>0;h--){for(a=0;a<o.length;a++)(s=o[a])===h?c=c.mixedAdd(r.points[a]):s===-h&&(c=c.mixedAdd(r.points[a].neg()));f=f.add(c)}return f.toP()},Ic.prototype._wnafMul=function(t,e){var r=4,i=t._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=xc(e,r,this._bitLength),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(var d=0;o>=0&&0===a[o];o--)d++;if(o>=0&&d++,s=s.dblp(d),o<0)break;var f=a[o];kc(0!==f),
s="affine"===t.type?f>0?s.mixedAdd(n[f-1>>1]):s.mixedAdd(n[-f-1>>1].neg()):f>0?s.add(n[f-1>>1]):s.add(n[-f-1>>1].neg())}return"affine"===t.type?s.toP():s},Ic.prototype._wnafMulAdd=function(t,e,r,i,n){var a,s,o,d=this._wnafT1,f=this._wnafT2,c=this._wnafT3,h=0;for(a=0;a<i;a++){var u=(o=e[a])._getNAFPoints(t);d[a]=u.wnd,f[a]=u.points}for(a=i-1;a>=1;a-=2){var l=a-1,p=a;if(1===d[l]&&1===d[p]){var b=[e[l],null,null,e[p]];0===e[l].y.cmp(e[p].y)?(b[1]=e[l].add(e[p]),
b[2]=e[l].toJ().mixedAdd(e[p].neg())):0===e[l].y.cmp(e[p].y.redNeg())?(b[1]=e[l].toJ().mixedAdd(e[p]),b[2]=e[l].add(e[p].neg())):(b[1]=e[l].toJ().mixedAdd(e[p]),b[2]=e[l].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=Sc(r[l],r[p]);for(h=Math.max(y[0].length,h),c[l]=new Array(h),c[p]=new Array(h),s=0;s<h;s++){var g=0|y[0][s],v=0|y[1][s];c[l][s]=m[3*(g+1)+(v+1)],c[p][s]=0,f[l]=b}}else c[l]=xc(r[l],d[l],this._bitLength),c[p]=xc(r[p],d[p],this._bitLength),h=Math.max(c[l].length,h),
h=Math.max(c[p].length,h)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(a=h;a>=0;a--){for(var M=0;a>=0;){var A=!0;for(s=0;s<i;s++)w[s]=0|c[s][a],0!==w[s]&&(A=!1);if(!A)break;M++,a--}if(a>=0&&M++,_=_.dblp(M),a<0)break;for(s=0;s<i;s++){var x=w[s];0!==x&&(x>0?o=f[s][x-1>>1]:x<0&&(o=f[s][-x-1>>1].neg()),_="affine"===o.type?_.mixedAdd(o):_.add(o))}}for(a=0;a<i;a++)f[a]=null;return n?_:_.toP()},Ic.BasePoint=zc,zc.prototype.eq=function(){throw new Error("Not implemented")},
zc.prototype.validate=function(){return this.curve.validate(this)},Ic.prototype.decodePoint=function(t,e){t=Ac.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?kc(t[t.length-1]%2==0):7===t[0]&&kc(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},zc.prototype.encodeCompressed=function(t){
return this.encode(t,!0)},zc.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},zc.prototype.encode=function(t,e){return Ac.encode(this._encode(e),t)},zc.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,
this},zc.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},zc.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<e;n+=t){for(var a=0;a<t;a++)i=i.dbl();r.push(i)}return{step:t,points:r}},zc.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf
;for(var e=[this],r=(1<<t)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)e[n]=e[n-1].add(i);return{wnd:t,points:e}},zc.prototype._getBeta=function(){return null},zc.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Nc=vc,Rc=bc.exports,Pc=vd.exports,Tc=Ec,Bc=Nc.assert;function Oc(t){Tc.call(this,"short",t),this.a=new Rc(t.a,16).toRed(this.red),this.b=new Rc(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),
this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Pc(Oc,Tc);var qc=Oc;function Uc(t,e,r,i){Tc.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Rc(e,16),this.y=new Rc(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),
this.inf=!1)}function Cc(t,e,r,i){Tc.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Rc(0)):(this.x=new Rc(e,16),this.y=new Rc(r,16),this.z=new Rc(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Oc.prototype._getEndomorphism=function(t){
if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new Rc(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new Rc(t.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(e))?r=n[0]:(r=n[1],Bc(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new Rc(t.a,16),b:new Rc(t.b,16)}
})):this._getEndoBasis(r)}}},Oc.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Rc.mont(t),r=new Rc(2).toRed(e).redInvm(),i=r.redNeg(),n=new Rc(3).toRed(e).redNeg().redSqrt().redMul(r);return[i.redAdd(n).fromRed(),i.redSub(n).fromRed()]},Oc.prototype._getEndoBasis=function(t){for(var e,r,i,n,a,s,o,d,f,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,u=this.n.clone(),l=new Rc(1),p=new Rc(0),b=new Rc(0),m=new Rc(1),y=0;0!==h.cmpn(0);){var g=u.div(h);d=u.sub(g.mul(h)),
f=b.sub(g.mul(l));var v=m.sub(g.mul(p));if(!i&&d.cmp(c)<0)e=o.neg(),r=l,i=d.neg(),n=f;else if(i&&2==++y)break;o=d,u=h,h=d,b=l,l=f,m=p,p=v}a=d.neg(),s=f;var _=i.sqr().add(n.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=e,s=r),i.negative&&(i=i.neg(),n=n.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:i,b:n},{a:a,b:s}]},Oc.prototype._endoSplit=function(t){
var e=this.endo.basis,r=e[0],i=e[1],n=i.b.mul(t).divRound(this.n),a=r.b.neg().mul(t).divRound(this.n),s=n.mul(r.a),o=a.mul(i.a),d=n.mul(r.b),f=a.mul(i.b);return{k1:t.sub(s).sub(o),k2:d.add(f).neg()}},Oc.prototype.pointFromX=function(t,e){(t=new Rc(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(0!==i.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var n=i.fromRed().isOdd()
;return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},Oc.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,i=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},Oc.prototype._endoWnafMulAdd=function(t,e,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<t.length;a++){var s=this._endoSplit(e[a]),o=t[a],d=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),d=d.neg(!0)),i[2*a]=o,i[2*a+1]=d,
n[2*a]=s.k1,n[2*a+1]=s.k2}for(var f=this._wnafMulAdd(1,i,n,2*a,r),c=0;c<2*a;c++)i[c]=null,n[c]=null;return f},Pc(Uc,Tc.BasePoint),Oc.prototype.point=function(t,e,r){return new Uc(this,t,e,r)},Oc.prototype.pointFromJSON=function(t,e){return Uc.fromJSON(this,t,e)},Uc.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,i=function(t){
return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}},Uc.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,
points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Uc.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],r);if(!e[2])return i;function n(e){return t.point(e[0],e[1],r)}var a=e[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},Uc.prototype.inspect=function(){
return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Uc.prototype.isInfinity=function(){return this.inf},Uc.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()))
;var r=e.redSqr().redISub(this.x).redISub(t.x),i=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Uc.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),i=t.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),s=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},Uc.prototype.getX=function(){
return this.x.fromRed()},Uc.prototype.getY=function(){return this.y.fromRed()},Uc.prototype.mul=function(t){return t=new Rc(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Uc.prototype.mulAdd=function(t,e,r){var i=[this,e],n=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Uc.prototype.jmulAdd=function(t,e,r){var i=[this,e],n=[t,r]
;return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Uc.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Uc.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,
points:r.doubles.points.map(i)}}}return e},Uc.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Pc(Cc,Tc.BasePoint),Oc.prototype.jpoint=function(t,e,r){return new Cc(this,t,e,r)},Cc.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),i=this.y.redMul(e).redMul(t);return this.curve.point(r,i)},Cc.prototype.neg=function(){
return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Cc.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(e),n=t.x.redMul(r),a=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(r.redMul(this.z)),o=i.redSub(n),d=a.redSub(s);if(0===o.cmpn(0))return 0!==d.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl()
;var f=o.redSqr(),c=f.redMul(o),h=i.redMul(f),u=d.redSqr().redIAdd(c).redISub(h).redISub(h),l=d.redMul(h.redISub(u)).redISub(a.redMul(c)),p=this.z.redMul(t.z).redMul(o);return this.curve.jpoint(u,l,p)},Cc.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,i=t.x.redMul(e),n=this.y,a=t.y.redMul(e).redMul(this.z),s=r.redSub(i),o=n.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl()
;var d=s.redSqr(),f=d.redMul(s),c=r.redMul(d),h=o.redSqr().redIAdd(f).redISub(c).redISub(c),u=o.redMul(c.redISub(h)).redISub(n.redMul(f)),l=this.z.redMul(s);return this.curve.jpoint(h,u,l)},Cc.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,s=this.y,o=this.z,d=o.redSqr().redSqr(),f=s.redAdd(s)
;for(e=0;e<t;e++){var c=a.redSqr(),h=f.redSqr(),u=h.redSqr(),l=c.redAdd(c).redIAdd(c).redIAdd(i.redMul(d)),p=a.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),m=p.redISub(b),y=l.redMul(m);y=y.redIAdd(y).redISub(u);var g=f.redMul(o);e+1<t&&(d=d.redMul(u)),a=b,o=g,f=y}return this.curve.jpoint(a,f.redMul(n),o)},Cc.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Cc.prototype._zeroDbl=function(){var t,e,r
;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var o=i.redAdd(i).redIAdd(i),d=o.redSqr().redISub(s).redISub(s),f=a.redIAdd(a);f=(f=f.redIAdd(f)).redIAdd(f),t=d,e=o.redMul(s.redISub(d)).redISub(f),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),u=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(c).redISub(u);l=l.redIAdd(l);var p=c.redAdd(c).redIAdd(c),b=p.redSqr(),m=u.redIAdd(u)
;m=(m=m.redIAdd(m)).redIAdd(m),t=b.redISub(l).redISub(l),e=p.redMul(l.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Cc.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),s=this.x.redAdd(n).redSqr().redISub(i).redISub(a);s=s.redIAdd(s);var o=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),d=o.redSqr().redISub(s).redISub(s);t=d;var f=a.redIAdd(a);f=(f=f.redIAdd(f)).redIAdd(f),
e=o.redMul(s.redISub(d)).redISub(f),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),u=this.x.redMul(h),l=this.x.redSub(c).redMul(this.x.redAdd(c));l=l.redAdd(l).redIAdd(l);var p=u.redIAdd(u),b=(p=p.redIAdd(p)).redAdd(p);t=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=l.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},Cc.prototype._dbl=function(){
var t=this.curve.a,e=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=e.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(t.redMul(n)),d=e.redAdd(e),f=(d=d.redIAdd(d)).redMul(s),c=o.redSqr().redISub(f.redAdd(f)),h=f.redISub(c),u=s.redSqr();u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=o.redMul(h).redISub(u),p=r.redAdd(r).redMul(i);return this.curve.jpoint(c,l,p)},Cc.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this)
;var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),i=e.redSqr(),n=t.redAdd(t).redIAdd(t),a=n.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(i),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),d=i.redIAdd(i);d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=n.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(d),c=e.redMul(f);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(o).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h)
;var u=this.y.redMul(f.redMul(d.redISub(f)).redISub(s.redMul(o)));u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(h,u,l)},Cc.prototype.mul=function(t,e){return t=new Rc(t,e),this.curve._wnafMul(this,t)},Cc.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1
;var i=e.redMul(this.z),n=r.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(i)).cmpn(0)},Cc.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var i=t.clone(),n=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},Cc.prototype.inspect=function(){
return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Cc.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Dc=bc.exports,jc=vd.exports,Lc=Ec,Fc=vc;function Vc(t){Lc.call(this,"mont",t),this.a=new Dc(t.a,16).toRed(this.red),this.b=new Dc(t.b,16).toRed(this.red),this.i4=new Dc(4).toRed(this.red).redInvm(),this.two=new Dc(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}
jc(Vc,Lc);var Kc=Vc;function Zc(t,e,r){Lc.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Dc(e,16),this.z=new Dc(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Vc.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),i=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===i.redSqrt().redSqr().cmp(i)},jc(Zc,Lc.BasePoint),
Vc.prototype.decodePoint=function(t,e){return this.point(Fc.toArray(t,e),1)},Vc.prototype.point=function(t,e){return new Zc(this,t,e)},Vc.prototype.pointFromJSON=function(t){return Zc.fromJSON(this,t)},Zc.prototype.precompute=function(){},Zc.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},Zc.fromJSON=function(t,e){return new Zc(t,e[0],e[1]||t.one)},Zc.prototype.inspect=function(){
return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Zc.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Zc.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),i=t.redMul(e),n=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,n)},Zc.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},
Zc.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),i=this.x.redSub(this.z),n=t.x.redAdd(t.z),a=t.x.redSub(t.z).redMul(r),s=n.redMul(i),o=e.z.redMul(a.redAdd(s).redSqr()),d=e.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,d)},Zc.prototype.mul=function(t){for(var e=t.clone(),r=this,i=this.curve.point(null,null),n=[];0!==e.cmpn(0);e.iushrn(1))n.push(e.andln(1));for(var a=n.length-1;a>=0;a--)0===n[a]?(r=r.diffAdd(i,this),i=i.dbl()):(i=r.diffAdd(i,this),r=r.dbl());return i},
Zc.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},Zc.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},Zc.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},Zc.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Zc.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Wc=vc,$c=bc.exports,Hc=vd.exports,Jc=Ec,Gc=Wc.assert;function Yc(t){
this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,Jc.call(this,"edwards",t),this.a=new $c(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new $c(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new $c(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Gc(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}Hc(Yc,Jc);var Xc=Yc;function Qc(t,e,r,i,n){Jc.BasePoint.call(this,t,"projective"),
null===e&&null===r&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new $c(e,16),this.y=new $c(r,16),this.z=i?new $c(i,16):this.curve.one,this.t=n&&new $c(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,
this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Yc.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},Yc.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},Yc.prototype.jpoint=function(t,e,r,i){return this.point(t,e,r,i)},Yc.prototype.pointFromX=function(t,e){(t=new $c(t,16)).red||(t=t.toRed(this.red))
;var r=t.redSqr(),i=this.c2.redSub(this.a.redMul(r)),n=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=i.redMul(n.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var o=s.fromRed().isOdd();return(e&&!o||!e&&o)&&(s=s.redNeg()),this.point(t,s)},Yc.prototype.pointFromY=function(t,e){(t=new $c(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),i=r.redSub(this.c2),n=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=i.redMul(n.redInvm())
;if(0===a.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},Yc.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),i=e.redMul(this.a).redAdd(r),n=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===i.cmp(n)},Hc(Qc,Jc.BasePoint),
Yc.prototype.pointFromJSON=function(t){return Qc.fromJSON(this,t)},Yc.prototype.point=function(t,e,r,i){return new Qc(this,t,e,r,i)},Qc.fromJSON=function(t,e){return new Qc(t,e[0],e[1],e[2])},Qc.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Qc.prototype.isInfinity=function(){
return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},Qc.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var i=this.curve._mulA(t),n=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),a=i.redAdd(e),s=a.redSub(r),o=i.redSub(e),d=n.redMul(s),f=a.redMul(o),c=n.redMul(o),h=s.redMul(a);return this.curve.point(d,f,h,c)},Qc.prototype._projDbl=function(){
var t,e,r,i,n,a,s=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),d=this.y.redSqr();if(this.curve.twisted){var f=(i=this.curve._mulA(o)).redAdd(d);this.zOne?(t=s.redSub(o).redSub(d).redMul(f.redSub(this.curve.two)),e=f.redMul(i.redSub(d)),r=f.redSqr().redSub(f).redSub(f)):(n=this.z.redSqr(),a=f.redSub(n).redISub(n),t=s.redSub(o).redISub(d).redMul(a),e=f.redMul(i.redSub(d)),r=f.redMul(a))}else i=o.redAdd(d),n=this.curve._mulC(this.z).redSqr(),a=i.redSub(n).redSub(n),
t=this.curve._mulC(s.redISub(i)).redMul(a),e=this.curve._mulC(i).redMul(o.redISub(d)),r=i.redMul(a);return this.curve.point(t,e,r)},Qc.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Qc.prototype._extAdd=function(t){
var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),n=this.z.redMul(t.z.redAdd(t.z)),a=r.redSub(e),s=n.redSub(i),o=n.redAdd(i),d=r.redAdd(e),f=a.redMul(s),c=o.redMul(d),h=a.redMul(d),u=s.redMul(o);return this.curve.point(f,c,u,h)},Qc.prototype._projAdd=function(t){
var e,r,i=this.z.redMul(t.z),n=i.redSqr(),a=this.x.redMul(t.x),s=this.y.redMul(t.y),o=this.curve.d.redMul(a).redMul(s),d=n.redSub(o),f=n.redAdd(o),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(a).redISub(s),h=i.redMul(d).redMul(c);return this.curve.twisted?(e=i.redMul(f).redMul(s.redSub(this.curve._mulA(a))),r=d.redMul(f)):(e=i.redMul(f).redMul(s.redSub(a)),r=this.curve._mulC(d).redMul(f)),this.curve.point(h,e,r)},Qc.prototype.add=function(t){
return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},Qc.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},Qc.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},Qc.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},Qc.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm()
;return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},Qc.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Qc.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Qc.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Qc.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},
Qc.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}},Qc.prototype.toP=Qc.prototype.normalize,Qc.prototype.mixedAdd=Qc.prototype.add,function(t){var e=t;e.base=Ec,e.short=qc,e.mont=Kc,e.edwards=Xc}(wc);var th={},eh={doubles:{step:4,
points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]
},naf:{wnd:7,
points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}};!function(t){var e,r=t,i=bd,n=wc,a=vc.assert;function s(t){"short"===t.type?this.curve=new n.short(t):"edwards"===t.type?this.curve=new n.edwards(t):this.curve=new n.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){var i=new s(e);return Object.defineProperty(r,t,{configurable:!0,enumerable:!0,
value:i}),i}})}r.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:i.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",
p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:i.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,
p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:i.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{
type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:i.sha384,gRed:!1,
g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",
a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:i.sha512,gRed:!1,
g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",
n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:i.sha256,gRed:!1,
g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{e=eh}catch(t){e=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:i.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",
lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",e]})}(th);var rh=bd,ih=_c,nh=yd;function ah(t){if(!(this instanceof ah))return new ah(t);this.hash=t.hash,
this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=ih.toArray(t.entropy,t.entropyEnc||"hex"),r=ih.toArray(t.nonce,t.nonceEnc||"hex"),i=ih.toArray(t.pers,t.persEnc||"hex");nh(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,i)}var sh=ah;ah.prototype._init=function(t,e,r){var i=t.concat(e).concat(r)
;this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},ah.prototype._hmac=function(){return new rh.hmac(this.hash,this.K)},ah.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),
this.V=this._hmac().update(this.V).digest())},ah.prototype.reseed=function(t,e,r,i){"string"!=typeof e&&(i=r,r=e,e=null),t=ih.toArray(t,e),r=ih.toArray(r,i),nh(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},ah.prototype.generate=function(t,e,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=r,r=e,e=null),r&&(r=ih.toArray(r,i||"hex"),this._update(r))
;for(var n=[];n.length<t;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,t);return this._update(r),this._reseed++,ih.encode(a,e)};var oh=bc.exports,dh=vc.assert;function fh(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ch=fh;fh.fromPublic=function(t,e,r){return e instanceof fh?e:new fh(t,{pub:e,pubEnc:r})},fh.fromPrivate=function(t,e,r){return e instanceof fh?e:new fh(t,{
priv:e,privEnc:r})},fh.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},fh.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},fh.prototype.getPrivate=function(t){
return"hex"===t?this.priv.toString(16,2):this.priv},fh.prototype._importPrivate=function(t,e){this.priv=new oh(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},fh.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?dh(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||dh(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},
fh.prototype.derive=function(t){return t.validate()||dh(t.validate(),"public point not validated"),t.mul(this.priv).getX()},fh.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},fh.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},fh.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var hh=bc.exports,uh=vc,lh=uh.assert;function ph(t,e){if(t instanceof ph)return t
;this._importDER(t,e)||(lh(t.r&&t.s,"Signature without r or s"),this.r=new hh(t.r,16),this.s=new hh(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var bh=ph;function mh(){this.place=0}function yh(t,e){var r=t[e.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4)return!1;for(var n=0,a=0,s=e.place;a<i;a++,s++)n<<=8,n|=t[s],n>>>=0;return!(n<=127)&&(e.place=s,n)}function gh(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++
;return 0===e?t:t.slice(e)}function vh(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}ph.prototype._importDER=function(t,e){t=uh.toArray(t,e);var r=new mh;if(48!==t[r.place++])return!1;var i=yh(t,r);if(!1===i)return!1;if(i+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var n=yh(t,r);if(!1===n)return!1;var a=t.slice(r.place,n+r.place);if(r.place+=n,2!==t[r.place++])return!1;var s=yh(t,r);if(!1===s)return!1
;if(t.length!==s+r.place)return!1;var o=t.slice(r.place,s+r.place);if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}return this.r=new hh(a),this.s=new hh(o),this.recoveryParam=null,!0},ph.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=gh(e),r=gh(r);!(r[0]||128&r[1]);)r=r.slice(1);var i=[2];vh(i,e.length),(i=i.concat(e)).push(2),vh(i,r.length)
;var n=i.concat(r),a=[48];return vh(a,n.length),a=a.concat(n),uh.encode(a,t)};var _h=bc.exports,wh=sh,Mh=vc,Ah=th,xh=hd.exports,Sh=Mh.assert,kh=ch,Ih=bh;function Eh(t){if(!(this instanceof Eh))return new Eh(t);"string"==typeof t&&(Sh(Object.prototype.hasOwnProperty.call(Ah,t),"Unknown curve "+t),t=Ah[t]),t instanceof Ah.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),
this.hash=t.hash||t.curve.hash}var zh=Eh;Eh.prototype.keyPair=function(t){return new kh(this,t)},Eh.prototype.keyFromPrivate=function(t,e){return kh.fromPrivate(this,t,e)},Eh.prototype.keyFromPublic=function(t,e){return kh.fromPublic(this,t,e)},Eh.prototype.genKeyPair=function(t){t||(t={});for(var e=new wh({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||xh(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()
}),r=this.n.byteLength(),i=this.n.sub(new _h(2));;){var n=new _h(e.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},Eh.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Eh.prototype.sign=function(t,e,r,i){"object"==typeof r&&(i=r,r=null),i||(i={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new _h(t,16))
;for(var n=this.n.byteLength(),a=e.getPrivate().toArray("be",n),s=t.toArray("be",n),o=new wh({hash:this.hash,entropy:a,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),d=this.n.sub(new _h(1)),f=0;;f++){var c=i.k?i.k(f):new _h(o.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(d)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var u=h.getX(),l=u.umod(this.n);if(0!==l.cmpn(0)){var p=c.invm(this.n).mul(l.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){
var b=(h.getY().isOdd()?1:0)|(0!==u.cmp(l)?2:0);return i.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new Ih({r:l,s:p,recoveryParam:b})}}}}}},Eh.prototype.verify=function(t,e,r,i){t=this._truncateToN(new _h(t,16)),r=this.keyFromPublic(r,i);var n=(e=new Ih(e,"hex")).r,a=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,o=a.invm(this.n),d=o.mul(t).umod(this.n),f=o.mul(n).umod(this.n)
;return this.curve._maxwellTrick?!(s=this.g.jmulAdd(d,r.getPublic(),f)).isInfinity()&&s.eqXToP(n):!(s=this.g.mulAdd(d,r.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(n)},Eh.prototype.recoverPubKey=function(t,e,r,i){Sh((3&r)===r,"The recovery param is more than two bits"),e=new Ih(e,i);var n=this.n,a=new _h(t),s=e.r,o=e.s,d=1&r,f=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate")
;s=f?this.curve.pointFromX(s.add(this.curve.n),d):this.curve.pointFromX(s,d);var c=e.r.invm(n),h=n.sub(a).mul(c).umod(n),u=o.mul(c).umod(n);return this.g.mulAdd(h,s,u)},Eh.prototype.getKeyRecoveryParam=function(t,e,r,i){if(null!==(e=new Ih(e,i)).recoveryParam)return e.recoveryParam;for(var n=0;n<4;n++){var a;try{a=this.recoverPubKey(t,e,n)}catch(t){continue}if(a.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Nh=vc,Rh=Nh.assert,Ph=Nh.parseBytes,Th=Nh.cachedProperty
;function Bh(t,e){this.eddsa=t,this._secret=Ph(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Ph(e.pub)}Bh.fromPublic=function(t,e){return e instanceof Bh?e:new Bh(t,{pub:e})},Bh.fromSecret=function(t,e){return e instanceof Bh?e:new Bh(t,{secret:e})},Bh.prototype.secret=function(){return this._secret},Th(Bh,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),Th(Bh,"pub",(function(){
return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Th(Bh,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,i=e.slice(0,t.encodingLength);return i[0]&=248,i[r]&=127,i[r]|=64,i})),Th(Bh,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),Th(Bh,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),Th(Bh,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),
Bh.prototype.sign=function(t){return Rh(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},Bh.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},Bh.prototype.getSecret=function(t){return Rh(this._secret,"KeyPair is public only"),Nh.encode(this.secret(),t)},Bh.prototype.getPublic=function(t){return Nh.encode(this.pubBytes(),t)};var Oh=Bh,qh=bc.exports,Uh=vc,Ch=Uh.assert,Dh=Uh.cachedProperty,jh=Uh.parseBytes;function Lh(t,e){this.eddsa=t,"object"!=typeof e&&(e=jh(e)),
Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Ch(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof qh&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Dh(Lh,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Dh(Lh,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Dh(Lh,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),
Dh(Lh,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Lh.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Lh.prototype.toHex=function(){return Uh.encode(this.toBytes(),"hex").toUpperCase()};var Fh=Lh,Vh=bd,Kh=th,Zh=vc,Wh=Zh.assert,$h=Zh.parseBytes,Hh=Oh,Jh=Fh;function Gh(t){if(Wh("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof Gh))return new Gh(t);t=Kh[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),
this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=Vh.sha512}var Yh=Gh;function Xh(t,e,r,i){var n,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,r,s):n(e,r))||s);return a>3&&s&&Object.defineProperty(e,r,s),s
/**
   * EOSIO Core v0.6.1
   * https://github.com/greymass/eosio-core
   *
   * @license
   * Copyright (c) 2020 FFF00 Agents AB & Greymass Inc. All Rights Reserved.
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   *  1. Redistribution of source code must retain the above copyright notice, this
   *     list of conditions and the following disclaimer.
   * 
   *  2. Redistribution in binary form must reproduce the above copyright notice,
   *     this list of conditions and the following disclaimer in the documentation
   *     and/or other materials provided with the distribution.
   * 
   *  3. Neither the name of the copyright holder nor the names of its contributors
   *     may be used to endorse or promote products derived from this software without
   *     specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
   * OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
   * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
   */}function Qh(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}Gh.prototype.sign=function(t,e){t=$h(t);var r=this.keyFromSecret(e),i=this.hashInt(r.messagePrefix(),t),n=this.g.mul(i),a=this.encodePoint(n),s=this.hashInt(a,r.pubBytes(),t).mul(r.priv()),o=i.add(s).umod(this.curve.n);return this.makeSignature({R:n,S:o,Rencoded:a})},Gh.prototype.verify=function(t,e,r){t=$h(t),e=this.makeSignature(e)
;var i=this.keyFromPublic(r),n=this.hashInt(e.Rencoded(),i.pubBytes(),t),a=this.g.mul(e.S());return e.R().add(i.pub().mul(n)).eq(a)},Gh.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return Zh.intFromLE(t.digest()).umod(this.curve.n)},Gh.prototype.keyFromPublic=function(t){return Hh.fromPublic(this,t)},Gh.prototype.keyFromSecret=function(t){return Hh.fromSecret(this,t)},Gh.prototype.makeSignature=function(t){
return t instanceof Jh?t:new Jh(this,t)},Gh.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},Gh.prototype.decodePoint=function(t){var e=(t=Zh.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),i=0!=(128&t[e]),n=Zh.intFromLE(r);return this.curve.pointFromY(n,i)},Gh.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},Gh.prototype.decodeInt=function(t){return Zh.intFromLE(t)},
Gh.prototype.isPoint=function(t){return t instanceof this.pointClass},function(t){var e=t;e.version=gc,e.utils=vc,e.rand=hd.exports,e.curve=wc,e.curves=th,e.ec=zh,e.eddsa=Yh}(yc);const tu={};function eu(){tu.enc=new Array(255),tu.dec={};for(let t=0;t<=255;++t){const e=t.toString(16).padStart(2,"0");tu.enc[t]=e,tu.dec[e]=t}}function ru(t){tu.enc||eu();const e=t.length,r=new Array(e);for(let i=0;i<e;++i)r[i]=tu.enc[t[i]];return r.join("")}function iu(t){return pd(t)}let nu=!1;function au(t,e){
if(t instanceof e)return!0;if(null==t||"object"!=typeof t)return!1;const r=e.__className||e.abiName;if(!r)return!1;let i=t.constructor,n=!1;for(;i&&!n;){const t=i.__className||i.abiName;if(!t)break;n=r==t,i=Object.getPrototypeOf(i)}return n&&!nu&&(console.warn(`Detected alien instance of ${r}, this usually means more than one version of @greymass/eosio has been included in your bundle.`),nu=!0),n}class su{constructor(t=new Uint8Array){this.array=t}static from(t,e){
return au(t,this)?t:"string"==typeof t?this.fromString(t,e):ArrayBuffer.isView(t)?new this(new Uint8Array(t.buffer,t.byteOffset,t.byteLength)):au(t.array,Uint8Array)?new this(t.array):new this(new Uint8Array(t))}static fromString(t,e="hex"){if("hex"===e){const e=function(t){if(tu.dec||eu(),"string"!=typeof t)throw new Error("Expected string containing hex digits");if(t.length%2)throw new Error("Odd number of hex digits");const e=(t=t.toLowerCase()).length/2,r=new Uint8Array(e)
;for(let i=0;i<e;i++){const e=tu.dec[t[2*i]+t[2*i+1]];if(void 0===e)throw new Error("Expected hex string");r[i]=e}return r}(t);return new this(e)}if("utf8"==e){return new this((new TextEncoder).encode(t))}throw new Error(`Unknown encoding: ${e}`)}static fromABI(t){const e=t.readVaruint32();return new this(t.readArray(e))}static abiDefault(){return new su}static equal(t,e){return this.from(t).equals(this.from(e))}static random(t){return new this(iu(t))}static isBytes(t){
return!(!au(t,su)&&!au(t,Uint8Array))||(!(!Array.isArray(t)||!t.every((t=>"number"==typeof t)))||!("string"!=typeof t||!/[\da-f]/i.test(t)&&""!==t))}get hexString(){return ru(this.array)}get utf8String(){return(new TextDecoder).decode(this.array)}append(t){t=su.from(t);const e=this.array.byteLength+t.array.byteLength,r=new ArrayBuffer(e),i=new Uint8Array(r);i.set(this.array),i.set(t.array,this.array.byteLength),this.array=i}appending(t){const e=new su(this.array);return e.append(t),e}
droppingFirst(t=1){return new su(this.array.subarray(t))}copy(){const t=new ArrayBuffer(this.array.byteLength),e=new Uint8Array(t);return e.set(this.array),new su(e)}equals(t){return Qh(this.array,su.from(t).array)}toString(t="hex"){if("hex"===t)return this.hexString;if("utf8"===t)return this.utf8String;throw new Error(`Unknown encoding: ${t}`)}toABI(t){t.writeVaruint32(this.array.byteLength),t.writeArray(this.array)}toJSON(){return this.hexString}}su.abiName="bytes";class ou{constructor(t){
const e=this.constructor.byteSize;if(t.byteLength!==e)throw new Error(`Checksum size mismatch, expected ${e} bytes got ${t.byteLength}`);this.array=t}static from(t){return au(t,this)?t:au(t,ou)?new this(t.array):new this(su.from(t).array)}static fromABI(t){return new this(t.readArray(this.byteSize))}static abiDefault(){return new this(new Uint8Array(this.byteSize))}equals(t){const e=this.constructor;try{return Qh(this.array,e.from(t).array)}catch{return!1}}get hexString(){return ru(this.array)}
toABI(t){t.writeArray(this.array)}toString(){return this.hexString}toJSON(){return this.toString()}}ou.abiName="__checksum";class du extends ou{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array(bd.sha256().update(su.from(t).array).digest());return new du(e)}}du.abiName="checksum256",du.byteSize=32;class fu extends ou{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array(bd.sha512().update(su.from(t).array).digest());return new fu(e)}}
fu.abiName="checksum512",fu.byteSize=64;class cu extends ou{static from(t){return super.from(t)}static hash(t){const e=new Uint8Array(bd.ripemd160().update(su.from(t).array).digest());return new cu(e)}}var hu;cu.abiName="checksum160",cu.byteSize=20,function(t){t.K1="K1",t.R1="R1",t.WA="WA"}(hu||(hu={})),function(t){t.indexFor=function(e){switch(e){case t.K1:return 0;case t.R1:return 1;case t.WA:return 2;default:throw new Error(`Unknown curve type: ${e}`)}},t.from=function(e){let r
;switch(r="number"!=typeof e?t.indexFor(e):e,r){case 0:return t.K1;case 1:return t.R1;case 2:return t.WA;default:throw new Error("Unknown curve type")}}}(hu||(hu={}));class uu{constructor(t){const e=this.constructor;if(void 0===e.isSigned||void 0===e.byteWidth)throw new Error("Cannot instantiate abstract class Int");if(t.gt(e.max))throw new Error(`Number ${t} overflows ${e.abiName}`);if(t.lt(e.min))throw new Error(`Number ${t} underflows ${e.abiName}`);this.value=t}static get max(){
return new mc(2).pow(new mc(8*this.byteWidth-(this.isSigned?1:0))).isubn(1)}static get min(){return this.isSigned?this.max.ineg().isubn(1):new mc(0)}static add(t,e,r="truncate"){return uu.operator(t,e,r,((t,e)=>t.add(e)))}static sub(t,e,r){return uu.operator(t,e,r,((t,e)=>t.sub(e)))}static mul(t,e,r){return uu.operator(t,e,r,((t,e)=>t.mul(e)))}static div(t,e,r){return uu.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");return t.div(e)}))}static divRound(t,e,r){
return uu.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");return t.divRound(e)}))}static divCeil(t,e,r){return uu.operator(t,e,r,((t,e)=>{if(e.isZero())throw new Error("Division by zero");const r=t.divmod(e);return r.mod.isZero()?r.div:0!==r.div.negative?r.div.isubn(1):r.div.iaddn(1)}))}static operator(t,e,r="truncate",i){const{a:n,b:a}=function(t,e){t=Su(t),e=Su(e);const r=t.constructor,i=e.constructor
;r!==i&&(r.isSigned===i.isSigned?r.byteWidth>i.byteWidth?e=e.cast(r):i.byteWidth>r.byteWidth&&(t=t.cast(i)):!1===r.isSigned&&r.byteWidth>=i.byteWidth?e=e.cast(r):!1===i.isSigned&&i.byteWidth>=r.byteWidth?t=t.cast(i):!0===r.isSigned&&r.max.gte(i.max)&&r.min.lte(i.min)?e=e.cast(r):!0===i.isSigned&&i.max.gte(r.max)&&i.min.lte(r.min)&&(t=t.cast(i)));return{a:t,b:e}}(t,e),s=n.constructor,o=i(n.value,a.value);return s.from(o,r)}static from(t,e){if(au(t,this))return t;let r,i=this
;if(au(t,uu))i=t.constructor,r=t.value.clone();else if(t instanceof Uint8Array)r=new mc(t,void 0,"le"),i.isSigned&&(r=r.fromTwos(8*i.byteWidth));else{if("string"==typeof t&&!/[0-9]+/.test(t)||"number"==typeof t&&!Number.isFinite(t))throw new Error("Invalid number");r=mc.isBN(t)?t.clone():new mc(t,10),r.isNeg()&&!i.isSigned&&(i={byteWidth:i.byteWidth,isSigned:!0})}switch(e){case"clamp":n=r,a=this.min,s=this.max,r=mc.min(mc.max(n,a),s);break;case"truncate":r=function(t,e,r){
const i=t.isNeg()?255:0,n=(e.isSigned?t.toTwos(8*e.byteWidth):t).toArrayLike(Uint8Array,"le"),a=new Uint8Array(r.byteWidth);a.fill(i),a.set(n.slice(0,r.byteWidth));const s=new mc(a,void 0,"le");return r.isSigned?s.fromTwos(8*r.byteWidth):s}(r,i,this)}var n,a,s;return new this(r)}static fromABI(t){return this.from(t.readArray(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){return this.from(iu(this.byteWidth))}cast(t,e="truncate"){
return this.constructor===t?this:t.from(this,e)}get byteArray(){const t=this.constructor;return(t.isSigned?this.value.toTwos(8*t.byteWidth):this.value).toArrayLike(Uint8Array,"le",t.byteWidth)}equals(t,e=!1){const r=this.constructor;if(!0===e&&au(t,uu)){const e=t.constructor;if(r.byteWidth!==e.byteWidth||r.isSigned!==e.isSigned)return!1}try{return this.value.eq(r.from(t).value)}catch{return!1}}add(t){this.value=this.operator(t,uu.add).value}adding(t){return this.operator(t,uu.add)}subtract(t){
this.value=this.operator(t,uu.sub).value}subtracting(t){return this.operator(t,uu.sub)}multiply(t){this.value=this.operator(t,uu.mul).value}multiplying(t){return this.operator(t,uu.mul)}divide(t,e){this.value=this.dividing(t,e).value}dividing(t,e){let r=uu.div;switch(e){case"ceil":r=uu.divCeil;break;case"round":r=uu.divRound}return this.operator(t,r)}operator(t,e){let r;return r=au(t,uu)?t:mu.from(t,"truncate"),e(this,r).cast(this.constructor)}toNumber(){return this.value.toNumber()}toString(){
return this.value.toString()}[Symbol.toPrimitive](t){return"number"===t?this.toNumber():this.toString()}toABI(t){t.writeArray(this.byteArray)}toJSON(){return this.value.bitLength()>32?this.value.toString():this.value.toNumber()}}uu.abiName="__int";class lu extends uu{}lu.abiName="int8",lu.byteWidth=1,lu.isSigned=!0;class pu extends uu{}pu.abiName="int16",pu.byteWidth=2,pu.isSigned=!0;class bu extends uu{}bu.abiName="int32",bu.byteWidth=4,bu.isSigned=!0;class mu extends uu{}mu.abiName="int64",
mu.byteWidth=8,mu.isSigned=!0;class yu extends uu{}yu.abiName="int128",yu.byteWidth=16,yu.isSigned=!0;class gu extends uu{}gu.abiName="uint8",gu.byteWidth=1,gu.isSigned=!1;class vu extends uu{}vu.abiName="uint16",vu.byteWidth=2,vu.isSigned=!1;class _u extends uu{}_u.abiName="uint32",_u.byteWidth=4,_u.isSigned=!1;class wu extends uu{}wu.abiName="uint64",wu.byteWidth=8,wu.isSigned=!1;class Mu extends uu{}Mu.abiName="uint128",Mu.byteWidth=16,Mu.isSigned=!1;class Au extends uu{static fromABI(t){
return new this(new mc(t.readVarint32()))}toABI(t){t.writeVarint32(Number(this))}}Au.abiName="varint32",Au.byteWidth=32,Au.isSigned=!0;class xu extends uu{static fromABI(t){return new this(new mc(t.readVaruint32()))}toABI(t){t.writeVaruint32(Number(this))}}function Su(t){let e=t;return t.constructor.byteWidth<4&&(e=t.cast(bu)),e}function ku(t){const e=[],r=[],i=[],n=new Set,a=t=>{let e;return e="string"!=typeof t.type?s(t.type):t.type,!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),
!0===t.extension&&(e+="$"),e},s=t=>{if(!t.abiName)throw new Error("Encountered non-conforming type");if("__struct"===t.abiName)throw new Error("Misconfigured Struct subclass, did you forget @Struct.type?");if(n.has(t))return t.abiName;if(n.add(t),t.abiAlias)i.push({new_type_name:t.abiName,type:a(t.abiAlias)});else if(t.abiFields){const r=t.abiFields.map((t=>({name:t.name,type:a(t)}))),i={base:t.abiBase?s(t.abiBase):"",name:t.abiName,fields:r};e.push(i)}else if(t.abiVariant){const e={
name:t.abiName,types:t.abiVariant.map(a)};r.push(e)}return t.abiName},o=s(t);return{abi:il.from({structs:e,variants:r,types:i}),types:Array.from(n),root:o}}function Iu(t){let e="string"==typeof t.type?t.type:t.type.abiName;return!0===t.array&&(e+="[]"),!0===t.optional&&(e+="?"),!0===t.extension&&(e+="$"),e}function Eu(t){return"string"==typeof t||void 0!==t.abiName?{type:t}:t}xu.abiName="varuint32",xu.byteWidth=32,xu.isSigned=!1;const zu={abiName:"string",abiDefault:()=>"",
fromABI:t=>t.readString(),from:t=>t,toABI:(t,e)=>{e.writeString(t)}},Nu={abiName:"bool",abiDefault:()=>!1,fromABI:t=>1===t.readByte(),from:t=>t,toABI:(t,e)=>{e.writeByte(!0===t?1:0)}};function Ru(t=[]){const e={},r=[Nu,zu,nl,nl.Symbol,nl.SymbolCode,rl,su,cu,du,fu,al,Yu,Ju,Gu,yu,pu,bu,mu,lu,Xu,hl,pl,tl,el,Mu,vu,_u,wu,gu,Au,xu];for(const t of r)e[t.abiName]=t;for(const r of t){if(!r.abiName)throw new Error("Invalid type");e[r.abiName]=r}return e}function Pu(t){
if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor.abiName;if(Array.isArray(t)){const e=t.map(Pu),r=e[0];if(!r||!e.every((t=>t===r)))return;return r+"[]"}switch(typeof t){case"boolean":return"bool";case"string":return"string"}}function Tu(t,e="jsobj"){var r;if(t.constructor&&void 0!==t.constructor.abiName)return t.constructor;if(Array.isArray(t)){const r=t.map((t=>Tu(t,e))),i=r[0];if(!i)return;if(!r.every((t=>t&&t.abiName===i.abiName)))return;return i}const i=typeof t
;if("object"===i&&null!==t){const i=Object.keys(t).map((r=>({name:r,type:Tu(t[r],e+"_nested")})));if(i.find((t=>!t.type)))return;return(r=class extends Zu{}).abiName=e,r.abiFields=i,r}switch(i){case"boolean":return Nu;case"string":return zu}}class Bu extends Error{constructor(t,e){super(`Decoding error at ${t.codingPath.map((({field:t,type:e})=>"number"==typeof t?t:`${t}<${e.typeName}>`)).join(".")}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function Ou(t){
const e=Eu(t.type),r=Iu(e),i=t.customTypes||[];let n;if(t.abi)n=il.from(t.abi);else try{let t;if("string"==typeof e.type){const r=Ru(i);if(t=r[new il.ResolvedType(e.type).name],!t)throw new Error(`Unknown type: ${e.type}`)}else t=e.type;const r=ku(t);n=r.abi,i.push(...r.types)}catch(t){throw Error(`Unable to synthesize ABI for: ${r} (${t.message}). To decode non-class types you need to pass the ABI definition manually.`)}const a=n.resolveType(r);"string"!=typeof e.type&&i.unshift(e.type)
;const s={types:Ru(i),strictExtensions:t.strictExtensions||!1,codingPath:[{field:"root",type:a}]};try{if(t.data){let e;if(au(t.data,ju))e=t.data;else{const r=su.from(t.data);e=new ju(r.array)}return t.metadata&&(e.metadata=t.metadata),Uu(a,e,s)}if(void 0!==t.object)return Cu(t.object,a,s);if(t.json)return Cu(JSON.parse(t.json),a,s);throw new Error("Nothing to decode, you must set one of data, json, object")}catch(t){throw new Bu(s,t)}}Bu.__className="DecodingError";const qu=Symbol("Resolved")
;function Uu(t,e,r){if(r.codingPath.length>32)throw new Error("Maximum decoding depth exceeded");if(t.isExtension&&!e.canRead())return r.strictExtensions?Du(t,r):null;if(t.isOptional&&0===e.readByte())return null;if(t.isArray){const n=e.readVaruint32(),a=[];for(let e=0;e<n;e++)r.codingPath.push({field:e,type:t}),a.push(i()),r.codingPath.pop();return a}return i();function i(){const i=r.types[t.name];if(i&&i.fromABI)return i.fromABI(e);if(t.ref){r.codingPath.push({field:"",type:t.ref})
;const i=Uu(t.ref,e,r);return r.codingPath.pop(),i}if(t.fields){const n=t.allFields;if(!n)throw new Error("Invalid struct fields");const a={};for(const t of n)r.codingPath.push({field:t.name,type:t.type}),a[t.name]=Uu(t.type,e,r),r.codingPath.pop();return i?(a[qu]=!0,i.from(a)):a}if(t.variant){const n=e.readByte(),a=t.variant[n];if(!a)throw new Error(`Unknown variant idx: ${n}`);r.codingPath.push({field:`v${n}`,type:a});const s=[a.typeName,Uu(a,e,r)];return r.codingPath.pop(),i?i.from(s):s}
throw i?new Error("Invalid type"):new Error("any"===t.name?"Unable to decode 'any' type from binary":"Unknown type")}}function Cu(t,e,r){if(null==t){if(e.isOptional)return null;if(e.isExtension)return r.strictExtensions?Du(e,r):null;throw new Error(`Unexpectedly encountered ${t} for non-optional`)}if(e.isArray){if(!Array.isArray(t))throw new Error("Expected array");const n=[],a=t.length;for(let s=0;s<a;s++)r.codingPath.push({field:s,type:e}),n.push(i(t[s])),r.codingPath.pop();return n}
return i(t);function i(t){const i=r.types[e.name];if(e.ref&&!i)return Cu(t,e.ref,r);if(e.fields){if("object"!=typeof t)throw new Error("Expected object");if("function"==typeof i&&au(t,i))return t;const n=e.allFields;if(!n)throw new Error("Invalid struct fields");const a={};for(const e of n)r.codingPath.push({field:e.name,type:e.type}),a[e.name]=Cu(t[e.name],e.type,r),r.codingPath.pop();return i?(a[qu]=!0,i.from(a)):a}if(e.variant){let n
;Array.isArray(t)&&2===t.length&&"string"==typeof t[0]?(n=t[0],t=t[1]):au(t,$u)?(n=t.variantName,t=t.value):n=Pu(t);const a=e.variant.findIndex((t=>t.typeName===n));if(-1===a)throw new Error(`Unknown variant type: ${n}`);const s=e.variant[a];r.codingPath.push({field:`v${a}`,type:s});const o=[s.typeName,Cu(t,s,r)];return r.codingPath.pop(),i?(o[qu]=!0,i.from(o)):o}if(!i){if("any"===e.name)return t;throw new Error("Unknown type")}return i.from(t)}}function Du(t,e,r=new Set){if(t.isArray)return[]
;if(t.isOptional)return null;const i=e.types[t.name];if(i&&i.abiDefault)return i.abiDefault();if(r.has(t.name))throw new Error("Circular type reference");if(r.add(t.name),t.allFields){const n={};for(const i of t.allFields)e.codingPath.push({field:i.name,type:i.type}),n[i.name]=Du(i.type,e,r),e.codingPath.pop();return i?(n[qu]=!0,i.from(n)):n}if(t.variant&&t.variant.length>0){const r=[t.variant[0].typeName,Du(t.variant[0],e)];return i?(r[qu]=!0,i.from(r)):r}if(t.ref){e.codingPath.push({field:"",
type:t.ref});const i=Du(t.ref,e,r);return e.codingPath.pop(),i}throw new Error("Unable to determine default value")}class ju{constructor(t){this.array=t,this.pos=0,this.textDecoder=new TextDecoder("utf-8",{fatal:!0}),this.metadata={},this.data=new DataView(t.buffer,t.byteOffset,t.byteLength)}canRead(t=1){return!(this.pos+t>this.array.byteLength)}ensure(t){if(!this.canRead(t))throw new Error("Read past end of buffer")}setPosition(t){
if(t<0||t>this.array.byteLength)throw new Error("Invalid position");this.pos=t}getPosition(){return this.pos}advance(t){this.ensure(t),this.pos+=t}readByte(){return this.ensure(1),this.array[this.pos++]}readFloat(t){let e;switch(this.ensure(t),t){case 4:e=this.data.getFloat32(this.pos,!0);break;case 8:e=this.data.getFloat64(this.pos,!0);break;default:throw new Error("Invalid float size")}return this.pos+=t,e}readVaruint32(){let t=0,e=0;for(;;){const r=this.readByte();if(t|=(127&r)<<e,e+=7,
!(128&r))break}return t>>>0}readVarint32(){const t=this.readVaruint32();return 1&t?~t>>1|2147483648:t>>>1}readArray(t){this.ensure(t);const e=this.array.subarray(this.pos,this.pos+t);return this.pos+=t,e}readString(){const t=this.readVaruint32();return this.textDecoder.decode(this.readArray(t))}}ju.__className="ABIDecoder";class Lu extends Error{constructor(t,e){
super(`Encoding error at ${t.codingPath.map((({field:t,type:e})=>"number"==typeof t?t:`${t}<${e.typeName}>`)).join(".")}: ${e.message}`),this.stack=e.stack,this.ctx=t,this.underlyingError=e}}function Fu(t){let e,r;"string"==typeof t.type?r=t.type:t.type&&function(t){return"string"!=typeof t&&void 0===t.abiName&&void 0!==t.type}(t.type)?("string"!=typeof t.type.type&&(e=t.type.type),r=Iu(t.type)):t.type&&void 0!==t.type.abiName?(e=t.type,r=t.type.abiName):(e=Tu(t.object),e&&(r=e.abiName,
Array.isArray(t.object)&&(r+="[]")));const i=t.customTypes?t.customTypes.slice():[];if(e)i.unshift(e);else if(r){const t=new il.ResolvedType(r).name;e=i.find((e=>e.abiName===t))}let n;if(t.abi&&r)n=il.from(t.abi).resolveType(r);else if(e){const t=ku(e);n=t.abi.resolveType(r||e.abiName),i.push(...t.types)}else{if(!r)throw new Error("Unable to determine the type of the object to be encoded. To encode custom ABI types you must pass the type argument.");n=new il.ResolvedType(r)}
const a=Ru(i),s=t.encoder||new Ku;t.metadata&&(s.metadata=t.metadata);const o={types:a,encoder:s,codingPath:[{field:"root",type:n}]};try{Vu(t.object,n,o)}catch(t){throw new Lu(o,t)}return su.from(s.getData())}function Vu(t,e,r){const i=null!=t;if(!e.isOptional||(r.encoder.writeByte(i?1:0),i))if(e.isArray){if(!Array.isArray(t))throw new Error(`Expected array for: ${e.typeName}`);const i=t.length;r.encoder.writeVaruint32(i);for(let a=0;a<i;a++)r.codingPath.push({field:a,type:e}),n(t[a]),
r.codingPath.pop()}else n(t);function n(t){const n=r.types[e.name];if(!e.ref||n){if(!i){if(e.isExtension)return;throw new Error(`Found ${t} for non-optional type: ${e.typeName}`)}if(n&&n.toABI)n.toABI(t,r.encoder);else if("function"==typeof t.toABI&&t.constructor.abiName===e.name)t.toABI(r.encoder);else if(e.fields){if("object"!=typeof t)throw new Error(`Expected object for: ${e.name}`);const i=e.allFields;if(!i)throw new Error("Invalid struct fields");for(const e of i)r.codingPath.push({
field:e.name,type:e.type}),Vu(t[e.name],e.type,r),r.codingPath.pop()}else if(e.variant){let i;Array.isArray(t)&&2===t.length&&"string"==typeof t[0]?(i=t[0],t=t[1]):au(t,$u)?(i=t.variantName,t=t.value):i=Pu(t);const n=e.variant.findIndex((t=>t.typeName===i));if(-1===n){const t=e.variant.map((t=>`'${t.typeName}'`)).join(", ");throw new Error(`Unknown variant type '${i}', expected one of ${t}`)}const a=e.variant[n];r.encoder.writeVaruint32(n),r.codingPath.push({field:`v${n}`,type:a}),Vu(t,a,r),
r.codingPath.pop()}else{if(!n)throw new Error("any"===e.name?"Unable to encode any type to binary":"Unknown type");const i=n.from(t);if(!i.toABI)throw new Error(`Invalid type ${e.name}, no encoding methods implemented`);i.toABI(r.encoder)}}else Vu(t,e.ref,r)}}Lu.__className="EncodingError";class Ku{constructor(t=1024){this.pageSize=t,this.pos=0,this.textEncoder=new TextEncoder,this.metadata={};const e=new ArrayBuffer(t);this.data=new DataView(e),this.array=new Uint8Array(e)}ensure(t){
if(this.data.byteLength>=this.pos+t)return;const e=Math.ceil(t/this.pageSize),r=this.data.byteLength+this.pageSize*e,i=new ArrayBuffer(r),n=new DataView(i),a=new Uint8Array(i);a.set(this.array),this.data=n,this.array=a}writeByte(t){this.ensure(1),this.array[this.pos++]=t}writeArray(t){const e=t.length;this.ensure(e),this.array.set(t,this.pos),this.pos+=e}writeFloat(t,e){switch(this.ensure(e),e){case 4:this.data.setFloat32(this.pos,t,!0);break;case 8:this.data.setFloat64(this.pos,t,!0);break
;default:throw new Error("Invalid float size")}this.pos+=e}writeVaruint32(t){for(this.ensure(4);;){if(!(t>>>7)){this.array[this.pos++]=t;break}this.array[this.pos++]=128|127&t,t>>>=7}}writeVarint32(t){this.writeVaruint32(t<<1^t>>31)}writeString(t){const e=this.textEncoder.encode(t);this.writeVaruint32(e.byteLength),this.writeArray(e)}getData(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.pos)}getBytes(){return new su(this.getData())}}Ku.__className="ABIEncoder";class Zu{
constructor(t){const e=this.constructor;for(const r of e.structFields)this[r.name]=t[r.name]}static from(t){return!0===t[qu]?new this(t):au(t,this)?t:Ou({object:t,type:this})}static get structFields(){const t=[],e=r=>{r.abiBase&&e(r.abiBase);for(const e of r.abiFields||[])t.push(e)};return e(this),t}equals(t){const e=this.constructor;return(!t.constructor||"string"!=typeof t.constructor.abiName||t.constructor.abiName===e.abiName)&&Fu({object:this}).equals(Fu({object:e.from(t)}))}toJSON(){
const t=this.constructor,e={};for(const r of t.structFields)e[r.name]=this[r.name];return e}}function Wu(t){return function(e){return e.abiAlias={type:Object.getPrototypeOf(e.prototype).constructor},e.abiName=t,e}}Zu.abiName="__struct",function(t){const e=Symbol("FieldsOwner");t.type=function(t){return function(e){return e.abiName=t,e}},t.field=function(t,r){return r||(r={}),(i,n)=>{const a=i.constructor;a.abiFields?a.abiFields[e]!==a&&(a.abiBase=a.abiFields[e],a.abiFields=[],
a.abiFields[e]=a):(a.abiFields=[],a.abiFields[e]=a),a.abiFields.push({...r,name:n,type:t})}}}(Zu||(Zu={}));class $u{constructor(t){const e=this.constructor.abiVariant;this.value=t[1];const r=e.map(Iu).findIndex((e=>e===t[0]));if(0>r||e.length<=r)throw new Error(`Unknown variant ${t[0]}`);this.variantIdx=r}static from(t){return t[qu]?new this(t):au(t,this)?t:Ou({object:t,type:this})}equals(t){const e=this.constructor.from(t);return this.variantIdx===e.variantIdx&&Fu({object:this}).equals(Fu({
object:e}))}get variantName(){return Iu(this.constructor.abiVariant[this.variantIdx])}toJSON(){return[this.variantName,this.value]}}$u.abiName="__variant",$u.abiVariant=[],function(t){t.type=function(t,e){return function(r){return r.abiName=t,r.abiVariant=e.map(Eu),r}}}($u||($u={}));class Hu{constructor(t){if(!Number.isFinite(t))throw new Error("Invalid number");this.value=t}static from(t){return au(t,this)?t:("string"==typeof t?t=Number.parseFloat(t):au(t,Hu)&&(t=t.value),new this(t))}
static fromABI(t){return new this(t.readFloat(this.byteWidth))}static abiDefault(){return this.from(0)}static random(){const t=iu(this.byteWidth),e=new ju(t);return this.fromABI(e)}equals(t){const e=this.constructor;return this.value===e.from(t).value}toABI(t){const e=this.constructor;t.writeFloat(this.value,e.byteWidth)}toString(){return this.value.toString()}toJSON(){return this.toString()}}Hu.abiName="__float";class Ju extends Hu{toString(){return this.value.toFixed(7)}}Ju.abiName="float32",
Ju.byteWidth=4;class Gu extends Hu{}Gu.abiName="float64",Gu.byteWidth=8;class Yu{constructor(t){if(16!==t.array.length)throw new Error("Invalid float128");this.data=t}static from(t){return au(t,this)?t:("string"==typeof t&&t.startsWith("0x")&&(t=t.slice(2)),new this(su.from(t)))}static fromABI(t){return new this(new su(t.readArray(this.byteWidth)))}static random(){const t=iu(16),e=new ju(t);return this.fromABI(e)}equals(t){const e=this.constructor;return this.data.equals(e.from(t).data)}
toABI(t){t.writeArray(this.data.array)}toString(){return"0x"+this.data.hexString}toJSON(){return this.toString()}}Yu.abiName="float128",Yu.byteWidth=16;class Xu{constructor(t){this.value=t}get rawValue(){return this.value}static from(t){if(au(t,Xu))return t;if("string"==typeof t)return new Xu(function(t){function e(t){return t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0}const r=new Uint8Array(8);let i=63
;for(let n=0;n<t.length;++n){let a=e(t.charCodeAt(n));i<5&&(a<<=1);for(let t=4;t>=0;--t)i>=0&&(r[Math.floor(i/8)]|=(a>>t&1)<<i%8,--i)}return wu.from(r)}(t));if(au(t,wu))return new Xu(t);throw new Error("Invalid name")}static fromABI(t){return new Xu(wu.fromABI(t))}static abiDefault(){return new this(wu.from(0))}equals(t){return this.value.equals(Xu.from(t).value)}toString(){return function(t){const e=t.value.toArray("le",8);let r="";for(let t=63;t>=0;){let i=0
;for(let r=0;r<5;++r)t>=0&&(i=i<<1|e[Math.floor(t/8)]>>t%8&1,--t);r+=i>=6?String.fromCharCode(i+"a".charCodeAt(0)-6):i>=1?String.fromCharCode(i+"1".charCodeAt(0)-1):"."}for(;r.endsWith(".");)r=r.substr(0,r.length-1);return r}(this.value)}toABI(t){this.value.toABI(t)}toJSON(){return this.toString()}}Xu.abiName="name",Xu.pattern=/^[a-z1-5.]{0,13}$/;class Qu{static from(t){
return au(t,this)?t:au(t,Qu)?this.fromMilliseconds(t.toMilliseconds()):au(t,Date)?this.fromDate(t):"string"==typeof t?this.fromString(t):this.fromInteger(t)}static fromString(t){const e=Date.parse(t+"Z");if(!Number.isFinite(e))throw new Error("Invalid date string");return this.fromMilliseconds(e)}static fromDate(t){return this.fromMilliseconds(t.getTime())}static abiDefault(){return this.from(0)}toABI(t){this.value.toABI(t)}equals(t){const e=this.constructor
;return this.toMilliseconds()===e.from(t).toMilliseconds()}toMilliseconds(){throw new Error("Not implemented")}toDate(){return new Date(this.toMilliseconds())}toJSON(){return this.toString()}}Qu.abiName="__time_point_base";class tl extends Qu{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(mu.from(Math.round(1e3*t)))}static fromInteger(t){return new this(mu.from(t))}static fromABI(t){return new this(mu.fromABI(t))}toString(){
return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.dividing(1e3,"round"))}}tl.abiName="time_point";class el extends Qu{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(_u.from(Math.round(t/1e3)))}static fromInteger(t){return new this(_u.from(t))}static fromABI(t){return new this(_u.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-5)}toMilliseconds(){return Number(this.value.cast(wu).multiplying(1e3))}}
el.abiName="time_point_sec";class rl extends Qu{constructor(t){super(),this.value=t}static fromMilliseconds(t){return new this(_u.from(Math.round((t-9466848e5)/500)))}static fromInteger(t){return new this(_u.from(t))}static fromABI(t){return new this(_u.fromABI(t))}toString(){return this.toDate().toISOString().slice(0,-1)}toMilliseconds(){return Number(this.value.cast(wu).multiplying(500).adding(9466848e5))}}rl.abiName="block_timestamp_type";class il{constructor(t){
this.version=t.version||il.version,this.types=t.types||[],this.variants=t.variants||[],this.structs=t.structs||[],this.actions=t.actions||[],this.tables=t.tables||[],this.ricardian_clauses=t.ricardian_clauses||[]}static from(t){return au(t,il)?t:new il("string"==typeof t?JSON.parse(t):t)}static fromABI(t){const e=t.readString(),r=[],i=t.readVaruint32();for(let e=0;e<i;e++)r.push({new_type_name:t.readString(),type:t.readString()});const n=[],a=t.readVaruint32();for(let e=0;e<a;e++){
const e=t.readString(),r=t.readString(),i=t.readVaruint32(),a=[];for(let e=0;e<i;e++)a.push({name:t.readString(),type:t.readString()});n.push({base:r,name:e,fields:a})}const s=[],o=t.readVaruint32();for(let e=0;e<o;e++){const e=Xu.fromABI(t),r=t.readString(),i=t.readString();s.push({name:e,type:r,ricardian_contract:i})}const d=[],f=t.readVaruint32();for(let e=0;e<f;e++){const e=Xu.fromABI(t),r=t.readString(),i=[],n=t.readVaruint32();for(let e=0;e<n;e++)i.push(t.readString())
;const a=[],s=t.readVaruint32();for(let e=0;e<s;e++)a.push(t.readString());const o=t.readString();d.push({name:e,index_type:r,key_names:i,key_types:a,type:o})}const c=[],h=t.readVaruint32();for(let e=0;e<h;e++){const e=t.readString(),r=t.readString();c.push({id:e,body:r})}const u=t.readVaruint32();for(let e=0;e<u;e++)t.advance(8),t.advance(t.readVaruint32());const l=t.readVaruint32();for(let e=0;e<l;e++)t.advance(2),t.advance(t.readVaruint32());const p=[];if(t.canRead()){
const e=t.readVaruint32();for(let r=0;r<e;r++){const e=t.readString(),r=[],i=t.readVaruint32();for(let e=0;e<i;e++)r.push(t.readString());p.push({name:e,types:r})}}return new il({version:e,types:r,structs:n,actions:s,tables:d,ricardian_clauses:c,variants:p})}toABI(t){t.writeString(this.version),t.writeVaruint32(this.types.length);for(const e of this.types)t.writeString(e.new_type_name),t.writeString(e.type);t.writeVaruint32(this.structs.length);for(const e of this.structs){t.writeString(e.name),
t.writeString(e.base),t.writeVaruint32(e.fields.length);for(const r of e.fields)t.writeString(r.name),t.writeString(r.type)}t.writeVaruint32(this.actions.length);for(const e of this.actions)Xu.from(e.name).toABI(t),t.writeString(e.type),t.writeString(e.ricardian_contract);t.writeVaruint32(this.tables.length);for(const e of this.tables){Xu.from(e.name).toABI(t),t.writeString(e.index_type),t.writeVaruint32(e.key_names.length);for(const r of e.key_names)t.writeString(r)
;t.writeVaruint32(e.key_types.length);for(const r of e.key_types)t.writeString(r);t.writeString(e.type)}t.writeVaruint32(this.ricardian_clauses.length);for(const e of this.ricardian_clauses)t.writeString(e.id),t.writeString(e.body);t.writeVaruint32(0),t.writeVaruint32(0),t.writeVaruint32(this.variants.length);for(const e of this.variants){t.writeString(e.name),t.writeVaruint32(e.types.length);for(const r of e.types)t.writeString(r)}}resolveType(t){return this.resolve({name:t,types:{}},{id:0})}
resolveAll(){const t={},e={id:0};return{types:this.types.map((r=>this.resolve({name:r.new_type_name,types:t},e))),variants:this.variants.map((r=>this.resolve({name:r.name,types:t},e))),structs:this.structs.map((r=>this.resolve({name:r.name,types:t},e)))}}resolve({name:t,types:e},r){const i=e[t];if(i)return i;const n=new il.ResolvedType(t,++r.id);e[n.typeName]=n;const a=this.types.find((t=>t.new_type_name==n.name));if(a)return n.ref=this.resolve({name:a.type,types:e},r),n
;const s=this.getStruct(n.name);if(s)return s.base&&(n.base=this.resolve({name:s.base,types:e},r)),n.fields=s.fields.map((t=>({name:t.name,type:this.resolve({name:t.type,types:e},r)}))),n;const o=this.getVariant(n.name);return o?(n.variant=o.types.map((t=>this.resolve({name:t,types:e},r))),n):n}getStruct(t){return this.structs.find((e=>e.name==t))}getVariant(t){return this.variants.find((e=>e.name==t))}getActionType(t){const e=Xu.from(t).toString(),r=this.actions.find((t=>t.name.toString()===e))
;if(r)return r.type}equals(t){const e=il.from(t);return this.version==e.version&&this.types.length==e.types.length&&this.structs.length==e.structs.length&&this.actions.length==e.actions.length&&this.tables.length==e.tables.length&&this.ricardian_clauses.length==e.ricardian_clauses.length&&this.variants.length==e.variants.length&&Fu({object:this}).equals(Fu({object:e}))}toJSON(){return{version:this.version,types:this.types,structs:this.structs,actions:this.actions,tables:this.tables,
ricardian_clauses:this.ricardian_clauses,error_messages:[],abi_extensions:[],variants:this.variants}}}il.abiName="abi",il.version="eosio::abi/1.1",function(t){t.ResolvedType=class{constructor(t,e=0){let r=t;r.endsWith("$")?(r=r.slice(0,-1),this.isExtension=!0):this.isExtension=!1,r.endsWith("?")?(r=r.slice(0,-1),this.isOptional=!0):this.isOptional=!1,r.endsWith("[]")?(r=r.slice(0,-2),this.isArray=!0):this.isArray=!1,this.id=e,this.name=r}get typeName(){let t=this.name
;return this.isArray&&(t+="[]"),this.isOptional&&(t+="?"),this.isExtension&&(t+="$"),t}get allFields(){let t=this;const e=[],r=new Set;do{if(!t.fields)return;if(r.has(t.name))return;for(let r=t.fields.length-1;r>=0;r--)e.unshift(t.fields[r]);r.add(t.name),t=t.base}while(void 0!==t);return e}}}(il||(il={}));class nl{constructor(t,e){this.units=t,this.symbol=e}static from(t,e){if(au(t,nl))return t;switch(typeof t){case"number":
if(!e)throw new Error("Symbol is required when creating Asset from number");return this.fromFloat(t,e);case"string":return this.fromString(t);default:throw new Error("Invalid asset")}}static fromString(t){const e=("string"==typeof t?t:"").split(" ");if(2!==e.length)throw new Error("Invalid asset string");const r=e[0].replace(".",""),i=(e[0].split(".")[1]||"").length,n=nl.Symbol.fromParts(e[1],i);return new nl(mu.from(r),n)}static fromFloat(t,e){const r=nl.Symbol.from(e)
;return new nl(r.convertFloat(t),r)}static fromUnits(t,e){return new nl(mu.from(t),nl.Symbol.from(e))}static fromABI(t){const e=mu.fromABI(t),r=nl.Symbol.fromABI(t);return new nl(e,r)}static abiDefault(){return new this(mu.from(0),nl.Symbol.abiDefault())}equals(t){const{symbol:e,units:r}=nl.from(t);return this.symbol.value.equals(e.value)&&this.units.equals(r)}get value(){return this.symbol.convertUnits(this.units)}set value(t){this.units=this.symbol.convertFloat(t)}toABI(t){this.units.toABI(t),
this.symbol.toABI(t)}toString(){const t=this.units.toString().split("");let e=!1;"-"===t[0]&&(e=!0,t.shift());const r=this.symbol.precision;for(;t.length<=r;)t.unshift("0");r>0&&t.splice(t.length-r,0,".");let i=t.join("");return e&&(i="-"+i),i+" "+this.symbol.name}toJSON(){return this.toString()}}nl.abiName="asset",function(t){class e{constructor(t){if(sl(t)>e.maxPrecision)throw new Error("Invalid asset symbol, precision too large")
;if(!e.symbolNamePattern.test(ol(t)))throw new Error("Invalid asset symbol, name must be uppercase A-Z");this.value=t}static from(t){if(au(t,e))return t;if(au(t,wu))return new e(t);const r=t.split(",");if(2!==r.length)throw new Error("Invalid symbol string");const i=Number.parseInt(r[0]);return e.fromParts(r[1],i)}static fromParts(t,r){return new e(function(t,e){const r=fl(t),i=new Uint8Array(r.length+1);return i[0]=e,i.set(r,1),wu.from(i)}(t,r))}static fromABI(t){return new e(wu.fromABI(t))}
static abiDefault(){return this.from("4,SYS")}equals(t){return this.value.equals(e.from(t).value)}get name(){return ol(this.value)}get precision(){return sl(this.value)}get code(){return new r(wu.from(this.value.value.clone().iushrn(8)))}toABI(t){this.value.toABI(t)}convertUnits(t){return t.value.toNumber()/Math.pow(10,this.precision)}convertFloat(t){return mu.from(t.toFixed(this.precision).replace(".",""))}toString(){return`${this.precision},${this.name}`}toJSON(){return this.toString()}}
e.abiName="symbol",e.symbolNamePattern=/^[A-Z]{1,7}$/,e.maxPrecision=18,t.Symbol=e;class r{constructor(t){this.value=t}static from(t){return au(t,r)?t:("string"==typeof t&&(t=wu.from(fl(t))),new this(wu.from(t)))}static fromABI(t){return new r(wu.fromABI(t))}static abiDefault(){return this.from("SYS")}equals(t){return this.value.equals(r.from(t).value)}toABI(t){this.value.toABI(t)}toString(){return dl(this.value.value.toArray("be"))}toJSON(){return this.toString()}}r.abiName="symbol_code",
t.SymbolCode=r}(nl||(nl={}));class al{constructor(t,e){this.quantity=t,this.contract=e}static from(t){return au(t,al)?t:new this(nl.from(t.quantity),Xu.from(t.contract))}static fromABI(t){return new al(nl.fromABI(t),Xu.fromABI(t))}equals(t){return this.quantity.equals(t.quantity)&&this.contract.equals(t.contract)}toABI(t){this.quantity.toABI(t),this.contract.toABI(t)}toJSON(){return{quantity:this.quantity,contract:this.contract}}}function sl(t){return t.value.and(wu.from(255).value).toNumber()}
function ol(t){return dl(t.value.toArray("be").slice(0,-1))}function dl(t){return t.map((t=>String.fromCharCode(t))).reverse().join("")}function fl(t){const e=Math.min(t.length,7),r=new Uint8Array(e);for(let i=0;i<e;i++)r[i]=t.charCodeAt(i);return r}var cl;al.abiName="extended_asset",function(t){let e;!function(t){t.E_CHECKSUM="E_CHECKSUM",t.E_INVALID="E_INVALID"}(e=t.ErrorCode||(t.ErrorCode={}));class r extends Error{constructor(t,e,r={}){super(t),this.code=e,this.info=r}}
r.__className="DecodingError",t.DecodingError=r;const i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",n=new Int16Array(255).fill(-1);for(let t=0;t<58;++t)n[i.charCodeAt(t)]=t;function a(t,i){if(null==i)return function(t){const i=[];for(let a=0;a<t.length;++a){let s=n[t.charCodeAt(a)];if(s<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:t[a]});for(let t=0;t<i.length;++t){const e=58*i[t]+s;i[t]=255&e,s=e>>8}s&&i.push(s)}for(const e of t){if("1"!==e)break
;i.push(0)}return i.reverse(),su.from(i)}(t);const a=new Uint8Array(i);for(let s=0;s<t.length;++s){let o=n[t.charCodeAt(s)];if(o<0)throw new r("Invalid Base58 character encountered",e.E_INVALID,{char:t[s]});for(let t=0;t<i;++t){const e=58*a[t]+o;a[t]=e,o=e>>8}if(o)throw new r("Base58 value is out of range",e.E_INVALID)}return a.reverse(),new su(a)}function s(t){t=su.from(t);const e=[];for(const r of t.array){let t=r;for(let r=0;r<e.length;++r){const a=(n[e[r]]<<8)+t;e[r]=i.charCodeAt(a%58),
t=a/58|0}for(;t;)e.push(i.charCodeAt(t%58)),t=t/58|0}for(const r of t.array){if(r)break;e.push("1".charCodeAt(0))}return e.reverse(),String.fromCharCode(...e)}function o(t,e){const r=bd.ripemd160().update(t);return e&&r.update(e),new Uint8Array(r.digest().slice(0,4))}function d(t){const e=bd.sha256().update(t).digest(),r=bd.sha256().update(e).digest();return new Uint8Array(r.slice(0,4))}t.decode=a,t.decodeCheck=function(t,i){
const n=a(t,null!=i?i+4:i),s=n.array.subarray(0,-4),o=n.array.subarray(-4),f=d(s);if(!Qh(o,f))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:f,expected:o,data:s,hash:"double_sha256"});return new su(s)},t.decodeRipemd160Check=function(t,i,n){const s=a(t,null!=i?i+4:i),d=s.array.subarray(0,-4),f=s.array.subarray(-4),c=o(d,n);if(!Qh(f,c))throw new r("Checksum mismatch",e.E_CHECKSUM,{actual:c,expected:f,data:d,hash:"ripemd160"});return new su(d)},t.encode=s,t.encodeCheck=function(t){
return s(t=(t=su.from(t)).appending(d(t.array)))},t.encodeRipemd160Check=function(t,e){return s(t=(t=su.from(t)).appending(o(t.array,e)))}}(cl||(cl={}));class hl{constructor(t,e){this.type=t,this.data=e}static from(t){if(au(t,hl))return t;if("object"==typeof t&&t.type&&t.compressed)return new hl(hu.from(t.type),new su(t.compressed));if("string"!=typeof t)throw new Error("Invalid public key");if(t.startsWith("PUB_")){const e=t.split("_")
;if(3!==e.length)throw new Error("Invalid public key string");const r=hu.from(e[1]),i=r===hu.K1||r===hu.R1?33:void 0,n=cl.decodeRipemd160Check(e[2],i,r);return new hl(r,n)}if(t.length>=50){const e=cl.decodeRipemd160Check(t.slice(-50));return new hl(hu.K1,e)}throw new Error("Invalid public key string")}static fromABI(t){const e=hu.from(t.readByte());if(e==hu.WA){const e=t.getPosition();t.advance(33),t.advance(1),t.advance(t.readVaruint32());const r=t.getPosition()-e;t.setPosition(e)
;const i=su.from(t.readArray(r));return new hl(hu.WA,i)}return new hl(e,new su(t.readArray(33)))}equals(t){const e=hl.from(t);return this.type===e.type&&this.data.equals(e.data)}toLegacyString(t="EOS"){if(this.type!==hu.K1)throw new Error("Unable to create legacy formatted string for non-K1 key");return`${t}${cl.encodeRipemd160Check(this.data)}`}toString(){return`PUB_${this.type}_${cl.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(hu.indexFor(this.type)),
t.writeArray(this.data.array)}toJSON(){return this.toString()}}hl.abiName="public_key";const ul={};function ll(t){let e=ul[t];if(!e)if("K1"===t)e=ul[t]=new yc.ec("secp256k1");else{if("R1"!==t)throw new Error(`Unknown curve type: ${t}`);e=ul[t]=new yc.ec("p256")}return e}class pl{constructor(t,e){this.type=t,this.data=e}static from(t){if(au(t,pl))return t;if("object"==typeof t&&t.r&&t.s){const e=new Uint8Array(65);let r=t.recid;const i=hu.from(t.type)
;return t.type!==hu.K1&&t.type!==hu.R1||(r+=31),e[0]=r,e.set(t.r,1),e.set(t.s,33),new pl(i,new su(e))}if("string"!=typeof t)throw new Error("Invalid signature");if(t.startsWith("SIG_")){const e=t.split("_");if(3!==e.length)throw new Error("Invalid signature string");const r=hu.from(e[1]),i=r===hu.K1||r===hu.R1?65:void 0,n=cl.decodeRipemd160Check(e[2],i,r);return new pl(r,n)}throw new Error("Invalid signature string")}static fromABI(t){const e=hu.from(t.readByte());if(e===hu.WA){
const e=t.getPosition();t.advance(65),t.advance(t.readVaruint32()),t.advance(t.readVaruint32());const r=t.getPosition()-e;t.setPosition(e);const i=su.from(t.readArray(r));return new pl(hu.WA,i)}return new pl(e,new su(t.readArray(65)))}equals(t){const e=pl.from(t);return this.type===e.type&&this.data.equals(e.data)}recoverDigest(t){t=du.from(t);const e=function(t,e,r){const i=ll(r),n=t[0]-31,a=t.subarray(1,33),s=t.subarray(33),o=i.recoverPubKey(e,{r:a,s:s},n)
;return new Uint8Array(o.encodeCompressed())}(this.data.array,t.array,this.type);return hl.from({compressed:e,type:this.type})}recoverMessage(t){return this.recoverDigest(du.hash(t))}verifyDigest(t,e){return t=du.from(t),function(t,e,r,i){const n=ll(i),a=t.subarray(1,33),s=t.subarray(33);return n.verify(e,{r:a,s:s},r)}(this.data.array,t.array,e.data.array,this.type)}verifyMessage(t,e){return this.verifyDigest(du.hash(t),e)}toString(){
return`SIG_${this.type}_${cl.encodeRipemd160Check(this.data,this.type)}`}toABI(t){t.writeByte(hu.indexFor(this.type)),t.writeArray(this.data.array)}toJSON(){return this.toString()}}var bl;pl.abiName="signature";let ml=bl=class extends Zu{static from(t){if("string"==typeof t){const e=t.split("@");if(2!==e.length&&e[0].length>0&&e[1].length>0)throw new Error("Invalid permission level string, should be in the format <actor>@<permission>");t={actor:e[0],permission:e[1]}}return super.from(t)}
equals(t){const e=bl.from(t);return this.actor.equals(e.actor)&&this.permission.equals(e.permission)}toString(){return`${this.actor}@${this.permission}`}};var yl;Xh([Zu.field("name")],ml.prototype,"actor",void 0),Xh([Zu.field("name")],ml.prototype,"permission",void 0),ml=bl=Xh([Zu.type("permission_level")],ml);let gl=yl=class extends Zu{static from(t,e){const r=t.data;if(!su.isBytes(r)){let i
;if(e)i=il.from(e).getActionType(t.name);else if(!r.constructor||void 0===r.constructor.abiName)throw new Error("Missing ABI definition when creating action with untyped action data");t={...t,data:Fu({object:r,type:i,abi:e})}}return super.from(t)}equals(t){const e=yl.from(t);return this.account.equals(e.account)&&this.name.equals(e.name)&&function(t,e){const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(!t[i].equals(e[i]))return!1;return!0
}(this.authorization,e.authorization)&&this.data.equals(e.data)}decodeData(t){if("string"==typeof t||t.abiName)return Ou({data:this.data,type:t});{const e=il.from(t),r=e.getActionType(this.name);if(!r)throw new Error(`Action ${this.name} does not exist in provided ABI`);return Ou({data:this.data,type:r,abi:e})}}};var vl;Xh([Zu.field("name")],gl.prototype,"account",void 0),Xh([Zu.field("name")],gl.prototype,"name",void 0),Xh([Zu.field(ml,{array:!0})],gl.prototype,"authorization",void 0),
Xh([Zu.field("bytes")],gl.prototype,"data",void 0),gl=yl=Xh([Zu.type("action")],gl);let _l=class extends Zu{};Xh([Zu.field("uint16")],_l.prototype,"type",void 0),Xh([Zu.field("bytes")],_l.prototype,"data",void 0),_l=Xh([Zu.type("transaction_extension")],_l);let wl=class extends Zu{static from(t){return super.from({max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,...t})}};Xh([Zu.field("time_point_sec")],wl.prototype,"expiration",void 0),
Xh([Zu.field("uint16")],wl.prototype,"ref_block_num",void 0),Xh([Zu.field("uint32")],wl.prototype,"ref_block_prefix",void 0),Xh([Zu.field("varuint32")],wl.prototype,"max_net_usage_words",void 0),Xh([Zu.field("uint8")],wl.prototype,"max_cpu_usage_ms",void 0),Xh([Zu.field("varuint32")],wl.prototype,"delay_sec",void 0),wl=Xh([Zu.type("transaction_header")],wl);let Ml=vl=class extends wl{static from(t,e){const r=t=>{return gl.from(t,(r=t.account,
e?Array.isArray(e)?e.filter((t=>Xu.from(t.contract).equals(r))).map((({abi:t})=>t))[0]:e:void 0));var r},i=(t.actions||[]).map(r),n=(t.context_free_actions||[]).map(r),a={transaction_extensions:[],...t,context_free_actions:n,actions:i};return super.from(a)}equals(t){const e=vl.from(t);return this.id.equals(e.id)}get id(){return du.hash(Fu({object:this}))}signingDigest(t){const e=this.signingData(t);return du.hash(e)}signingData(t){let e=su.from(du.from(t).array);return e=e.appending(Fu({
object:this})),e=e.appending(new Uint8Array(32)),e}};Xh([Zu.field(gl,{array:!0})],Ml.prototype,"context_free_actions",void 0),Xh([Zu.field(gl,{array:!0})],Ml.prototype,"actions",void 0),Xh([Zu.field(_l,{array:!0})],Ml.prototype,"transaction_extensions",void 0),Ml=vl=Xh([Zu.type("transaction")],Ml);let Al=class extends Ml{static from(t){return super.from({signatures:[],context_free_data:[],...t})}};Xh([Zu.field("signature[]")],Al.prototype,"signatures",void 0),
Xh([Zu.field("bytes[]")],Al.prototype,"context_free_data",void 0),Al=Xh([Zu.type("signed_transaction")],Al);let xl=class extends Zu{static from(t){return super.from({signatures:[],packed_context_free_data:"",compression:0,...t})}static fromSigned(t){const e=Ml.from(t);return this.from({signatures:t.signatures,packed_context_free_data:Fu({object:t.context_free_data,type:"bytes[]"}),packed_trx:Fu({object:e})})}getTransaction(){
if(0!==Number(this.compression))throw new Error("Transaction compression not supported yet");return Ou({data:this.packed_trx,type:Ml})}getSignedTransaction(){const t=this.getTransaction();return Al.from({...t,signatures:this.signatures})}};Xh([Zu.field("signature[]")],xl.prototype,"signatures",void 0),Xh([Zu.field("uint8")],xl.prototype,"compression",void 0),Xh([Zu.field("bytes")],xl.prototype,"packed_context_free_data",void 0),Xh([Zu.field("bytes")],xl.prototype,"packed_trx",void 0),
xl=Xh([Zu.type("packed_transaction")],xl);let Sl=class extends Zu{};var kl;Xh([Zu.field("string")],Sl.prototype,"status",void 0),Xh([Zu.field("uint32")],Sl.prototype,"cpu_usage_us",void 0),Xh([Zu.field("uint32")],Sl.prototype,"net_usage_words",void 0),Sl=Xh([Zu.type("transaction_receipt")],Sl);let Il=class extends vu{};Il=Xh([Wu("weight_type")],Il);let El=class extends Zu{};Xh([Zu.field(hl)],El.prototype,"key",void 0),Xh([Zu.field(Il)],El.prototype,"weight",void 0),
El=Xh([Zu.type("key_weight")],El);let zl=class extends Zu{};Xh([Zu.field(ml)],zl.prototype,"permission",void 0),Xh([Zu.field(Il)],zl.prototype,"weight",void 0),zl=Xh([Zu.type("permission_level_weight")],zl);let Nl=class extends Zu{};Xh([Zu.field(_u)],Nl.prototype,"wait_sec",void 0),Xh([Zu.field(Il)],Nl.prototype,"weight",void 0),Nl=Xh([Zu.type("wait_weight")],Nl);let Rl=kl=class extends Zu{static from(t){if(au(t,kl))return t;const e=super.from({keys:[],accounts:[],waits:[],...t})
;return e.sort(),e}get waitThreshold(){return this.waits.reduce(((t,e)=>t+e.weight.toNumber()),0)}get keyThreshold(){return this.threshold.toNumber()-this.waitThreshold}keyWeight(t){const e=this.keys.find((({key:e})=>e.equals(t)));return e?e.weight.toNumber():0}hasPermission(t,e=!1){const r=e?1:this.keyThreshold;return this.keyWeight(t)>=r}sort(){this.keys.sort(((t,e)=>String(t.key).localeCompare(String(e.key)))),
this.accounts.sort(((t,e)=>String(t.permission).localeCompare(String(e.permission)))),this.waits.sort(((t,e)=>String(t.wait_sec).localeCompare(String(e.wait_sec))))}};var Pl;Xh([Zu.field(_u)],Rl.prototype,"threshold",void 0),Xh([Zu.field(El,{array:!0})],Rl.prototype,"keys",void 0),Xh([Zu.field(zl,{array:!0})],Rl.prototype,"accounts",void 0),Xh([Zu.field(Nl,{array:!0})],Rl.prototype,"waits",void 0),Rl=kl=Xh([Zu.type("authority")],Rl),function(t){t.encode=Fu,t.decode=Ou,t.synthesize=function(t){
return ku(t).abi},t.stringify=function(t){return JSON.stringify(t)},t.objectify=function(t){const e=t=>{switch(typeof t){case"boolean":case"number":case"string":return t;case"object":{if(null===t)return t;if("function"==typeof t.toJSON)return e(t.toJSON());if(Array.isArray(t))return t.map(e);const r={};for(const i of Object.keys(t))r[i]=e(t[i]);return r}}};return e(t)}}(Pl||(Pl={}));let Tl=class extends Zu{};Xh([Zu.field("name")],Tl.prototype,"perm_name",void 0),
Xh([Zu.field("name")],Tl.prototype,"parent",void 0),Xh([Zu.field(Rl)],Tl.prototype,"required_auth",void 0),Tl=Xh([Zu.type("account_permission")],Tl);let Bl=class extends Zu{};Xh([Zu.field("int64")],Bl.prototype,"used",void 0),Xh([Zu.field("int64")],Bl.prototype,"available",void 0),Xh([Zu.field("int64")],Bl.prototype,"max",void 0),Bl=Xh([Zu.type("account_resource_limit")],Bl);let Ol=class extends Zu{};Xh([Zu.field("name")],Ol.prototype,"owner",void 0),
Xh([Zu.field("asset")],Ol.prototype,"net_weight",void 0),Xh([Zu.field("asset")],Ol.prototype,"cpu_weight",void 0),Xh([Zu.field("uint64")],Ol.prototype,"ram_bytes",void 0),Ol=Xh([Zu.type("account_total_resources")],Ol);let ql=class extends Zu{};Xh([Zu.field("name")],ql.prototype,"from",void 0),Xh([Zu.field("name")],ql.prototype,"to",void 0),Xh([Zu.field("asset")],ql.prototype,"net_weight",void 0),Xh([Zu.field("asset")],ql.prototype,"cpu_weight",void 0),
ql=Xh([Zu.type("account_self_delegated_bandwidth")],ql);let Ul=class extends Zu{};Xh([Zu.field("name")],Ul.prototype,"owner",void 0),Xh([Zu.field("time_point")],Ul.prototype,"request_time",void 0),Xh([Zu.field("asset")],Ul.prototype,"net_amount",void 0),Xh([Zu.field("asset")],Ul.prototype,"cpu_amount",void 0),Ul=Xh([Zu.type("account_refund_request")],Ul);let Cl=class extends Zu{};Xh([Zu.field("name")],Cl.prototype,"owner",void 0),Xh([Zu.field("name")],Cl.prototype,"proxy",void 0),
Xh([Zu.field("name",{array:!0})],Cl.prototype,"producers",void 0),Xh([Zu.field("int64",{optional:!0})],Cl.prototype,"staked",void 0),Xh([Zu.field("bool")],Cl.prototype,"is_proxy",void 0),Xh([Zu.field("uint32",{optional:!0})],Cl.prototype,"flags1",void 0),Xh([Zu.field("uint32")],Cl.prototype,"reserved2",void 0),Xh([Zu.field("string")],Cl.prototype,"reserved3",void 0),Cl=Xh([Zu.type("account_voter_info")],Cl);let Dl=class extends Zu{};Xh([Zu.field("time_point",{optional:!0
})],Dl.prototype,"key",void 0),Xh([Zu.field("int64",{optional:!0})],Dl.prototype,"value",void 0),Xh([Zu.field("time_point",{optional:!0})],Dl.prototype,"first",void 0),Xh([Zu.field("int64",{optional:!0})],Dl.prototype,"second",void 0),Dl=Xh([Zu.type("account_rex_info_maturities")],Dl);let jl=class extends Zu{};Xh([Zu.field("uint32")],jl.prototype,"version",void 0),Xh([Zu.field("name")],jl.prototype,"owner",void 0),Xh([Zu.field("asset")],jl.prototype,"vote_stake",void 0),
Xh([Zu.field("asset")],jl.prototype,"rex_balance",void 0),Xh([Zu.field("int64")],jl.prototype,"matured_rex",void 0),Xh([Zu.field(Dl,{array:!0})],jl.prototype,"rex_maturities",void 0),jl=Xh([Zu.type("account_rex_info")],jl);let Ll=class extends Zu{getPermission(t){const e=Xu.from(t),r=this.permissions.find((t=>t.perm_name.equals(e)));if(!r)throw new Error(`Unknown permission ${e} on account ${this.account_name}.`);return r}};Xh([Zu.field("name")],Ll.prototype,"account_name",void 0),
Xh([Zu.field("uint32")],Ll.prototype,"head_block_num",void 0),Xh([Zu.field("time_point")],Ll.prototype,"head_block_time",void 0),Xh([Zu.field("bool")],Ll.prototype,"privileged",void 0),Xh([Zu.field("time_point")],Ll.prototype,"last_code_update",void 0),Xh([Zu.field("time_point")],Ll.prototype,"created",void 0),Xh([Zu.field("asset?")],Ll.prototype,"core_liquid_balance",void 0),Xh([Zu.field("int64")],Ll.prototype,"ram_quota",void 0),Xh([Zu.field("int64")],Ll.prototype,"net_weight",void 0),
Xh([Zu.field("int64")],Ll.prototype,"cpu_weight",void 0),Xh([Zu.field(Bl)],Ll.prototype,"net_limit",void 0),Xh([Zu.field(Bl)],Ll.prototype,"cpu_limit",void 0),Xh([Zu.field("uint64")],Ll.prototype,"ram_usage",void 0),Xh([Zu.field(Tl,{array:!0})],Ll.prototype,"permissions",void 0),Xh([Zu.field(Ol)],Ll.prototype,"total_resources",void 0),Xh([Zu.field(ql,{optional:!0})],Ll.prototype,"self_delegated_bandwidth",void 0),Xh([Zu.field(Ul,{optional:!0})],Ll.prototype,"refund_request",void 0),
Xh([Zu.field(Cl,{optional:!0})],Ll.prototype,"voter_info",void 0),Xh([Zu.field(jl,{optional:!0})],Ll.prototype,"rex_info",void 0),Ll=Xh([Zu.type("account_object")],Ll);let Fl=class extends Zu{};Xh([Zu.field("name")],Fl.prototype,"producer_name",void 0),Xh([Zu.field("public_key")],Fl.prototype,"block_signing_key",void 0),Fl=Xh([Zu.type("new_producers_entry")],Fl);let Vl=class extends Zu{};Xh([Zu.field("uint32")],Vl.prototype,"version",void 0),Xh([Zu.field(Fl,{array:!0
})],Vl.prototype,"producers",void 0),Vl=Xh([Zu.type("new_producers")],Vl);let Kl=class extends Zu{};Xh([Zu.field("uint16")],Kl.prototype,"type",void 0),Xh([Zu.field("bytes")],Kl.prototype,"data",void 0),Kl=Xh([Zu.type("block_extension")],Kl);let Zl=class extends Zu{};Xh([Zu.field("uint16")],Zl.prototype,"type",void 0),Xh([Zu.field("bytes")],Zl.prototype,"data",void 0),Zl=Xh([Zu.type("header_extension")],Zl);class Wl{constructor(t,e){this.id=t,this.extra=e}static from(t){let e,r
;return"string"==typeof t?(e=du.from(t),r={}):(e=du.from(t.id),r=t),new this(e,r)}get transaction(){if(this.extra.packed_trx)return Pl.decode({data:this.extra.packed_trx,type:Ml})}get signatures(){if(this.extra.signatures)return this.extra.signatures.map(pl.from)}equals(t){return this.id.equals(t.id)}toJSON(){return this.id}}Wl.abiName="trx_variant";let $l=class extends Sl{get id(){return this.trx.id}};Xh([Zu.field(Wl)],$l.prototype,"trx",void 0),$l=Xh([Zu.type("get_block_response_receipt")],$l)
;let Hl=class extends Zu{};Xh([Zu.field("time_point")],Hl.prototype,"timestamp",void 0),Xh([Zu.field("name")],Hl.prototype,"producer",void 0),Xh([Zu.field("uint16")],Hl.prototype,"confirmed",void 0),Xh([Zu.field("checksum256")],Hl.prototype,"previous",void 0),Xh([Zu.field("checksum256")],Hl.prototype,"transaction_mroot",void 0),Xh([Zu.field("checksum256")],Hl.prototype,"action_mroot",void 0),Xh([Zu.field("uint32")],Hl.prototype,"schedule_version",void 0),Xh([Zu.field(Vl,{optional:!0
})],Hl.prototype,"new_producers",void 0),Xh([Zu.field("header_extension",{optional:!0})],Hl.prototype,"header_extensions",void 0),Xh([Zu.field("any",{optional:!0})],Hl.prototype,"new_protocol_features",void 0),Xh([Zu.field("signature")],Hl.prototype,"producer_signature",void 0),Xh([Zu.field($l,{array:!0})],Hl.prototype,"transactions",void 0),Xh([Zu.field("block_extension",{optional:!0})],Hl.prototype,"block_extensions",void 0),Xh([Zu.field("checksum256")],Hl.prototype,"id",void 0),
Xh([Zu.field("uint32")],Hl.prototype,"block_num",void 0),Xh([Zu.field("uint32")],Hl.prototype,"ref_block_prefix",void 0),Hl=Xh([Zu.type("get_block_response")],Hl);let Jl=class extends Zu{};Xh([Zu.field("name")],Jl.prototype,"producer_name",void 0),Xh([Zu.field("any")],Jl.prototype,"authority",void 0),Jl=Xh([Zu.type("active_schedule_producer_authority")],Jl);let Gl=class extends Zu{};Xh([Zu.field("name")],Gl.prototype,"producer_name",void 0),Xh([Zu.field(Jl)],Gl.prototype,"authority",void 0),
Gl=Xh([Zu.type("active_schedule_producer")],Gl);let Yl=class extends Zu{};Xh([Zu.field("uint32")],Yl.prototype,"version",void 0),Xh([Zu.field(Gl,{array:!0})],Yl.prototype,"producers",void 0),Yl=Xh([Zu.type("active_schedule")],Yl);let Xl=class extends Zu{};Xh([Zu.field("time_point")],Xl.prototype,"timestamp",void 0),Xh([Zu.field("name")],Xl.prototype,"producer",void 0),Xh([Zu.field("uint16")],Xl.prototype,"confirmed",void 0),Xh([Zu.field("checksum256")],Xl.prototype,"previous",void 0),
Xh([Zu.field("checksum256")],Xl.prototype,"transaction_mroot",void 0),Xh([Zu.field("checksum256")],Xl.prototype,"action_mroot",void 0),Xh([Zu.field("uint32")],Xl.prototype,"schedule_version",void 0),Xh([Zu.field(Zl,{array:!0,optional:!0})],Xl.prototype,"header_extensions",void 0),Xh([Zu.field("signature")],Xl.prototype,"producer_signature",void 0),Xl=Xh([Zu.type("block_state_header")],Xl);let Ql=class extends Zu{};Xh([Zu.field("uint32")],Ql.prototype,"block_num",void 0),
Xh([Zu.field("uint32")],Ql.prototype,"dpos_proposed_irreversible_blocknum",void 0),Xh([Zu.field("uint32")],Ql.prototype,"dpos_irreversible_blocknum",void 0),Xh([Zu.field("checksum256")],Ql.prototype,"id",void 0),Xh([Zu.field(Xl)],Ql.prototype,"header",void 0),Xh([Zu.field("any")],Ql.prototype,"active_schedule",void 0),Xh([Zu.field("any")],Ql.prototype,"blockroot_merkle",void 0),Xh([Zu.field("any")],Ql.prototype,"producer_to_last_produced",void 0),
Xh([Zu.field("any")],Ql.prototype,"producer_to_last_implied_irb",void 0),Xh([Zu.field("any")],Ql.prototype,"valid_block_signing_authority",void 0),Xh([Zu.field("any")],Ql.prototype,"confirm_count",void 0),Xh([Zu.field("any")],Ql.prototype,"pending_schedule",void 0),Xh([Zu.field("any")],Ql.prototype,"activated_protocol_features",void 0),Xh([Zu.field("any")],Ql.prototype,"additional_signatures",void 0),Ql=Xh([Zu.type("get_block_header_state_response")],Ql);let tp=class extends Zu{
getTransactionHeader(t=120){const e=el.fromMilliseconds(this.head_block_time.toMilliseconds()+1e3*t),r=this.last_irreversible_block_id.array.subarray(8,12),i=new Uint32Array(r.buffer,r.byteOffset,1)[0];return wl.from({expiration:e,ref_block_num:65535&Number(this.last_irreversible_block_num),ref_block_prefix:i})}};Xh([Zu.field("string")],tp.prototype,"server_version",void 0),Xh([Zu.field("checksum256")],tp.prototype,"chain_id",void 0),Xh([Zu.field("uint32")],tp.prototype,"head_block_num",void 0),
Xh([Zu.field("uint32")],tp.prototype,"last_irreversible_block_num",void 0),Xh([Zu.field("checksum256")],tp.prototype,"last_irreversible_block_id",void 0),Xh([Zu.field("checksum256")],tp.prototype,"head_block_id",void 0),Xh([Zu.field("time_point")],tp.prototype,"head_block_time",void 0),Xh([Zu.field("name")],tp.prototype,"head_block_producer",void 0),Xh([Zu.field("uint64")],tp.prototype,"virtual_block_cpu_limit",void 0),Xh([Zu.field("uint64")],tp.prototype,"virtual_block_net_limit",void 0),
Xh([Zu.field("uint64")],tp.prototype,"block_cpu_limit",void 0),Xh([Zu.field("uint64")],tp.prototype,"block_net_limit",void 0),Xh([Zu.field("string?")],tp.prototype,"server_version_string",void 0),Xh([Zu.field("uint32?")],tp.prototype,"fork_db_head_block_num",void 0),Xh([Zu.field("checksum256?")],tp.prototype,"fork_db_head_block_id",void 0),tp=Xh([Zu.type("get_info_response")],tp);let ep=class extends Zu{};Xh([Zu.field("name")],ep.prototype,"code",void 0),
Xh([Zu.field("name")],ep.prototype,"scope",void 0),Xh([Zu.field("name")],ep.prototype,"table",void 0),Xh([Zu.field("name")],ep.prototype,"payer",void 0),Xh([Zu.field("uint32")],ep.prototype,"count",void 0),ep=Xh([Zu.type("get_table_by_scope_response_row")],ep);let rp=class extends Zu{};Xh([Zu.field(ep,{array:!0})],rp.prototype,"rows",void 0),Xh([Zu.field("string")],rp.prototype,"more",void 0),rp=Xh([Zu.type("get_table_by_scope_response")],rp);let ip=class extends Zu{}
;Xh([Zu.field(wu)],ip.prototype,"global_action_seq",void 0),Xh([Zu.field(mu)],ip.prototype,"account_action_seq",void 0),Xh([Zu.field(_u)],ip.prototype,"block_num",void 0),Xh([Zu.field(rl)],ip.prototype,"block_time",void 0),Xh([Zu.field("any")],ip.prototype,"action_trace",void 0),Xh([Zu.field("boolean?")],ip.prototype,"irrevirsible",void 0),ip=Xh([Zu.type("ordered_action_result")],ip);let np=class extends Zu{};Xh([Zu.field(ip,{array:!0})],np.prototype,"actions",void 0),
Xh([Zu.field(bu)],np.prototype,"last_irreversible_block",void 0),Xh([Zu.field(bu)],np.prototype,"head_block_num",void 0),Xh([Zu.field("boolean?")],np.prototype,"time_limit_exceeded_error",void 0),np=Xh([Zu.type("get_actions_response")],np);let ap=class extends Zu{};ap=Xh([Zu.type("transaction_trace")],ap);let sp=class extends Zu{};Xh([Zu.field("any")],sp.prototype,"actions",void 0),Xh([Zu.field("any")],sp.prototype,"context_free_actions",void 0),
Xh([Zu.field("any")],sp.prototype,"context_free_data",void 0),Xh([Zu.field("number")],sp.prototype,"delay_sec",void 0),Xh([Zu.field("string")],sp.prototype,"expiration",void 0),Xh([Zu.field("number")],sp.prototype,"max_cpu_usage_ms",void 0),Xh([Zu.field("number")],sp.prototype,"max_net_usage_words",void 0),Xh([Zu.field("number")],sp.prototype,"ref_block_num",void 0),Xh([Zu.field("number")],sp.prototype,"ref_block_prefix",void 0),Xh([Zu.field("string",{array:!0
})],sp.prototype,"signatures",void 0),sp=Xh([Zu.type("trx")],sp);let op=class extends Zu{};Xh([Zu.field(Sl)],op.prototype,"receipt",void 0),Xh([Zu.field("trx")],op.prototype,"trx",void 0),op=Xh([Zu.type("transaction_info")],op);let dp=class extends Zu{};Xh([Zu.field(du)],dp.prototype,"id",void 0),Xh([Zu.field(_u)],dp.prototype,"block_num",void 0),Xh([Zu.field(rl)],dp.prototype,"block_time",void 0),Xh([Zu.field(_u)],dp.prototype,"last_irreversible_block",void 0),
Xh([Zu.field("any?")],dp.prototype,"traces",void 0),Xh([Zu.field("any")],dp.prototype,"trx",void 0),dp=Xh([Zu.type("get_transaction_response")],dp);let fp=class extends Zu{};Xh([Zu.field("name",{array:!0})],fp.prototype,"account_names",void 0),fp=Xh([Zu.type("get_key_accounts_response")],fp);let cp=class extends Zu{};Xh([Zu.field("name",{array:!0})],cp.prototype,"controlled_accounts",void 0),cp=Xh([Zu.type("get_controlled_accounts_response")],cp);class hp extends Error{constructor(t,e){let r
;r=e.json&&e.json.error?`${hp.formatError(e.json.error)} at ${t}`:`HTTP ${e.status} at ${t}`,super(r),this.path=t,this.response=e}static formatError(t){return"unspecified"===t.what&&t.details[0].file&&"http_plugin.cpp"===t.details[0].file&&"unknown key"===t.details[0].message.slice(0,11)?"Account not found":"unspecified"===t.what&&t.details&&t.details.length>0?t.details[0].message:t.what&&t.what.length>0?t.what:"Unknown API error"}get error(){const{json:t}=this.response;return t?t.error:void 0}
get name(){const{error:t}=this;return t?t.name:"unspecified"}get code(){const{error:t}=this;return t?t.code:0}get details(){const{error:t}=this;return t?t.details:[]}}
/**
   * EOSIO Signing Request v4.2.7
   * https://github.com/ProtonProtocol/proton-signing-request
   *
   * @license
   * Copyright  2021 Greymass Inc.
   * 
   * Permission is hereby granted, free of charge, to any person
   * obtaining a copy of this software and associated documentation
   * files (the Software), to deal in the Software without
   * restriction, including without limitation the rights to use,
   * copy, modify, merge, publish, distribute, sublicense, and/or sell
   * copies of the Software, and to permit persons to whom the
   * Software is furnished to do so, subject to the following
   * conditions:
   * 
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   * 
   * THE SOFTWARE IS PROVIDED AS IS, WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
   * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
   * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
   * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
   * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
   * OTHER DEALINGS IN THE SOFTWARE.
   * 
   * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR
   * INTENDED FOR USE IN THE DESIGN, CONSTRUCTION, OPERATION OR
   * MAINTENANCE OF ANY MILITARY FACILITY.
   */
function up(t,e,r,i){var n,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,r,s):n(e,r))||s);return a>3&&s&&Object.defineProperty(e,r,s),s}function lp(t,e,r,i){return new(r||(r=Promise))((function(n,a){function s(t){try{d(i.next(t))}catch(t){a(t)}}function o(t){try{d(i.throw(t))}catch(t){a(t)}}function d(t){
var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,o)}d((i=i.apply(t,e||[])).next())}))}hp.__className="APIError";const pp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",bp=new Uint8Array(256);for(let t=0;t<62;t++)bp[pp.charCodeAt(t)]=t;function mp(t,e=!0){const r=t.byteLength,i=r%3,n=r-i,a=pp+(e?"-_":"+/"),s=[];let o,d,f,c,h;for(let e=0;e<n;e+=3)h=t[e]<<16|t[e+1]<<8|t[e+2],o=(16515072&h)>>18,d=(258048&h)>>12,f=(4032&h)>>6,c=63&h,
s.push(a[o]+a[d]+a[f]+a[c]);return 1===i?(h=t[n],o=(252&h)>>2,d=(3&h)<<4,s.push(a[o]+a[d])):2===i&&(h=t[n]<<8|t[n+1],o=(64512&h)>>10,d=(1008&h)>>4,f=(15&h)<<2,s.push(a[o]+a[d]+a[f])),s.join("")}function yp(t){const e=.75*t.length,r=new Uint8Array(e);let i,n,a,s,o=0;for(let e=0;e<t.length;e+=4)i=bp[t.charCodeAt(e)],n=bp[t.charCodeAt(e+1)],a=bp[t.charCodeAt(e+2)],s=bp[t.charCodeAt(e+3)],r[o++]=i<<2|n>>4,r[o++]=(15&n)<<4|a>>2,r[o++]=(3&a)<<6|63&s;return r}bp[43]=bp[45]=62,bp[47]=bp[95]=63
;var gp,vp=Object.freeze({__proto__:null,encode:mp,decode:yp});t.ChainName=void 0,(gp=t.ChainName||(t.ChainName={}))[gp.UNKNOWN=0]="UNKNOWN",gp[gp.EOS=1]="EOS",gp[gp.TELOS=2]="TELOS",gp[gp.JUNGLE=3]="JUNGLE",gp[gp.KYLIN=4]="KYLIN",gp[gp.WORBLI=5]="WORBLI",gp[gp.BOS=6]="BOS",gp[gp.MEETONE=7]="MEETONE",gp[gp.INSIGHTS=8]="INSIGHTS",gp[gp.BEOS=9]="BEOS",gp[gp.WAX=10]="WAX",gp[gp.PROTON=11]="PROTON",gp[gp.FIO=12]="FIO",gp[gp.PROTON_TEST=13]="PROTON_TEST",t.ChainId=class extends du{static from(t){
if(au(t,this))return t;if("number"==typeof t&&!(t=_p.get(t)))throw new Error("Unknown chain id alias");return super.from(t)}get chainVariant(){return this.chainName,t.ChainIdVariant.from(this)}get chainName(){const e=this.hexString;for(const[t,r]of _p)if(r===e)return t;return t.ChainName.UNKNOWN}},t.ChainId=up([Wu("chain_id")],t.ChainId),t.ChainAlias=class extends gu{},t.ChainAlias=up([Wu("chain_alias")],t.ChainAlias),t.ChainIdVariant=class extends $u{get chainId(){
return au(this.value,t.ChainId)?this.value:t.ChainId.from(Number(this.value.value))}},t.ChainIdVariant=up([$u.type("variant_id",[t.ChainAlias,t.ChainId])],t.ChainIdVariant)
;const _p=new Map([[t.ChainName.EOS,"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906"],[t.ChainName.TELOS,"4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11"],[t.ChainName.JUNGLE,"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473"],[t.ChainName.KYLIN,"5fff1dae8dc8e2fc4d5b23b2c7665c97f9e9d8edf2b6485a86ba311c25639191"],[t.ChainName.WORBLI,"73647cde120091e0a4b85bced2f3cfdb3041e266cbbe95cee59b73235a1b3b6f"],[t.ChainName.BOS,"d5a3d18fbb3c084e3b1f3fa98c21014b5f3db536cc15d08f9f6479517c6a3d86"],[t.ChainName.MEETONE,"cfe6486a83bad4962f232d48003b1824ab5665c36778141034d75e57b956e422"],[t.ChainName.INSIGHTS,"b042025541e25a472bffde2d62edd457b7e70cee943412b1ea0f044f88591664"],[t.ChainName.BEOS,"b912d19a6abd2b1b05611ae5be473355d64d95aeff0c09bedc8c166cd6468fe4"],[t.ChainName.WAX,"1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4"],[t.ChainName.PROTON,"384da888112027f0321850a169f737c33e53b388aad48b5adace4bab97f437e0"],[t.ChainName.FIO,"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c"],[t.ChainName.PROTON_TEST,"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd"]])
;var wp,Mp;t.AccountName=class extends Xu{},t.AccountName=up([Wu("account_name")],t.AccountName),t.PermissionName=class extends Xu{},t.PermissionName=up([Wu("permission_name")],t.PermissionName),t.IdentityV2=class extends Zu{},up([Zu.field(ml,{optional:!0})],t.IdentityV2.prototype,"permission",void 0),t.IdentityV2=up([Zu.type("identity")],t.IdentityV2),t.IdentityV3=class extends Zu{},up([Zu.field(ml,{optional:!0})],t.IdentityV3.prototype,"permission",void 0),
t.IdentityV3=up([Zu.type("identity")],t.IdentityV3),t.RequestVariantV2=class extends $u{},t.RequestVariantV2=up([$u.type("variant_req",[gl,{type:gl,array:!0},Ml,t.IdentityV2])],t.RequestVariantV2),t.RequestVariantV3=class extends $u{},t.RequestVariantV3=up([$u.type("variant_req",[gl,{type:gl,array:!0},Ml,t.IdentityV3])],t.RequestVariantV3),t.RequestFlags=wp=class extends gu{get broadcast(){return 0!=(Number(this)&wp.broadcast)}set broadcast(t){this.setFlag(wp.broadcast,t)}get background(){
return 0!=(Number(this)&wp.background)}set background(t){this.setFlag(wp.background,t)}setFlag(t,e){this.value=e?gu.from(Number(this)|t).value:gu.from(Number(this)&~t).value}},t.RequestFlags.broadcast=1,t.RequestFlags.background=2,t.RequestFlags=wp=up([Wu("request_flags")],t.RequestFlags),t.InfoPair=class extends Zu{},up([Zu.field("string")],t.InfoPair.prototype,"key",void 0),up([Zu.field("bytes")],t.InfoPair.prototype,"value",void 0),t.InfoPair=up([Zu.type("info_pair")],t.InfoPair),
t.RequestDataV2=class extends Zu{},up([Zu.field(t.ChainIdVariant)],t.RequestDataV2.prototype,"chain_id",void 0),up([Zu.field(t.RequestVariantV2)],t.RequestDataV2.prototype,"req",void 0),up([Zu.field(t.RequestFlags)],t.RequestDataV2.prototype,"flags",void 0),up([Zu.field("string")],t.RequestDataV2.prototype,"callback",void 0),up([Zu.field(t.InfoPair,{array:!0})],t.RequestDataV2.prototype,"info",void 0),t.RequestDataV2=up([Zu.type("signing_request")],t.RequestDataV2),
t.RequestDataV3=class extends Zu{},up([Zu.field(t.ChainIdVariant)],t.RequestDataV3.prototype,"chain_id",void 0),up([Zu.field(t.RequestVariantV3)],t.RequestDataV3.prototype,"req",void 0),up([Zu.field(t.RequestFlags)],t.RequestDataV3.prototype,"flags",void 0),up([Zu.field("string")],t.RequestDataV3.prototype,"callback",void 0),up([Zu.field(t.InfoPair,{array:!0})],t.RequestDataV3.prototype,"info",void 0),t.RequestDataV3=up([Zu.type("signing_request")],t.RequestDataV3),
t.RequestSignature=class extends Zu{},up([Zu.field("name")],t.RequestSignature.prototype,"signer",void 0),up([Zu.field("signature")],t.RequestSignature.prototype,"signature",void 0),t.RequestSignature=up([Zu.type("request_signature")],t.RequestSignature),t.IdentityProof=Mp=class extends Zu{static from(t){return au(t,Mp)?t:"string"==typeof t?Mp.fromString(t):super.from(t)}static fromString(t){const e=t.split(" ");if(2!==e.length||"EOSIO"!==e[0])throw new Error("Invalid IdentityProof string")
;const r=yp(e[1]);return Pl.decode({data:r,type:Mp})}static fromPayload(t,e={scheme:Ap}){const r=Ip.from(t.req,e);if(!(r.version>=3&&r.isIdentity()))throw new Error("Not an identity request");return this.from({chainId:t.cid||r.getChainId(),expiration:t.ex,signer:{actor:t.sa,permission:t.sp},signature:t.sig})}get transaction(){const e=gl.from({account:"",name:"identity",authorization:[this.signer],data:t.IdentityV3.from({permission:this.signer})});return Ml.from({ref_block_num:0,
ref_block_prefix:0,expiration:this.expiration,actions:[e]})}recover(){return this.signature.recoverDigest(this.transaction.signingDigest(this.chainId))}verify(t,e){return el.from(e||new Date).toMilliseconds()<this.expiration.toMilliseconds()&&Rl.from(t).hasPermission(this.recover())}toString(){return`EOSIO ${mp(Pl.encode({object:this}).array,!1)}`}},up([Zu.field(t.ChainId)],t.IdentityProof.prototype,"chainId",void 0),up([Zu.field(el)],t.IdentityProof.prototype,"expiration",void 0),
up([Zu.field(ml)],t.IdentityProof.prototype,"signer",void 0),up([Zu.field(pl)],t.IdentityProof.prototype,"signature",void 0),t.IdentityProof=Mp=up([Zu.type("identity_proof")],t.IdentityProof);const Ap="esr",xp=Xu.from("............1"),Sp=Xu.from("............2"),kp=ml.from({actor:xp,permission:Sp});class Ip{constructor(t,e,r,i,n,a){if(this.scheme=Ap,e.flags.broadcast&&"identity"===e.req.variantName)throw new Error("Invalid request (identity request cannot be broadcast)");this.version=t,
this.data=e,this.zlib=i,this.abiProvider=n,this.signature=a,this.scheme=r||this.scheme}static identityAbi(t){const e=Pl.synthesize(this.identityType(t));return e.actions=[{name:"identity",type:"identity",ricardian_contract:""}],e}static identityType(e){return 2===e?t.IdentityV2:t.IdentityV3}static storageType(e){return 2===e?t.RequestDataV2:t.RequestDataV3}static create(t,e={scheme:Ap}){return lp(this,void 0,void 0,(function*(){let r
;r=t.action?[t.action]:t.actions?t.actions:t.transaction&&t.transaction.actions||[];const i=r.filter((t=>!su.isBytes(t.data)&&void 0===t.data.constructor.abiName)).map((t=>Xu.from(t.account))),n={};if(i.length>0){const t=e.abiProvider;if(!t)throw new Error("Missing abi provider");const r=yield Promise.all(i.map((e=>t.getAbi(e))));for(const[t,e]of r.entries())n[i[t].toString()]=e}return this.createSync(t,e,n)}))}static createSync(e,r={scheme:Ap},i={}){const n={},a=t=>function(t,e){
if(su.isBytes(t.data)||void 0!==t.data.constructor.abiName)return gl.from(t);const r=e[String(Xu.from(t.account))];if(!r)throw new Error(`Missing ABI for ${t.account}`);return gl.from(t,r)}(t,i);if(void 0!==e.identity)n.req=["identity",this.identityType(2).from(e.identity)];else if(!e.action||e.actions||e.transaction)if(!e.actions||e.action||e.transaction){if(!e.transaction||e.action||e.actions)throw new TypeError("Invalid arguments: Must have exactly one of action, actions or transaction");{
const t=e.transaction;void 0===t.expiration&&(t.expiration="1970-01-01T00:00:00.000"),void 0===t.ref_block_num&&(t.ref_block_num=0),void 0===t.ref_block_prefix&&(t.ref_block_prefix=0),void 0===t.context_free_actions&&(t.context_free_actions=[]),void 0===t.transaction_extensions&&(t.transaction_extensions=[]),void 0===t.delay_sec&&(t.delay_sec=0),void 0===t.max_cpu_usage_ms&&(t.max_cpu_usage_ms=0),void 0===t.max_net_usage_words&&(t.max_net_usage_words=0),void 0===t.actions&&(t.actions=[]),
void 0===t.context_free_actions&&(t.context_free_actions=[]),t.actions=t.actions.map(a),n.req=["transaction",t]}}else 1===e.actions.length?n.req=["action",a(e.actions[0])]:n.req=["action[]",e.actions.map(a)];else n.req=["action",a(e.action)];null===e.chainId?n.chain_id=t.ChainIdVariant.from(["chain_alias",0]):n.chain_id=t.ChainId.from(e.chainId||t.ChainName.EOS).chainVariant;const s=t.RequestFlags.from(0);let o="";if(s.broadcast=void 0!==e.broadcast?e.broadcast:"identity"!==n.req[0],
"string"==typeof e.callback?o=e.callback:"object"==typeof e.callback&&(o=e.callback.url,s.background=e.callback.background||!1),n.flags=s,n.callback=o,n.info=[],"object"==typeof e.info)for(const t in e.info){if(Object.prototype.hasOwnProperty.call(e.info,t)){let r=e.info[t];"string"==typeof r?r=su.from(r,"utf8"):r instanceof su||(r=Pl.encode({object:r})),n.info.push({key:t,value:r})}}if(e.chainIds&&null===e.chainId){const r=e.chainIds.map((e=>t.ChainId.from(e).chainVariant));n.info.push({
key:"chain_ids",value:Pl.encode({object:r,type:{type:t.ChainIdVariant,array:!0}})})}const d=new Ip(2,this.storageType(2).from(n),r.scheme,r.zlib,r.abiProvider);return r.signatureProvider&&d.sign(r.signatureProvider),d}static identity(t,e={scheme:Ap}){let r={actor:t.account||xp,permission:t.permission||Sp};return r.actor===xp&&r.permission===Sp&&(r=void 0),this.createSync(Object.assign(Object.assign({},t),{identity:{permission:r},broadcast:!1}),e)}static fromTransaction(e,r,i={scheme:Ap}){
const n=t.ChainId.from(e);r=su.from(r);const a=new Ku;return a.writeByte(2),a.writeArray(Pl.encode({object:n.chainVariant}).array),a.writeByte(2),a.writeArray(su.from(r).array),a.writeByte(t.RequestFlags.broadcast),a.writeByte(0),a.writeByte(0),Ip.fromData(a.getData(),i)}static from(t,e={scheme:Ap}){if("string"!=typeof t)throw new Error("Invalid request uri");const[r,i]=t.split(":");if(r!==(e.scheme||Ap)&&r!==`web+${e.scheme||Ap}`)throw new Error("Invalid scheme")
;const n=yp(i.startsWith("//")?i.slice(2):i);return Ip.fromData(n,e)}static fromData(e,r={scheme:Ap}){const i=(e=su.from(e)).array[0],n=-129&i;if(2!==n&&3!==n)throw new Error(`Unsupported protocol version ${n}`);let a=e.droppingFirst(1);if(0!=(128&i)){if(!r.zlib)throw new Error("Compressed URI needs zlib");a=su.from(r.zlib.inflateRaw(a.array))}const s=new ju(a.array),o=Pl.decode({data:s,type:this.storageType(n)});let d;return s.canRead()&&(d=Pl.decode({data:s,type:t.RequestSignature})),
new Ip(n,o,r.scheme,r.zlib,r.abiProvider,d)}sign(e){const r=this.getSignatureDigest();this.signature=t.RequestSignature.from(e.sign(r))}getSignatureDigest(){const t=[this.version,114,101,113,117,101,115,116];return du.hash(su.from(t).appending(this.getData()))}setSignature(e,r){this.signature=t.RequestSignature.from({signer:e,signature:r})}setCallback(t,e){this.data.callback=t,this.data.flags.background=e}setBroadcast(t){this.data.flags.broadcast=t}encode(t,e){
const r=void 0!==t?t:void 0!==this.zlib;if(r&&void 0===this.zlib)throw new Error("Need zlib to compress");let i=this.version;const n=this.getData(),a=this.getSignatureData();let s=new Uint8Array(n.byteLength+a.byteLength);if(s.set(n,0),s.set(a,n.byteLength),r){const t=this.zlib.deflateRaw(s);s.byteLength>t.byteLength&&(i|=128,s=t)}const o=new Uint8Array(1+s.byteLength);o[0]=i,o.set(s,1);let d=`${this.scheme}:`;return!1!==e&&(d+="//"),d+mp(o)}getData(){return Pl.encode({object:this.data}).array}
getSignatureData(){return this.signature?Pl.encode({object:this.signature}).array:new Uint8Array(0)}getRequiredAbis(){return this.getRawActions().filter((t=>!zp(t))).map((t=>t.account)).filter(((t,e,r)=>r.indexOf(t)===e))}requiresTapos(){const t=this.getRawTransaction();return!this.isIdentity()&&!Np(t)}fetchAbis(t){return lp(this,void 0,void 0,(function*(){const e=this.getRequiredAbis();if(e.length>0){const r=t||this.abiProvider;if(!r)throw new Error("Missing ABI provider");const i=new Map
;return yield Promise.all(e.map((t=>lp(this,void 0,void 0,(function*(){i.set(t.toString(),il.from(yield r.getAbi(t)))}))))),i}return new Map}))}resolveActions(t,e){return this.getRawActions().map((r=>{let i;if(zp(r))i=this.constructor.identityAbi(this.version);else{const e=t.get(r.account.toString());if(!e)throw new Error(`Missing ABI definition for ${r.account}`);i=il.from(e)}if(!i.getActionType(r.name))throw new Error(`Missing type for action ${r.account}:${r.name} in ABI`)
;let n=r.decodeData(i),a=r.authorization;if(e){const t=ml.from(e),r=e=>{if(e instanceof Xu)return e.equals(xp)?t.actor:e.equals(Sp)?t.permission:e;if(Array.isArray(e))return e.map(r);if("object"==typeof e&&null!==e){for(const t of Object.keys(e))e[t]=r(e[t]);return e}return e};n=r(n),a=a.map((e=>{let{actor:r,permission:i}=e;return r.equals(xp)&&(r=t.actor),i.equals(Sp)&&(i=t.permission),i.equals(xp)&&(i=t.permission),ml.from({actor:r,permission:i})}))}return Object.assign(Object.assign({},r),{
authorization:a,data:n})}))}resolveTransaction(t,e,r={}){const i=this.getRawTransaction();if(this.isIdentity()||Np(i))this.isIdentity()&&this.version>2&&(i.expiration=r.expiration?el.from(r.expiration):Rp(r.timestamp,r.expire_seconds));else if(void 0!==r.expiration&&void 0!==r.ref_block_num&&void 0!==r.ref_block_prefix)i.expiration=el.from(r.expiration),i.ref_block_num=vu.from(r.ref_block_num),i.ref_block_prefix=_u.from(r.ref_block_prefix);else{
if(void 0===r.block_num||void 0===r.ref_block_prefix||void 0===r.timestamp)throw new Error("Invalid transaction context, need either a reference block or explicit TaPoS values");i.expiration=Rp(r.timestamp,r.expire_seconds),i.ref_block_num=vu.from(r.block_num),i.ref_block_prefix=_u.from(r.ref_block_prefix)}const n=this.resolveActions(t,e),a=i.context_free_actions;return Object.assign(Object.assign({},i),{context_free_actions:a,actions:n})}resolve(e,r,i={}){
const n=this.resolveTransaction(e,r,i),a=n.actions.map((t=>{let r;if(r=zp(t)?this.constructor.identityAbi(this.version):e.get(t.account.toString()),!r)throw new Error(`Missing ABI definition for ${t.account}`);const i=r.getActionType(t.name),n=Pl.encode({object:t.data,type:i,abi:r});return gl.from(Object.assign(Object.assign({},t),{data:n}))})),s=Ml.from(Object.assign(Object.assign({},n),{actions:a}));let o;if(this.isMultiChain()){
if(!i.chainId)throw new Error("Missing chosen chain ID for multi-chain request");o=t.ChainId.from(i.chainId);const e=this.getChainIds();if(e&&!e.some((t=>o.equals(t))))throw new Error("Trying to resolve for chain ID not defined in request")}else o=this.getChainId();return new Ep(this,ml.from(r),s,n,o)}getScheme(){return this.scheme}getChainId(){return this.data.chain_id.chainId}getChainIds(){if(!this.isMultiChain())return null;const e=this.getInfoKey("chain_ids",{type:t.ChainIdVariant,array:!0})
;return e?e.map((t=>t.chainId)):null}setChainIds(e){const r=e.map((e=>t.ChainId.from(e).chainVariant));this.setInfoKey("chain_ids",r,{type:t.ChainIdVariant,array:!0})}isMultiChain(){return 0===this.data.chain_id.variantIdx&&this.data.chain_id.value.equals(t.ChainName.UNKNOWN)}getRawActions(){const e=this.data.req;switch(e.variantName){case"action":return[e.value];case"action[]":return e.value;case"identity":if(2===this.version){const t=e.value;let r="0101000000000000000200000000000000",i=[kp]
;return t.permission&&(r=Pl.encode({object:t}),i=[t.permission]),[gl.from({account:"",name:"identity",authorization:i,data:r})]}{let{permission:r}=e.value;r||(r=kp);const i=Pl.encode({object:{permission:r},type:t.IdentityV3});return[gl.from({account:"",name:"identity",authorization:[r],data:i})]}case"transaction":return e.value.actions;default:throw new Error("Invalid signing request data")}}getRawTransaction(){const t=this.data.req;switch(t.variantName){case"transaction":
return Ml.from(Object.assign({},t.value));case"action":case"action[]":case"identity":return Ml.from({actions:this.getRawActions(),context_free_actions:[],transaction_extensions:[],expiration:"1970-01-01T00:00:00.000",ref_block_num:0,ref_block_prefix:0,max_cpu_usage_ms:0,max_net_usage_words:0,delay_sec:0});default:throw new Error("Invalid signing request data")}}isIdentity(){return"identity"===this.data.req.variantName}shouldBroadcast(){return!this.isIdentity()&&this.data.flags.broadcast}
getIdentity(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.actor.equals(xp)?t.permission.actor:null}getIdentityPermission(){if(!this.isIdentity())return null;const t=this.data.req.value;return t.permission&&!t.permission.permission.equals(Sp)?t.permission.permission:null}getRawInfo(){const t={};for(const{key:e,value:r}of this.data.info)t[e]=r;return t}getRawInfoKey(t){const e=this.data.info.find((e=>e.key===t));if(e)return e.value}
setRawInfoKey(e,r){let i=this.data.info.find((t=>t.key===e));i?i.value=su.from(r):(i=t.InfoPair.from({key:e,value:r}),this.data.info.push(i))}setInfoKey(t,e,r){let i;i="string"!=typeof e||r?Pl.encode({object:e,type:r}):su.from(e,"utf8"),this.setRawInfoKey(t,i)}getInfoKey(t,e){const r=this.getRawInfoKey(t);if(r)return e?Pl.decode({data:r,type:e}):r.utf8String}clone(){let e;this.signature&&(e=t.RequestSignature.from(JSON.parse(JSON.stringify(this.signature))))
;const r=this.constructor.storageType(this.version).from(JSON.parse(JSON.stringify(this.data)));return new Ip(this.version,r,this.scheme,this.zlib,this.abiProvider,e)}toString(){return this.encode()}toJSON(){return this.encode()}}class Ep{constructor(t,e,r,i,n){this.request=t,this.signer=e,this.transaction=r,this.resolvedTransaction=i,this.chainId=n}static fromPayload(t,e={scheme:Ap}){return lp(this,void 0,void 0,(function*(){const r=Ip.from(t.req,e),i=yield r.fetchAbis();return r.resolve(i,{
actor:t.sa,permission:t.sp},{ref_block_num:t.rbn,ref_block_prefix:t.rid,expiration:t.ex,chainId:t.cid||r.getChainId()})}))}get serializedTransaction(){return Pl.encode({object:this.transaction}).array}get signingDigest(){return this.transaction.signingDigest(this.chainId)}getCallback(t,e){const{callback:r,flags:i}=this.request.data;if(!r||0===r.length)return null;if(!t||0===t.length)throw new Error("Must have at least one signature to resolve callback");const n=t.map((t=>pl.from(t))),a={
sig:String(n[0]),tx:String(this.transaction.id),rbn:String(this.transaction.ref_block_num),rid:String(this.transaction.ref_block_prefix),ex:String(this.transaction.expiration),req:this.request.encode(),sa:String(this.signer.actor),sp:String(this.signer.permission),cid:String(this.chainId)};for(const[t,e]of n.slice(1).entries())a[`sig${t}`]=String(e);e&&(a.bn=String(_u.from(e)));const s=r.replace(/({{([a-z0-9]+)}})/g,((t,e,r)=>a[r]||""));return{background:i.background,payload:a,url:s}}
getIdentityProof(e){if(!this.request.isIdentity())throw new Error("Not a identity request");return t.IdentityProof.from({chainId:this.chainId,expiration:this.transaction.expiration,signer:this.signer,signature:e})}}function zp(t){const e=Xu.from(t.account),r=Xu.from(t.name);return e.rawValue.equals(0)&&r.equals("identity")}function Np(t){return!(t.expiration.equals(0)&&t.ref_block_num.equals(0)&&t.ref_block_prefix.equals(0))}function Rp(t,e=60){const r=el.from(t||new Date),i=_u.from(e)
;return el.fromInteger(r.value.adding(i))}var Pp={exports:{}};!function(t,e){!function(r){t.exports=function(t){var i=t&&t.Promise||r.Promise,n=t&&t.XMLHttpRequest||r.XMLHttpRequest;return function(){var t=Object.create(r,{fetch:{value:void 0,writable:!0}});return function(e){var r=void 0!==t&&t||"undefined"!=typeof self&&self||void 0!==r&&r,a={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0
}catch(t){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};function s(t){return t&&DataView.prototype.isPrototypeOf(t)}if(a.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(t){return t&&o.indexOf(Object.prototype.toString.call(t))>-1};function f(t){
if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return a.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach((function(t,e){this.append(e,t)
}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return i.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new i((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function b(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function m(t){var e=new FileReader,r=p(e)
;return e.readAsText(t),r}function y(t){for(var e=new Uint8Array(t),r=new Array(e.length),i=0;i<e.length;i++)r[i]=String.fromCharCode(e[i]);return r.join("")}function g(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,
t?"string"==typeof t?this._bodyText=t:a.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a.arrayBuffer&&a.blob&&s(t)?(this._bodyArrayBuffer=g(t.buffer),
this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||d(t))?this._bodyArrayBuffer=g(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",
this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return i.resolve(this._bodyBlob)
;if(this._bodyArrayBuffer)return i.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return i.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){
return this._bodyArrayBuffer?l(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?i.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):i.resolve(this._bodyArrayBuffer)):this.blob().then(b)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return m(this._bodyBlob);if(this._bodyArrayBuffer)return i.resolve(y(this._bodyArrayBuffer))
;if(this._bodyFormData)throw new Error("could not read FormData body as text");return i.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=f(t),e=c(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},u.prototype.delete=function(t){delete this.map[f(t)]},u.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){
return this.map.hasOwnProperty(f(t))},u.prototype.set=function(t,e){this.map[f(t)]=c(e)},u.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},u.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},u.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},u.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},
a.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function M(t,e){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(e=e||{}).body;if(t instanceof M){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,
e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=w(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,
("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{var n=/\?/;this.url+=(n.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function A(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){
var r=t.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}})),e}function x(t){var e=new u;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var r=t.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();e.append(i,n)}})),e}function S(t,e){
if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})},v.call(M.prototype),v.call(S.prototype),
S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];S.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){
this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function I(t,s){return new i((function(i,o){var d=new M(t,s);if(d.signal&&d.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var f=new n;function h(){f.abort()}function l(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}f.onload=function(){var t={status:f.status,
statusText:f.statusText,headers:x(f.getAllResponseHeaders()||"")};t.url="responseURL"in f?f.responseURL:t.headers.get("X-Request-URL");var e="response"in f?f.response:f.responseText;setTimeout((function(){i(new S(e,t))}),0)},f.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},f.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},f.onabort=function(){setTimeout((function(){
o(new e.DOMException("Aborted","AbortError"))}),0)},f.open(d.method,l(d.url),!0),"include"===d.credentials?f.withCredentials=!0:"omit"===d.credentials&&(f.withCredentials=!1),"responseType"in f&&(a.blob?f.responseType="blob":a.arrayBuffer&&d.headers.get("Content-Type")&&-1!==d.headers.get("Content-Type").indexOf("application/octet-stream")&&(f.responseType="arraybuffer")),!s||"object"!=typeof s.headers||s.headers instanceof u?d.headers.forEach((function(t,e){f.setRequestHeader(e,t)
})):Object.getOwnPropertyNames(s.headers).forEach((function(t){f.setRequestHeader(t,c(s.headers[t]))})),d.signal&&(d.signal.addEventListener("abort",h),f.onreadystatechange=function(){4===f.readyState&&d.signal.removeEventListener("abort",h)}),f.send(void 0===d._bodyInit?null:d._bodyInit)}))}I.polyfill=!0,r.fetch||(r.fetch=I,r.Headers=u,r.Request=M,r.Response=S),e.Headers=u,e.Request=M,e.Response=S,e.fetch=I,Object.defineProperty(e,"__esModule",{value:!0})}(e),{fetch:t.fetch,Headers:t.Headers,
Request:t.Request,Response:t.Response,DOMException:t.DOMException}}()}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:hr)}(Pp,Pp.exports);var Tp=ur(Pp.exports);class Bp extends Error{constructor(...t){super(...t)}}class Op extends Error{constructor(...t){super(...t)}}
/**
   * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.
   * @author Artem S Vybornov <vybornov@gmail.com>
   * @license MIT
   */var qp,Up=function(){var t,e,r=!1;function i(r,i){var n=t[(e[r]+e[i])%255];return 0!==r&&0!==i||(n=0),n}var n,a,s,o,d=!1;function f(){function f(r){var i,n,a;for(n=a=function(r){var i=t[255-e[r]];return 0===r&&(i=0),i}(r),i=0;i<4;i++)a^=n=255&(n<<1|n>>>7);return a^=99}r||function(){t=[],e=[];var i,n,a=1;for(i=0;i<255;i++)t[i]=a,n=128&a,a<<=1,a&=255,128===n&&(a^=27),a^=t[i],e[t[i]]=i;t[255]=t[0],e[0]=0,r=!0}(),n=[],a=[],s=[[],[],[],[]],o=[[],[],[],[]];for(var c=0;c<256;c++){var h=f(c)
;n[c]=h,a[h]=c,s[0][c]=i(2,h)<<24|h<<16|h<<8|i(3,h),o[0][h]=i(14,c)<<24|i(9,c)<<16|i(13,c)<<8|i(11,c);for(var u=1;u<4;u++)s[u][c]=s[u-1][c]>>>8|s[u-1][c]<<24,o[u][h]=o[u-1][h]>>>8|o[u-1][h]<<24}d=!0}var c=function(t,e){d||f();var r=new Uint32Array(e);r.set(n,512),r.set(a,768);for(var i=0;i<4;i++)r.set(s[i],4096+1024*i>>2),r.set(o[i],8192+1024*i>>2);var c=function(t,e,r){"use asm";var i=0,n=0,a=0,s=0,o=0,d=0,f=0,c=0,h=0,u=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0,_=0,w=0,M=0,A=0
;var x=new t.Uint32Array(r),S=new t.Uint8Array(r);function k(t,e,r,o,d,f,c,h){t=t|0;e=e|0;r=r|0;o=o|0;d=d|0;f=f|0;c=c|0;h=h|0;var u=0,l=0,p=0,b=0,m=0,y=0,g=0,v=0;u=r|0x400,l=r|0x800,p=r|0xc00;d=d^x[(t|0)>>2],f=f^x[(t|4)>>2],c=c^x[(t|8)>>2],h=h^x[(t|12)>>2];for(v=16;(v|0)<=o<<4;v=v+16|0){b=x[(r|d>>22&1020)>>2]^x[(u|f>>14&1020)>>2]^x[(l|c>>6&1020)>>2]^x[(p|h<<2&1020)>>2]^x[(t|v|0)>>2],m=x[(r|f>>22&1020)>>2]^x[(u|c>>14&1020)>>2]^x[(l|h>>6&1020)>>2]^x[(p|d<<2&1020)>>2]^x[(t|v|4)>>2],
y=x[(r|c>>22&1020)>>2]^x[(u|h>>14&1020)>>2]^x[(l|d>>6&1020)>>2]^x[(p|f<<2&1020)>>2]^x[(t|v|8)>>2],g=x[(r|h>>22&1020)>>2]^x[(u|d>>14&1020)>>2]^x[(l|f>>6&1020)>>2]^x[(p|c<<2&1020)>>2]^x[(t|v|12)>>2];d=b,f=m,c=y,h=g}i=x[(e|d>>22&1020)>>2]<<24^x[(e|f>>14&1020)>>2]<<16^x[(e|c>>6&1020)>>2]<<8^x[(e|h<<2&1020)>>2]^x[(t|v|0)>>2],n=x[(e|f>>22&1020)>>2]<<24^x[(e|c>>14&1020)>>2]<<16^x[(e|h>>6&1020)>>2]<<8^x[(e|d<<2&1020)>>2]^x[(t|v|4)>>2],
a=x[(e|c>>22&1020)>>2]<<24^x[(e|h>>14&1020)>>2]<<16^x[(e|d>>6&1020)>>2]<<8^x[(e|f<<2&1020)>>2]^x[(t|v|8)>>2],s=x[(e|h>>22&1020)>>2]<<24^x[(e|d>>14&1020)>>2]<<16^x[(e|f>>6&1020)>>2]<<8^x[(e|c<<2&1020)>>2]^x[(t|v|12)>>2]}function I(t,e,r,i){t=t|0;e=e|0;r=r|0;i=i|0;k(0x0000,0x0800,0x1000,A,t,e,r,i)}function E(t,e,r,i){t=t|0;e=e|0;r=r|0;i=i|0;var a=0;k(0x0400,0x0c00,0x2000,A,t,i,r,e);a=n,n=s,s=a}function z(t,e,r,h){t=t|0;e=e|0;r=r|0;h=h|0;k(0x0000,0x0800,0x1000,A,o^t,d^e,f^r,c^h);o=i,d=n,f=a,c=s}
function N(t,e,r,h){t=t|0;e=e|0;r=r|0;h=h|0;var u=0;k(0x0400,0x0c00,0x2000,A,t,h,r,e);u=n,n=s,s=u;i=i^o,n=n^d,a=a^f,s=s^c;o=t,d=e,f=r,c=h}function R(t,e,r,h){t=t|0;e=e|0;r=r|0;h=h|0;k(0x0000,0x0800,0x1000,A,o,d,f,c);o=i=i^t,d=n=n^e,f=a=a^r,c=s=s^h}function P(t,e,r,h){t=t|0;e=e|0;r=r|0;h=h|0;k(0x0000,0x0800,0x1000,A,o,d,f,c);i=i^t,n=n^e,a=a^r,s=s^h;o=t,d=e,f=r,c=h}function T(t,e,r,h){t=t|0;e=e|0;r=r|0;h=h|0;k(0x0000,0x0800,0x1000,A,o,d,f,c);o=i,d=n,f=a,c=s;i=i^t,n=n^e,a=a^r,s=s^h}
function B(t,e,r,o){t=t|0;e=e|0;r=r|0;o=o|0;k(0x0000,0x0800,0x1000,A,h,u,l,p);p=~g&p|g&p+1;l=~y&l|y&l+((p|0)==0);u=~m&u|m&u+((l|0)==0);h=~b&h|b&h+((u|0)==0);i=i^t;n=n^e;a=a^r;s=s^o}function O(t,e,r,i){t=t|0;e=e|0;r=r|0;i=i|0;var n=0,a=0,s=0,h=0,u=0,l=0,p=0,b=0,m=0,y=0;t=t^o,e=e^d,r=r^f,i=i^c;n=v|0,a=_|0,s=w|0,h=M|0;for(;(m|0)<128;m=m+1|0){if(n>>>31){u=u^t,l=l^e,p=p^r,b=b^i}n=n<<1|a>>>31,a=a<<1|s>>>31,s=s<<1|h>>>31,h=h<<1;y=i&1;i=i>>>1|r<<31,r=r>>>1|e<<31,e=e>>>1|t<<31,t=t>>>1;if(y)t=t^0xe1000000
}o=u,d=l,f=p,c=b}function q(t){t=t|0;A=t}function U(t,e,r,o){t=t|0;e=e|0;r=r|0;o=o|0;i=t,n=e,a=r,s=o}function C(t,e,r,i){t=t|0;e=e|0;r=r|0;i=i|0;o=t,d=e,f=r,c=i}function D(t,e,r,i){t=t|0;e=e|0;r=r|0;i=i|0;h=t,u=e,l=r,p=i}function j(t,e,r,i){t=t|0;e=e|0;r=r|0;i=i|0;b=t,m=e,y=r,g=i}function L(t,e,r,i){t=t|0;e=e|0;r=r|0;i=i|0;p=~g&p|g&i,l=~y&l|y&r,u=~m&u|m&e,h=~b&h|b&t}function F(t){t=t|0;if(t&15)return-1;S[t|0]=i>>>24,S[t|1]=i>>>16&255,S[t|2]=i>>>8&255,S[t|3]=i&255,S[t|4]=n>>>24,S[t|5]=n>>>16&255,
S[t|6]=n>>>8&255,S[t|7]=n&255,S[t|8]=a>>>24,S[t|9]=a>>>16&255,S[t|10]=a>>>8&255,S[t|11]=a&255,S[t|12]=s>>>24,S[t|13]=s>>>16&255,S[t|14]=s>>>8&255,S[t|15]=s&255;return 16}function V(t){t=t|0;if(t&15)return-1;S[t|0]=o>>>24,S[t|1]=o>>>16&255,S[t|2]=o>>>8&255,S[t|3]=o&255,S[t|4]=d>>>24,S[t|5]=d>>>16&255,S[t|6]=d>>>8&255,S[t|7]=d&255,S[t|8]=f>>>24,S[t|9]=f>>>16&255,S[t|10]=f>>>8&255,S[t|11]=f&255,S[t|12]=c>>>24,S[t|13]=c>>>16&255,S[t|14]=c>>>8&255,S[t|15]=c&255;return 16}function K(){I(0,0,0,0);v=i,
_=n,w=a,M=s}function Z(t,e,r){t=t|0;e=e|0;r=r|0;var o=0;if(e&15)return-1;while((r|0)>=16){$[t&7](S[e|0]<<24|S[e|1]<<16|S[e|2]<<8|S[e|3],S[e|4]<<24|S[e|5]<<16|S[e|6]<<8|S[e|7],S[e|8]<<24|S[e|9]<<16|S[e|10]<<8|S[e|11],S[e|12]<<24|S[e|13]<<16|S[e|14]<<8|S[e|15]);S[e|0]=i>>>24,S[e|1]=i>>>16&255,S[e|2]=i>>>8&255,S[e|3]=i&255,S[e|4]=n>>>24,S[e|5]=n>>>16&255,S[e|6]=n>>>8&255,S[e|7]=n&255,S[e|8]=a>>>24,S[e|9]=a>>>16&255,S[e|10]=a>>>8&255,S[e|11]=a&255,S[e|12]=s>>>24,S[e|13]=s>>>16&255,S[e|14]=s>>>8&255,
S[e|15]=s&255;o=o+16|0,e=e+16|0,r=r-16|0}return o|0}function W(t,e,r){t=t|0;e=e|0;r=r|0;var i=0;if(e&15)return-1;while((r|0)>=16){H[t&1](S[e|0]<<24|S[e|1]<<16|S[e|2]<<8|S[e|3],S[e|4]<<24|S[e|5]<<16|S[e|6]<<8|S[e|7],S[e|8]<<24|S[e|9]<<16|S[e|10]<<8|S[e|11],S[e|12]<<24|S[e|13]<<16|S[e|14]<<8|S[e|15]);i=i+16|0,e=e+16|0,r=r-16|0}return i|0}var $=[I,E,z,N,R,P,T,B];var H=[z,O];return{set_rounds:q,set_state:U,set_iv:C,set_nonce:D,set_mask:j,set_counter:L,get_state:F,get_iv:V,gcm_init:K,cipher:Z,mac:W}
}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},t,e);return c.set_key=function(t,e,i,a,s,d,f,h,u){var l=r.subarray(0,60),p=r.subarray(256,316);l.set([e,i,a,s,d,f,h,u]);for(var b=t,m=1;b<4*t+28;b++){var y=l[b-1];(b%t==0||8===t&&b%t==4)&&(y=n[y>>>24]<<24^n[y>>>16&255]<<16^n[y>>>8&255]<<8^n[255&y]),b%t==0&&(y=y<<8^y>>>24^m<<24,m=m<<1^(128&m?27:0)),l[b]=l[b-t]^y}for(var g=0;g<b;g+=4)for(var v=0;v<4;v++){y=l[b-(4+g)+(4-v)%4]
;p[g+v]=g<4||g>=b-4?y:o[0][n[y>>>24]]^o[1][n[y>>>16&255]]^o[2][n[y>>>8&255]]^o[3][n[255&y]]}c.set_rounds(t+5)},c};return c.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},c.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},c.MAC={CBC:0,GCM:1},c.HEAP_DATA=16384,c}();function Cp(t){return t instanceof Uint8Array}function Dp(t,e,r,i,n){const a=t.length-e,s=a<n?a:n;return t.set(r.subarray(i,i+s),e),s}function jp(...t){const e=t.reduce(((t,e)=>t+e.length),0),r=new Uint8Array(e);let i=0
;for(let e=0;e<t.length;e++)r.set(t[e],i),i+=t[e].length;return r}class Lp{constructor(t,e,r=!0,i,n,a){this.pos=0,this.len=0,this.mode=i,this.heap=n||function(t,e){const r=t?t.byteLength:e||65536;if(4095&r||r<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return t||new Uint8Array(new ArrayBuffer(r))}().subarray(Up.HEAP_DATA),this.asm=a||new Up(null,this.heap.buffer),this.pos=0,this.len=0;const s=t.length
;if(16!==s&&24!==s&&32!==s)throw new Bp("illegal key size");const o=new DataView(t.buffer,t.byteOffset,t.byteLength);if(this.asm.set_key(s>>2,o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12),s>16?o.getUint32(16):0,s>16?o.getUint32(20):0,s>24?o.getUint32(24):0,s>24?o.getUint32(28):0),void 0!==e){if(16!==e.length)throw new Bp("illegal iv size");let t=new DataView(e.buffer,e.byteOffset,e.byteLength);this.asm.set_iv(t.getUint32(0),t.getUint32(4),t.getUint32(8),t.getUint32(12))
}else this.asm.set_iv(0,0,0,0);this.padding=r}AES_Encrypt_process(t){if(!Cp(t))throw new TypeError("data isn't of expected type");let e=this.asm,r=this.heap,i=Up.ENC[this.mode],n=Up.HEAP_DATA,a=this.pos,s=this.len,o=0,d=t.length||0,f=0,c=0,h=new Uint8Array(s+d&-16);for(;d>0;)c=Dp(r,a+s,t,o,d),s+=c,o+=c,d-=c,c=e.cipher(i,n+a,s),c&&h.set(r.subarray(a,a+c),f),f+=c,c<s?(a+=c,s-=c):(a=0,s=0);return this.pos=a,this.len=s,h}AES_Encrypt_finish(){
let t=this.asm,e=this.heap,r=Up.ENC[this.mode],i=Up.HEAP_DATA,n=this.pos,a=this.len,s=16-a%16,o=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let t=0;t<s;++t)e[n+a+t]=s;a+=s,o=a}else if(a%16)throw new Bp("data length must be a multiple of the block size")}else a+=s;const d=new Uint8Array(o);return a&&t.cipher(r,i+n,a),o&&d.set(e.subarray(n,n+o)),this.pos=0,this.len=0,d}AES_Decrypt_process(t){if(!Cp(t))throw new TypeError("data isn't of expected type")
;let e=this.asm,r=this.heap,i=Up.DEC[this.mode],n=Up.HEAP_DATA,a=this.pos,s=this.len,o=0,d=t.length||0,f=0,c=s+d&-16,h=0,u=0;this.padding&&(h=s+d-c||16,c-=h);const l=new Uint8Array(c);for(;d>0;)u=Dp(r,a+s,t,o,d),s+=u,o+=u,d-=u,u=e.cipher(i,n+a,s-(d?0:h)),u&&l.set(r.subarray(a,a+u),f),f+=u,u<s?(a+=u,s-=u):(a=0,s=0);return this.pos=a,this.len=s,l}AES_Decrypt_finish(){let t=this.asm,e=this.heap,r=Up.DEC[this.mode],i=Up.HEAP_DATA,n=this.pos,a=this.len,s=a;if(a>0){if(a%16){
if(this.hasOwnProperty("padding"))throw new Bp("data length must be a multiple of the block size");a+=16-a%16}if(t.cipher(r,i+n,a),this.hasOwnProperty("padding")&&this.padding){let t=e[n+s-1];if(t<1||t>16||t>s)throw new Op("bad padding");let r=0;for(let i=t;i>1;i--)r|=t^e[n+s-i];if(r)throw new Op("bad padding");s-=t}}const o=new Uint8Array(s);return s>0&&o.set(e.subarray(n,n+s)),this.pos=0,this.len=0,o}}class Fp{static encrypt(t,e,r=!0,i){return new Fp(e,i,r).encrypt(t)}
static decrypt(t,e,r=!0,i){return new Fp(e,i,r).decrypt(t)}constructor(t,e,r=!0,i){this.aes=i||new Lp(t,e,r,"CBC")}encrypt(t){return jp(this.aes.AES_Encrypt_process(t),this.aes.AES_Encrypt_finish())}decrypt(t){return jp(this.aes.AES_Decrypt_process(t),this.aes.AES_Decrypt_finish())}}var Vp=new Uint8Array(16);function Kp(){
if(!qp&&!(qp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qp(Vp)}var Zp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wp(t){
return"string"==typeof t&&Zp.test(t)}for(var $p=[],Hp=0;Hp<256;++Hp)$p.push((Hp+256).toString(16).substr(1));function Jp(t,e,r){var i=(t=t||{}).random||(t.rng||Kp)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){r=r||0;for(var n=0;n<16;++n)e[r+n]=i[n];return e}return function(t){
var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=($p[t[e+0]]+$p[t[e+1]]+$p[t[e+2]]+$p[t[e+3]]+"-"+$p[t[e+4]]+$p[t[e+5]]+"-"+$p[t[e+6]]+$p[t[e+7]]+"-"+$p[t[e+8]]+$p[t[e+9]]+"-"+$p[t[e+10]]+$p[t[e+11]]+$p[t[e+12]]+$p[t[e+13]]+$p[t[e+14]]+$p[t[e+15]]).toLowerCase();if(!Wp(r))throw TypeError("Stringified UUID is invalid");return r}(i)}var Gp=null
;"undefined"!=typeof WebSocket?Gp=WebSocket:"undefined"!=typeof MozWebSocket?Gp=MozWebSocket:void 0!==hr?Gp=hr.WebSocket||hr.MozWebSocket:"undefined"!=typeof window?Gp=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(Gp=self.WebSocket||self.MozWebSocket);var Yp=Gp,Xp={exports:{}};!function(t,e){var r="undefined"!=typeof self?self:hr,i=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){
var r="URLSearchParams"in t,i="Symbol"in t&&"iterator"in Symbol,n="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),a="FormData"in t,s="ArrayBuffer"in t;if(s)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(t){
return t&&o.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach((function(t,e){
this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function b(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function m(t){
if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,
t?"string"==typeof t?this._bodyText=t:n&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:a&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&n&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=m(t.buffer),
this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||d(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",
this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob)
;if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var t,e,r,i=l(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r
;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),i=0;i<e.length;i++)r[i]=String.fromCharCode(e[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=f(t),e=c(e)
;var r=this.map[t];this.map[t]=r?r+", "+e:e},u.prototype.delete=function(t){delete this.map[f(t)]},u.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},u.prototype.set=function(t,e){this.map[f(t)]=c(e)},u.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},u.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},
u.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},u.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},i&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var r,i,n=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),
this.method=t.method,this.mode=t.mode,this.signal=t.signal,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=(r=e.method||this.method||"GET",i=r.toUpperCase(),g.indexOf(i)>-1?i:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,
("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function _(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(n))}})),e}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,
this.statusText="statusText"in e?e.statusText:"OK",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var M=[301,302,303,307,308]
;w.redirect=function(t,e){if(-1===M.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(t,r){return new Promise((function(i,a){var s=new v(t,r)
;if(s.signal&&s.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var o=new XMLHttpRequest;function d(){o.abort()}o.onload=function(){var t,e,r={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new u,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();e.append(i,n)}})),e)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL")
;var n="response"in o?o.response:o.responseText;i(new w(n,r))},o.onerror=function(){a(new TypeError("Network request failed"))},o.ontimeout=function(){a(new TypeError("Network request failed"))},o.onabort=function(){a(new e.DOMException("Aborted","AbortError"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&n&&(o.responseType="blob"),s.headers.forEach((function(t,e){o.setRequestHeader(e,t)})),
s.signal&&(s.signal.addEventListener("abort",d),o.onreadystatechange=function(){4===o.readyState&&s.signal.removeEventListener("abort",d)}),o.send(void 0===s._bodyInit?null:s._bodyInit)}))}A.polyfill=!0,t.fetch||(t.fetch=A,t.Headers=u,t.Request=v,t.Response=w),e.Headers=u,e.Request=v,e.Response=w,e.fetch=A,Object.defineProperty(e,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=i;(e=n.fetch).default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,
e.Request=n.Request,e.Response=n.Response,t.exports=e}(Xp,Xp.exports);var Qp=function(){function t(){}return t.get_n_pad_bytes=function(t){return 64-(t+8&63)},t.pad=function(e){var r,i,n=e.byteLength,a=t.get_n_pad_bytes(n),s=(r=n,i=536870912,[Math.floor(r/i),r%i]).map((function(t,e){return e?8*t:t})),o=s[0],d=s[1],f=new Uint8Array(n+a+8);f.set(new Uint8Array(e),0);var c=new DataView(f.buffer);return c.setUint8(n,128),c.setUint32(n+a,d,!0),c.setUint32(n+a+4,o,!0),f.buffer},t.f=function(t,e,r,i){
return 0<=t&&t<=15?e^r^i:16<=t&&t<=31?e&r|~e&i:32<=t&&t<=47?(e|~r)^i:48<=t&&t<=63?e&i|r&~i:64<=t&&t<=79?e^(r|~i):void 0},t.K=function(t){return 0<=t&&t<=15?0:16<=t&&t<=31?1518500249:32<=t&&t<=47?1859775393:48<=t&&t<=63?2400959708:64<=t&&t<=79?2840853838:void 0},t.KP=function(t){return 0<=t&&t<=15?1352829926:16<=t&&t<=31?1548603684:32<=t&&t<=47?1836072691:48<=t&&t<=63?2053994217:64<=t&&t<=79?0:void 0},t.add_modulo32=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]
;return 0|Array.from(t).reduce((function(t,e){return t+e}),0)},t.rol32=function(t,e){return t<<e|t>>>32-e},t.hash=function(e){
for(var r=t.pad(e),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],s=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],o=r.byteLength/64,d=new Array(o).fill(void 0).map((function(t,e){
return function(t){return new DataView(r,64*e,64).getUint32(4*t,!0)}})),f=[1732584193,4023233417,2562383102,271733878,3285377520],c=0;c<o;++c){for(var h=f[0],u=f[1],l=f[2],p=f[3],b=f[4],m=h,y=u,g=l,v=p,_=b,w=0;w<80;++w){var M=t.add_modulo32(t.rol32(t.add_modulo32(h,t.f(w,u,l,p),d[c](i[w]),t.K(w)),a[w]),b);h=b,b=p,p=t.rol32(l,10),l=u,u=M,M=t.add_modulo32(t.rol32(t.add_modulo32(m,t.f(79-w,y,g,v),d[c](n[w]),t.KP(w)),s[w]),_),m=_,_=v,v=t.rol32(g,10),g=y,y=M}var A=t.add_modulo32(f[1],l,v)
;f[1]=t.add_modulo32(f[2],p,_),f[2]=t.add_modulo32(f[3],b,m),f[3]=t.add_modulo32(f[4],h,y),f[4]=t.add_modulo32(f[0],u,g),f[0]=A}var x=new ArrayBuffer(20),S=new DataView(x);return f.forEach((function(t,e){return S.setUint32(4*e,t,!0)})),x},t}(),tb=lr(Object.freeze({__proto__:null,default:Qp}));!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,
i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}function n(t){
return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}
function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}function f(t){var e=s();return function(){var r,i=n(t);if(e){var a=n(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return d(this,r)}}function c(t,e){
for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=n(t)););return t}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var i=c(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(arguments.length<3?t:r):n.value}},h.apply(this,arguments)}var u=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(e,[{key:"addEventListener",value:function(t,e,r){
t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:r})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var r=this.listeners[t],i=0,n=r.length;i<n;i++)if(r[i].callback===e)return void r.splice(i,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),r=0,i=e.length;r<i;r++){var n=e[r];try{n.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}
n.options&&n.options.once&&this.removeEventListener(t.type,n.callback)}return!t.defaultPrevented}}}]),e}(),l=function(e){i(s,e);var a=f(s);function s(){var e;return t(this,s),(e=a.call(this)).listeners||u.call(o(e)),Object.defineProperty(o(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(e),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(o(e),"reason",{value:void 0,writable:!0,configurable:!0}),e}return r(s,[{key:"toString",value:function(){
return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),h(n(s.prototype),"dispatchEvent",this).call(this,t)}}]),s}(u),p=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new l,writable:!0,configurable:!0})}return r(e,[{key:"abort",value:function(t){var e;try{e=new Event("abort")}catch(t){
"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}var r=t;if(void 0===r)if("undefined"==typeof document)(r=new Error("This operation was aborted")).name="AbortError";else try{r=new DOMException("signal is aborted without reason")}catch(t){(r=new Error("This operation was aborted")).name="AbortError"}this.signal.reason=r,this.signal.dispatchEvent(e)}
},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();function b(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}function m(t){"function"==typeof t&&(t={fetch:t})
;var e=t,r=e.fetch,i=e.Request,n=void 0===i?r.Request:i,a=e.AbortController,s=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,o=void 0!==s&&s;if(!b({fetch:r,Request:n,AbortController:a,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:o}))return{fetch:r,Request:d};var d=n;(d&&!d.prototype.hasOwnProperty("signal")||o)&&((d=function(t,e){var r;e&&e.signal&&(r=e.signal,delete e.signal);var i=new n(t,e);return r&&Object.defineProperty(i,"signal",{writable:!1,enumerable:!1,configurable:!0,value:r}),i
}).prototype=n.prototype);var f=r;return{fetch:function(t,e){var r=d&&d.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(r){var i;try{i=new DOMException("Aborted","AbortError")}catch(t){(i=new Error("Aborted")).name="AbortError"}if(r.aborted)return Promise.reject(i);var n=new Promise((function(t,e){r.addEventListener("abort",(function(){return e(i)}),{once:!0})}));return e&&e.signal&&delete e.signal,Promise.race([n,f(t,e)])}return f(t,e)},Request:d}}
"undefined"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",l.prototype[Symbol.toStringTag]="AbortSignal"),function(t){if(b(t))if(t.fetch){var e=m(t),r=e.fetch,i=e.Request;t.fetch=r,t.Request=i,Object.defineProperty(t,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:p}),Object.defineProperty(t,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:l})
}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:hr)}();var eb={},rb={},ib={},nb={};function ab(t){let e=t.length;for(;--e>=0;)t[e]=0}
const sb=256,ob=286,db=30,fb=15,cb=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),hb=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ub=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),lb=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pb=new Array(576);ab(pb);const bb=new Array(60);ab(bb);const mb=new Array(512);ab(mb);const yb=new Array(256);ab(yb);const gb=new Array(29);ab(gb);const vb=new Array(db)
;function _b(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let wb,Mb,Ab;function xb(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}ab(vb);const Sb=t=>t<256?mb[t]:mb[256+(t>>>7)],kb=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},Ib=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,kb(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,
t.bi_valid+=r)},Eb=(t,e,r)=>{Ib(t,r[2*e],r[2*e+1])},zb=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},Nb=(t,e,r)=>{const i=new Array(16);let n,a,s=0;for(n=1;n<=fb;n++)i[n]=s=s+r[n-1]<<1;for(a=0;a<=e;a++){let e=t[2*a+1];0!==e&&(t[2*a]=zb(i[e]++,e))}},Rb=t=>{let e;for(e=0;e<ob;e++)t.dyn_ltree[2*e]=0;for(e=0;e<db;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},Pb=t=>{
t.bi_valid>8?kb(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},Tb=(t,e,r,i)=>{const n=2*e,a=2*r;return t[n]<t[a]||t[n]===t[a]&&i[e]<=i[r]},Bb=(t,e,r)=>{const i=t.heap[r];let n=r<<1;for(;n<=t.heap_len&&(n<t.heap_len&&Tb(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!Tb(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i},Ob=(t,e,r)=>{let i,n,a,s,o=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],
n=t.pending_buf[t.l_buf+o],o++,0===i?Eb(t,n,e):(a=yb[n],Eb(t,a+sb+1,e),s=cb[a],0!==s&&(n-=gb[a],Ib(t,n,s)),i--,a=Sb(i),Eb(t,a,r),s=hb[a],0!==s&&(i-=vb[a],Ib(t,i,s)))}while(o<t.last_lit);Eb(t,256,e)},qb=(t,e)=>{const r=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,o,d,f=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<a;s++)0!==r[2*s]?(t.heap[++t.heap_len]=f=s,t.depth[s]=0):r[2*s+1]=0;for(;t.heap_len<2;)d=t.heap[++t.heap_len]=f<2?++f:0,r[2*d]=1,t.depth[d]=0,
t.opt_len--,n&&(t.static_len-=i[2*d+1]);for(e.max_code=f,s=t.heap_len>>1;s>=1;s--)Bb(t,r,s);d=a;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Bb(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,r[2*d]=r[2*s]+r[2*o],t.depth[d]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,r[2*s+1]=r[2*o+1]=d,t.heap[1]=d++,Bb(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{
const r=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,d=e.stat_desc.max_length;let f,c,h,u,l,p,b=0;for(u=0;u<=fb;u++)t.bl_count[u]=0;for(r[2*t.heap[t.heap_max]+1]=0,f=t.heap_max+1;f<573;f++)c=t.heap[f],u=r[2*r[2*c+1]+1]+1,u>d&&(u=d,b++),r[2*c+1]=u,c>i||(t.bl_count[u]++,l=0,c>=o&&(l=s[c-o]),p=r[2*c],t.opt_len+=p*(u+l),a&&(t.static_len+=p*(n[2*c+1]+l)));if(0!==b){do{for(u=d-1;0===t.bl_count[u];)u--;t.bl_count[u]--,
t.bl_count[u+1]+=2,t.bl_count[d]--,b-=2}while(b>0);for(u=d;0!==u;u--)for(c=t.bl_count[u];0!==c;)h=t.heap[--f],h>i||(r[2*h+1]!==u&&(t.opt_len+=(u-r[2*h+1])*r[2*h],r[2*h+1]=u),c--)}})(t,e),Nb(r,f,t.bl_count)},Ub=(t,e,r)=>{let i,n,a=-1,s=e[1],o=0,d=7,f=4;for(0===s&&(d=138,f=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=s,s=e[2*(i+1)+1],++o<d&&n===s||(o<f?t.bl_tree[2*n]+=o:0!==n?(n!==a&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,a=n,0===s?(d=138,f=3):n===s?(d=6,f=3):(d=7,
f=4))},Cb=(t,e,r)=>{let i,n,a=-1,s=e[1],o=0,d=7,f=4;for(0===s&&(d=138,f=3),i=0;i<=r;i++)if(n=s,s=e[2*(i+1)+1],!(++o<d&&n===s)){if(o<f)do{Eb(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==a&&(Eb(t,n,t.bl_tree),o--),Eb(t,16,t.bl_tree),Ib(t,o-3,2)):o<=10?(Eb(t,17,t.bl_tree),Ib(t,o-3,3)):(Eb(t,18,t.bl_tree),Ib(t,o-11,7));o=0,a=n,0===s?(d=138,f=3):n===s?(d=6,f=3):(d=7,f=4)}};let Db=!1;const jb=(t,e,r,i)=>{Ib(t,0+(i?1:0),3),((t,e,r,i)=>{Pb(t),i&&(kb(t,r),kb(t,~r)),
t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r})(t,e,r,!0)};nb._tr_init=t=>{Db||((()=>{let t,e,r,i,n;const a=new Array(16);for(r=0,i=0;i<28;i++)for(gb[i]=r,t=0;t<1<<cb[i];t++)yb[r++]=i;for(yb[r-1]=i,n=0,i=0;i<16;i++)for(vb[i]=n,t=0;t<1<<hb[i];t++)mb[n++]=i;for(n>>=7;i<db;i++)for(vb[i]=n<<7,t=0;t<1<<hb[i]-7;t++)mb[256+n++]=i;for(e=0;e<=fb;e++)a[e]=0;for(t=0;t<=143;)pb[2*t+1]=8,t++,a[8]++;for(;t<=255;)pb[2*t+1]=9,t++,a[9]++;for(;t<=279;)pb[2*t+1]=7,t++,a[7]++
;for(;t<=287;)pb[2*t+1]=8,t++,a[8]++;for(Nb(pb,287,a),t=0;t<db;t++)bb[2*t+1]=5,bb[2*t]=zb(t,5);wb=new _b(pb,cb,257,ob,fb),Mb=new _b(bb,hb,0,db,fb),Ab=new _b(new Array(0),ub,0,19,7)})(),Db=!0),t.l_desc=new xb(t.dyn_ltree,wb),t.d_desc=new xb(t.dyn_dtree,Mb),t.bl_desc=new xb(t.bl_tree,Ab),t.bi_buf=0,t.bi_valid=0,Rb(t)},nb._tr_stored_block=jb,nb._tr_flush_block=(t,e,r,i)=>{let n,a,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,
r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<sb;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),qb(t,t.l_desc),qb(t,t.d_desc),s=(t=>{let e;for(Ub(t,t.dyn_ltree,t.l_desc.max_code),Ub(t,t.dyn_dtree,t.d_desc.max_code),qb(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*lb[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),n=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=n&&(n=a)):n=a=r+5,
r+4<=n&&-1!==e?jb(t,e,r,i):4===t.strategy||a===n?(Ib(t,2+(i?1:0),3),Ob(t,pb,bb)):(Ib(t,4+(i?1:0),3),((t,e,r,i)=>{let n;for(Ib(t,e-257,5),Ib(t,r-1,5),Ib(t,i-4,4),n=0;n<i;n++)Ib(t,t.bl_tree[2*lb[n]+1],3);Cb(t,t.dyn_ltree,e-1),Cb(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),Ob(t,t.dyn_ltree,t.dyn_dtree)),Rb(t),i&&Pb(t)},nb._tr_tally=(t,e,r)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,
t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(yb[r]+sb+1)]++,t.dyn_dtree[2*Sb(e)]++),t.last_lit===t.lit_bufsize-1),nb._tr_align=t=>{Ib(t,2,3),Eb(t,256,pb),(t=>{16===t.bi_valid?(kb(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)};var Lb=(t,e,r,i)=>{let n=65535&t|0,a=t>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{n=n+e[i++]|0,a=a+n|0}while(--s);n%=65521,a%=65521}return n|a<<16|0}
;const Fb=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var Vb=(t,e,r,i)=>{const n=Fb,a=i+r;t^=-1;for(let r=i;r<a;r++)t=t>>>8^n[255&(t^e[r])];return-1^t},Kb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Zb={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,
Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}
;const{_tr_init:Wb,_tr_stored_block:$b,_tr_flush_block:Hb,_tr_tally:Jb,_tr_align:Gb}=nb,Yb=Lb,Xb=Vb,Qb=Kb,{Z_NO_FLUSH:tm,Z_PARTIAL_FLUSH:em,Z_FULL_FLUSH:rm,Z_FINISH:im,Z_BLOCK:nm,Z_OK:am,Z_STREAM_END:sm,Z_STREAM_ERROR:om,Z_DATA_ERROR:dm,Z_BUF_ERROR:fm,Z_DEFAULT_COMPRESSION:cm,Z_FILTERED:hm,Z_HUFFMAN_ONLY:um,Z_RLE:lm,Z_FIXED:pm,Z_DEFAULT_STRATEGY:bm,Z_UNKNOWN:mm,Z_DEFLATED:ym}=Zb,gm=258,vm=262,_m=103,wm=113,Mm=666,Am=(t,e)=>(t.msg=Qb[e],e),xm=t=>(t<<1)-(t>4?9:0),Sm=t=>{let e=t.length
;for(;--e>=0;)t[e]=0};let km=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const Im=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},Em=(t,e)=>{Hb(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Im(t.strm)},zm=(t,e)=>{t.pending_buf[t.pending++]=e
},Nm=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Rm=(t,e,r,i)=>{let n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),r),1===t.state.wrap?t.adler=Yb(t.adler,e,n,r):2===t.state.wrap&&(t.adler=Xb(t.adler,e,n,r)),t.next_in+=n,t.total_in+=n,n)},Pm=(t,e)=>{let r,i,n=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match
;const d=t.strstart>t.w_size-vm?t.strstart-(t.w_size-vm):0,f=t.window,c=t.w_mask,h=t.prev,u=t.strstart+gm;let l=f[a+s-1],p=f[a+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(r=e,f[r+s]===p&&f[r+s-1]===l&&f[r]===f[a]&&f[++r]===f[a+1]){a+=2,r++;do{}while(f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&f[++a]===f[++r]&&a<u);if(i=gm-(u-a),a=u-gm,i>s){if(t.match_start=e,s=i,i>=o)break;l=f[a+s-1],
p=f[a+s]}}}while((e=h[e&c])>d&&0!=--n);return s<=t.lookahead?s:t.lookahead},Tm=t=>{const e=t.w_size;let r,i,n,a,s;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-vm)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,i=t.hash_size,r=i;do{n=t.head[--r],t.head[r]=n>=e?n-e:0}while(--i);i=e,r=i;do{n=t.prev[--r],t.prev[r]=n>=e?n-e:0}while(--i);a+=e}if(0===t.strm.avail_in)break;if(i=Rm(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=i,
t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=km(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=km(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<vm&&0!==t.strm.avail_in)},Bm=(t,e)=>{let r,i;for(;;){if(t.lookahead<vm){if(Tm(t),t.lookahead<vm&&e===tm)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=km(t,t.ins_h,t.window[t.strstart+3-1]),
r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-vm&&(t.match_length=Pm(t,r)),t.match_length>=3)if(i=Jb(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=km(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++
}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=km(t,t.ins_h,t.window[t.strstart+1]);else i=Jb(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(Em(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===im?(Em(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Em(t,!1),0===t.strm.avail_out)?1:2},Om=(t,e)=>{let r,i,n;for(;;){if(t.lookahead<vm){if(Tm(t),t.lookahead<vm&&e===tm)return 1;if(0===t.lookahead)break}if(r=0,
t.lookahead>=3&&(t.ins_h=km(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-vm&&(t.match_length=Pm(t,r),t.match_length<=5&&(t.strategy===hm||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,
i=Jb(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=km(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(Em(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=Jb(t,0,t.window[t.strstart-1]),i&&Em(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1
}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=Jb(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===im?(Em(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Em(t,!1),0===t.strm.avail_out)?1:2};function qm(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}const Um=[new qm(0,0,0,0,((t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Tm(t),
0===t.lookahead&&e===tm)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,Em(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-vm&&(Em(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===im?(Em(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Em(t,!1),t.strm.avail_out),1)
})),new qm(4,4,8,4,Bm),new qm(4,5,16,8,Bm),new qm(4,6,32,32,Bm),new qm(4,4,16,16,Om),new qm(8,16,32,32,Om),new qm(8,16,128,128,Om),new qm(8,32,128,256,Om),new qm(32,128,258,1024,Om),new qm(32,258,258,4096,Om)];function Cm(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ym,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,
this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Sm(this.dyn_ltree),
Sm(this.dyn_dtree),Sm(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Sm(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Sm(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Dm=t=>{if(!t||!t.state)return Am(t,om);t.total_in=t.total_out=0,t.data_type=mm;const e=t.state
;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:wm,t.adler=2===e.wrap?0:1,e.last_flush=tm,Wb(e),am},jm=t=>{const e=Dm(t);return e===am&&(t=>{t.window_size=2*t.w_size,Sm(t.head),t.max_lazy_match=Um[t.level].max_lazy,t.good_match=Um[t.level].good_length,t.nice_match=Um[t.level].nice_length,t.max_chain_length=Um[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),e
},Lm=(t,e,r,i,n,a)=>{if(!t)return om;let s=1;if(e===cm&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),n<1||n>9||r!==ym||i<8||i>15||e<0||e>9||a<0||a>pm)return Am(t,om);8===i&&(i=9);const o=new Cm;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),
o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=a,o.method=r,jm(t)};ib.deflateInit=(t,e)=>Lm(t,e,ym,15,8,bm),ib.deflateInit2=Lm,ib.deflateReset=jm,ib.deflateResetKeep=Dm,ib.deflateSetHeader=(t,e)=>t&&t.state?2!==t.state.wrap?om:(t.state.gzhead=e,am):om,ib.deflate=(t,e)=>{let r,i;if(!t||!t.state||e>nm||e<0)return t?Am(t,om):om;const n=t.state
;if(!t.output||!t.input&&0!==t.avail_in||n.status===Mm&&e!==im)return Am(t,0===t.avail_out?fm:om);n.strm=t;const a=n.last_flush;if(n.last_flush=e,42===n.status)if(2===n.wrap)t.adler=0,zm(n,31),zm(n,139),zm(n,8),n.gzhead?(zm(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),zm(n,255&n.gzhead.time),zm(n,n.gzhead.time>>8&255),zm(n,n.gzhead.time>>16&255),zm(n,n.gzhead.time>>24&255),zm(n,9===n.level?2:n.strategy>=um||n.level<2?4:0),
zm(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(zm(n,255&n.gzhead.extra.length),zm(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Xb(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(zm(n,0),zm(n,0),zm(n,0),zm(n,0),zm(n,0),zm(n,9===n.level?2:n.strategy>=um||n.level<2?4:0),zm(n,3),n.status=wm);else{let e=ym+(n.w_bits-8<<4)<<8,r=-1;r=n.strategy>=um||n.level<2?0:n.level<6?1:6===n.level?2:3,e|=r<<6,0!==n.strstart&&(e|=32),e+=31-e%31,n.status=wm,Nm(n,e),
0!==n.strstart&&(Nm(n,t.adler>>>16),Nm(n,65535&t.adler)),t.adler=1}if(69===n.status)if(n.gzhead.extra){for(r=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>r&&(t.adler=Xb(t.adler,n.pending_buf,n.pending-r,r)),Im(t),r=n.pending,n.pending!==n.pending_buf_size));)zm(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>r&&(t.adler=Xb(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,
n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=Xb(t.adler,n.pending_buf,n.pending-r,r)),Im(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,zm(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=Xb(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.gzindex=0,n.status=91)}else n.status=91
;if(91===n.status)if(n.gzhead.comment){r=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>r&&(t.adler=Xb(t.adler,n.pending_buf,n.pending-r,r)),Im(t),r=n.pending,n.pending===n.pending_buf_size)){i=1;break}i=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,zm(n,i)}while(0!==i);n.gzhead.hcrc&&n.pending>r&&(t.adler=Xb(t.adler,n.pending_buf,n.pending-r,r)),0===i&&(n.status=_m)}else n.status=_m
;if(n.status===_m&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Im(t),n.pending+2<=n.pending_buf_size&&(zm(n,255&t.adler),zm(n,t.adler>>8&255),t.adler=0,n.status=wm)):n.status=wm),0!==n.pending){if(Im(t),0===t.avail_out)return n.last_flush=-1,am}else if(0===t.avail_in&&xm(e)<=xm(a)&&e!==im)return Am(t,fm);if(n.status===Mm&&0!==t.avail_in)return Am(t,fm);if(0!==t.avail_in||0!==n.lookahead||e!==tm&&n.status!==Mm){let r=n.strategy===um?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Tm(t),
0===t.lookahead)){if(e===tm)return 1;break}if(t.match_length=0,r=Jb(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Em(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===im?(Em(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Em(t,!1),0===t.strm.avail_out)?1:2})(n,e):n.strategy===lm?((t,e)=>{let r,i,n,a;const s=t.window;for(;;){if(t.lookahead<=gm){if(Tm(t),t.lookahead<=gm&&e===tm)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,
i=s[n],i===s[++n]&&i===s[++n]&&i===s[++n])){a=t.strstart+gm;do{}while(i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&i===s[++n]&&n<a);t.match_length=gm-(a-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=Jb(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Jb(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Em(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,
e===im?(Em(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Em(t,!1),0===t.strm.avail_out)?1:2})(n,e):Um[n.level].func(n,e);if(3!==r&&4!==r||(n.status=Mm),1===r||3===r)return 0===t.avail_out&&(n.last_flush=-1),am;if(2===r&&(e===em?Gb(n):e!==nm&&($b(n,0,0,!1),e===rm&&(Sm(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Im(t),0===t.avail_out))return n.last_flush=-1,am}return e!==im?am:n.wrap<=0?sm:(2===n.wrap?(zm(n,255&t.adler),zm(n,t.adler>>8&255),zm(n,t.adler>>16&255),
zm(n,t.adler>>24&255),zm(n,255&t.total_in),zm(n,t.total_in>>8&255),zm(n,t.total_in>>16&255),zm(n,t.total_in>>24&255)):(Nm(n,t.adler>>>16),Nm(n,65535&t.adler)),Im(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?am:sm)},ib.deflateEnd=t=>{if(!t||!t.state)return om;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==_m&&e!==wm&&e!==Mm?Am(t,om):(t.state=null,e===wm?Am(t,dm):am)},ib.deflateSetDictionary=(t,e)=>{let r=e.length;if(!t||!t.state)return om;const i=t.state,n=i.wrap
;if(2===n||1===n&&42!==i.status||i.lookahead)return om;if(1===n&&(t.adler=Yb(t.adler,e,r,0)),i.wrap=0,r>=i.w_size){0===n&&(Sm(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(r-i.w_size,r),0),e=t,r=i.w_size}const a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Tm(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=km(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e)
;i.strstart=t,i.lookahead=2,Tm(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,i.wrap=n,am},ib.deflateInfo="pako deflate (from Nodeca project)";var Fm={};const Vm=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);Fm.assign=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){
if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)Vm(r,e)&&(t[e]=r[e])}}return t},Fm.flattenChunks=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];r.set(n,i),i+=n.length}return r};var Km={};let Zm=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Zm=!1}const Wm=new Uint8Array(256);for(let t=0;t<256;t++)Wm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1
;Wm[254]=Wm[254]=1,Km.string2buf=t=>{let e,r,i,n,a,s=t.length,o=0;for(n=0;n<s;n++)r=t.charCodeAt(n),55296==(64512&r)&&n+1<s&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),n++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,n=0;a<o;n++)r=t.charCodeAt(n),55296==(64512&r)&&n+1<s&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),n++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,
e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e};Km.buf2string=(t,e)=>{let r,i;const n=e||t.length,a=new Array(2*n);for(i=0,r=0;r<n;){let e=t[r++];if(e<128){a[i++]=e;continue}let s=Wm[e];if(s>4)a[i++]=65533,r+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&r<n;)e=e<<6|63&t[r++],s--;s>1?a[i++]=65533:e<65536?a[i++]=e:(e-=65536,a[i++]=55296|e>>10&1023,a[i++]=56320|1023&e)}}return((t,e)=>{
if(e<65534&&t.subarray&&Zm)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r})(a,i)},Km.utf8border=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0||0===r?e:r+Wm[t[r]]>e?r:e};var $m=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,
this.data_type=2,this.adler=0};const Hm=ib,Jm=Fm,Gm=Km,Ym=Kb,Xm=$m,Qm=Object.prototype.toString,{Z_NO_FLUSH:ty,Z_SYNC_FLUSH:ey,Z_FULL_FLUSH:ry,Z_FINISH:iy,Z_OK:ny,Z_STREAM_END:ay,Z_DEFAULT_COMPRESSION:sy,Z_DEFAULT_STRATEGY:oy,Z_DEFLATED:dy}=Zb;function fy(t){this.options=Jm.assign({level:sy,method:dy,chunkSize:16384,windowBits:15,memLevel:8,strategy:oy},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),
this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xm,this.strm.avail_out=0;let r=Hm.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==ny)throw new Error(Ym[r]);if(e.header&&Hm.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Gm.string2buf(e.dictionary):"[object ArrayBuffer]"===Qm.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Hm.deflateSetDictionary(this.strm,t),
r!==ny)throw new Error(Ym[r]);this._dict_set=!0}}function cy(t,e){const r=new fy(e);if(r.push(t,!0),r.err)throw r.msg||Ym[r.err];return r.result}fy.prototype.push=function(t,e){const r=this.strm,i=this.options.chunkSize;let n,a;if(this.ended)return!1;for(a=e===~~e?e:!0===e?iy:ty,"string"==typeof t?r.input=Gm.string2buf(t):"[object ArrayBuffer]"===Qm.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,
r.avail_out=i),(a===ey||a===ry)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(n=Hm.deflate(r,a),n===ay)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=Hm.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===ny;if(0!==r.avail_out){if(a>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},fy.prototype.onData=function(t){this.chunks.push(t)},
fy.prototype.onEnd=function(t){t===ny&&(this.result=Jm.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},rb.Deflate=fy,rb.deflate=cy,rb.deflateRaw=function(t,e){return(e=e||{}).raw=!0,cy(t,e)},rb.gzip=function(t,e){return(e=e||{}).gzip=!0,cy(t,e)},rb.constants=Zb;var hy={},uy={}
;const ly=15,py=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),by=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),my=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yy=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64])
;var gy=(t,e,r,i,n,a,s,o)=>{const d=o.bits;let f,c,h,u,l,p,b=0,m=0,y=0,g=0,v=0,_=0,w=0,M=0,A=0,x=0,S=null,k=0;const I=new Uint16Array(16),E=new Uint16Array(16);let z,N,R,P=null,T=0;for(b=0;b<=ly;b++)I[b]=0;for(m=0;m<i;m++)I[e[r+m]]++;for(v=d,g=ly;g>=1&&0===I[g];g--);if(v>g&&(v=g),0===g)return n[a++]=20971520,n[a++]=20971520,o.bits=1,0;for(y=1;y<g&&0===I[y];y++);for(v<y&&(v=y),M=1,b=1;b<=ly;b++)if(M<<=1,M-=I[b],M<0)return-1;if(M>0&&(0===t||1!==g))return-1;for(E[1]=0,b=1;b<ly;b++)E[b+1]=E[b]+I[b]
;for(m=0;m<i;m++)0!==e[r+m]&&(s[E[e[r+m]]++]=m);if(0===t?(S=P=s,p=19):1===t?(S=py,k-=257,P=by,T-=257,p=256):(S=my,P=yy,p=-1),x=0,m=0,b=y,l=a,_=v,w=0,h=-1,A=1<<v,u=A-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){z=b-w,s[m]<p?(N=0,R=s[m]):s[m]>p?(N=P[T+s[m]],R=S[k+s[m]]):(N=96,R=0),f=1<<b-w,c=1<<_,y=c;do{c-=f,n[l+(x>>w)+c]=z<<24|N<<16|R|0}while(0!==c);for(f=1<<b-1;x&f;)f>>=1;if(0!==f?(x&=f-1,x+=f):x=0,m++,0==--I[b]){if(b===g)break;b=e[r+s[m]]}if(b>v&&(x&u)!==h){for(0===w&&(w=v),l+=y,_=b-w,
M=1<<_;_+w<g&&(M-=I[_+w],!(M<=0));)_++,M<<=1;if(A+=1<<_,1===t&&A>852||2===t&&A>592)return 1;h=x&u,n[h]=v<<24|_<<16|l-a|0}}return 0!==x&&(n[l+x]=b-w<<24|64<<16|0),o.bits=v,0};const vy=Lb,_y=Vb,wy=function(t,e){let r,i,n,a,s,o,d,f,c,h,u,l,p,b,m,y,g,v,_,w,M,A,x,S;const k=t.state;r=t.next_in,x=t.input,i=r+(t.avail_in-5),n=t.next_out,S=t.output,a=n-(e-t.avail_out),s=n+(t.avail_out-257),o=k.dmax,d=k.wsize,f=k.whave,c=k.wnext,h=k.window,u=k.hold,l=k.bits,p=k.lencode,b=k.distcode,m=(1<<k.lenbits)-1,
y=(1<<k.distbits)-1;t:do{l<15&&(u+=x[r++]<<l,l+=8,u+=x[r++]<<l,l+=8),g=p[u&m];e:for(;;){if(v=g>>>24,u>>>=v,l-=v,v=g>>>16&255,0===v)S[n++]=65535&g;else{if(!(16&v)){if(0==(64&v)){g=p[(65535&g)+(u&(1<<v)-1)];continue e}if(32&v){k.mode=12;break t}t.msg="invalid literal/length code",k.mode=30;break t}_=65535&g,v&=15,v&&(l<v&&(u+=x[r++]<<l,l+=8),_+=u&(1<<v)-1,u>>>=v,l-=v),l<15&&(u+=x[r++]<<l,l+=8,u+=x[r++]<<l,l+=8),g=b[u&y];r:for(;;){if(v=g>>>24,u>>>=v,l-=v,v=g>>>16&255,!(16&v)){if(0==(64&v)){
g=b[(65535&g)+(u&(1<<v)-1)];continue r}t.msg="invalid distance code",k.mode=30;break t}if(w=65535&g,v&=15,l<v&&(u+=x[r++]<<l,l+=8,l<v&&(u+=x[r++]<<l,l+=8)),w+=u&(1<<v)-1,w>o){t.msg="invalid distance too far back",k.mode=30;break t}if(u>>>=v,l-=v,v=n-a,w>v){if(v=w-v,v>f&&k.sane){t.msg="invalid distance too far back",k.mode=30;break t}if(M=0,A=h,0===c){if(M+=d-v,v<_){_-=v;do{S[n++]=h[M++]}while(--v);M=n-w,A=S}}else if(c<v){if(M+=d+c-v,v-=c,v<_){_-=v;do{S[n++]=h[M++]}while(--v);if(M=0,c<_){v=c,_-=v
;do{S[n++]=h[M++]}while(--v);M=n-w,A=S}}}else if(M+=c-v,v<_){_-=v;do{S[n++]=h[M++]}while(--v);M=n-w,A=S}for(;_>2;)S[n++]=A[M++],S[n++]=A[M++],S[n++]=A[M++],_-=3;_&&(S[n++]=A[M++],_>1&&(S[n++]=A[M++]))}else{M=n-w;do{S[n++]=S[M++],S[n++]=S[M++],S[n++]=S[M++],_-=3}while(_>2);_&&(S[n++]=S[M++],_>1&&(S[n++]=S[M++]))}break}}break}}while(r<i&&n<s);_=l>>3,r-=_,l-=_<<3,u&=(1<<l)-1,t.next_in=r,t.next_out=n,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=n<s?s-n+257:257-(n-s),k.hold=u,k.bits=l
},My=gy,{Z_FINISH:Ay,Z_BLOCK:xy,Z_TREES:Sy,Z_OK:ky,Z_STREAM_END:Iy,Z_NEED_DICT:Ey,Z_STREAM_ERROR:zy,Z_DATA_ERROR:Ny,Z_MEM_ERROR:Ry,Z_BUF_ERROR:Py,Z_DEFLATED:Ty}=Zb,By=12,Oy=30,qy=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function Uy(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,
this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Cy=t=>{if(!t||!t.state)return zy;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,
e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ky},Dy=t=>{if(!t||!t.state)return zy;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Cy(t)},jy=(t,e)=>{let r;if(!t||!t.state)return zy;const i=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?zy:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,Dy(t))},Ly=(t,e)=>{if(!t)return zy;const r=new Uy;t.state=r,r.window=null;const i=jy(t,e)
;return i!==ky&&(t.state=null),i};let Fy,Vy,Ky=!0;const Zy=t=>{if(Ky){Fy=new Int32Array(512),Vy=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(My(1,t.lens,0,288,Fy,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;My(2,t.lens,0,32,Vy,0,t.work,{bits:5}),Ky=!1}t.lencode=Fy,t.lenbits=9,t.distcode=Vy,t.distbits=5},Wy=(t,e,r,i)=>{let n;const a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,
a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(n=a.wsize-a.wnext,n>i&&(n=i),a.window.set(e.subarray(r-i,r-i+n),a.wnext),(i-=n)?(a.window.set(e.subarray(r-i,r),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0};uy.inflateReset=Dy,uy.inflateReset2=jy,uy.inflateResetKeep=Cy,uy.inflateInit=t=>Ly(t,15),uy.inflateInit2=Ly,uy.inflate=(t,e)=>{
let r,i,n,a,s,o,d,f,c,h,u,l,p,b,m,y,g,v,_,w,M,A,x=0;const S=new Uint8Array(4);let k,I;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return zy;r=t.state,r.mode===By&&(r.mode=13),s=t.next_out,n=t.output,d=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,f=r.hold,c=r.bits,h=o,u=d,A=ky;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;c<16;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(2&r.wrap&&35615===f){
r.check=0,S[0]=255&f,S[1]=f>>>8&255,r.check=_y(r.check,S,2,0),f=0,c=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Oy;break}if((15&f)!==Ty){t.msg="unknown compression method",r.mode=Oy;break}if(f>>>=4,c-=4,M=8+(15&f),0===r.wbits)r.wbits=M;else if(M>r.wbits){t.msg="invalid window size",r.mode=Oy;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&f?10:By,f=0,c=0;break;case 2:for(;c<16;){if(0===o)break t;o--,
f+=i[a++]<<c,c+=8}if(r.flags=f,(255&r.flags)!==Ty){t.msg="unknown compression method",r.mode=Oy;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Oy;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=_y(r.check,S,2,0)),f=0,c=0,r.mode=3;case 3:for(;c<32;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.head&&(r.head.time=f),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,S[2]=f>>>16&255,S[3]=f>>>24&255,r.check=_y(r.check,S,4,0)),f=0,c=0,r.mode=4;case 4:for(;c<16;){
if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=_y(r.check,S,2,0)),f=0,c=0,r.mode=5;case 5:if(1024&r.flags){for(;c<16;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(S[0]=255&f,S[1]=f>>>8&255,r.check=_y(r.check,S,2,0)),f=0,c=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(l=r.length,l>o&&(l=o),l&&(r.head&&(M=r.head.extra_len-r.length,
r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(i.subarray(a,a+l),M)),512&r.flags&&(r.check=_y(r.check,i,l,a)),o-=l,a+=l,r.length-=l),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break t;l=0;do{M=i[a+l++],r.head&&M&&r.length<65536&&(r.head.name+=String.fromCharCode(M))}while(M&&l<o);if(512&r.flags&&(r.check=_y(r.check,i,l,a)),o-=l,a+=l,M)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break t
;l=0;do{M=i[a+l++],r.head&&M&&r.length<65536&&(r.head.comment+=String.fromCharCode(M))}while(M&&l<o);if(512&r.flags&&(r.check=_y(r.check,i,l,a)),o-=l,a+=l,M)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;c<16;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(f!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Oy;break}f=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=By;break;case 10:for(;c<32;){if(0===o)break t;o--,f+=i[a++]<<c,
c+=8}t.adler=r.check=qy(f),f=0,c=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=o,r.hold=f,r.bits=c,Ey;t.adler=r.check=1,r.mode=By;case By:if(e===xy||e===Sy)break t;case 13:if(r.last){f>>>=7&c,c-=7&c,r.mode=27;break}for(;c<3;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}switch(r.last=1&f,f>>>=1,c-=1,3&f){case 0:r.mode=14;break;case 1:if(Zy(r),r.mode=20,e===Sy){f>>>=2,c-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=Oy}
f>>>=2,c-=2;break;case 14:for(f>>>=7&c,c-=7&c;c<32;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Oy;break}if(r.length=65535&f,f=0,c=0,r.mode=15,e===Sy)break t;case 15:r.mode=16;case 16:if(l=r.length,l){if(l>o&&(l=o),l>d&&(l=d),0===l)break t;n.set(i.subarray(a,a+l),s),o-=l,a+=l,d-=l,s+=l,r.length-=l;break}r.mode=By;break;case 17:for(;c<14;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(r.nlen=257+(31&f),f>>>=5,c-=5,r.ndist=1+(31&f),
f>>>=5,c-=5,r.ncode=4+(15&f),f>>>=4,c-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Oy;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;c<3;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.lens[E[r.have++]]=7&f,f>>>=3,c-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,k={bits:r.lenbits},A=My(0,r.lens,0,19,r.lencode,0,r.work,k),r.lenbits=k.bits,A){t.msg="invalid code lengths set",r.mode=Oy;break}r.have=0,r.mode=19;case 19:
for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[f&(1<<r.lenbits)-1],m=x>>>24,y=x>>>16&255,g=65535&x,!(m<=c);){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(g<16)f>>>=m,c-=m,r.lens[r.have++]=g;else{if(16===g){for(I=m+2;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(f>>>=m,c-=m,0===r.have){t.msg="invalid bit length repeat",r.mode=Oy;break}M=r.lens[r.have-1],l=3+(3&f),f>>>=2,c-=2}else if(17===g){for(I=m+3;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}f>>>=m,c-=m,M=0,l=3+(7&f),f>>>=3,c-=3}else{
for(I=m+7;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}f>>>=m,c-=m,M=0,l=11+(127&f),f>>>=7,c-=7}if(r.have+l>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Oy;break}for(;l--;)r.lens[r.have++]=M}}if(r.mode===Oy)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Oy;break}if(r.lenbits=9,k={bits:r.lenbits},A=My(1,r.lens,0,r.nlen,r.lencode,0,r.work,k),r.lenbits=k.bits,A){t.msg="invalid literal/lengths set",r.mode=Oy;break}if(r.distbits=6,r.distcode=r.distdyn,k={
bits:r.distbits},A=My(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,k),r.distbits=k.bits,A){t.msg="invalid distances set",r.mode=Oy;break}if(r.mode=20,e===Sy)break t;case 20:r.mode=21;case 21:if(o>=6&&d>=258){t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=o,r.hold=f,r.bits=c,wy(t,u),s=t.next_out,n=t.output,d=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,f=r.hold,c=r.bits,r.mode===By&&(r.back=-1);break}for(r.back=0;x=r.lencode[f&(1<<r.lenbits)-1],m=x>>>24,y=x>>>16&255,g=65535&x,!(m<=c);){
if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(y&&0==(240&y)){for(v=m,_=y,w=g;x=r.lencode[w+((f&(1<<v+_)-1)>>v)],m=x>>>24,y=x>>>16&255,g=65535&x,!(v+m<=c);){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}f>>>=v,c-=v,r.back+=v}if(f>>>=m,c-=m,r.back+=m,r.length=g,0===y){r.mode=26;break}if(32&y){r.back=-1,r.mode=By;break}if(64&y){t.msg="invalid literal/length code",r.mode=Oy;break}r.extra=15&y,r.mode=22;case 22:if(r.extra){for(I=r.extra;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.length+=f&(1<<r.extra)-1,
f>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;x=r.distcode[f&(1<<r.distbits)-1],m=x>>>24,y=x>>>16&255,g=65535&x,!(m<=c);){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(0==(240&y)){for(v=m,_=y,w=g;x=r.distcode[w+((f&(1<<v+_)-1)>>v)],m=x>>>24,y=x>>>16&255,g=65535&x,!(v+m<=c);){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}f>>>=v,c-=v,r.back+=v}if(f>>>=m,c-=m,r.back+=m,64&y){t.msg="invalid distance code",r.mode=Oy;break}r.offset=g,r.extra=15&y,r.mode=24;case 24:if(r.extra){
for(I=r.extra;c<I;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Oy;break}r.mode=25;case 25:if(0===d)break t;if(l=u-d,r.offset>l){if(l=r.offset-l,l>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Oy;break}l>r.wnext?(l-=r.wnext,p=r.wsize-l):p=r.wnext-l,l>r.length&&(l=r.length),b=r.window}else b=n,p=s-r.offset,l=r.length;l>d&&(l=d),d-=l,r.length-=l;do{
n[s++]=b[p++]}while(--l);0===r.length&&(r.mode=21);break;case 26:if(0===d)break t;n[s++]=r.length,d--,r.mode=21;break;case 27:if(r.wrap){for(;c<32;){if(0===o)break t;o--,f|=i[a++]<<c,c+=8}if(u-=d,t.total_out+=u,r.total+=u,u&&(t.adler=r.check=r.flags?_y(r.check,n,u,s-u):vy(r.check,n,u,s-u)),u=d,(r.flags?f:qy(f))!==r.check){t.msg="incorrect data check",r.mode=Oy;break}f=0,c=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;c<32;){if(0===o)break t;o--,f+=i[a++]<<c,c+=8}if(f!==(4294967295&r.total)){
t.msg="incorrect length check",r.mode=Oy;break}f=0,c=0}r.mode=29;case 29:A=Iy;break t;case Oy:A=Ny;break t;case 31:return Ry;default:return zy}return t.next_out=s,t.avail_out=d,t.next_in=a,t.avail_in=o,r.hold=f,r.bits=c,(r.wsize||u!==t.avail_out&&r.mode<Oy&&(r.mode<27||e!==Ay))&&Wy(t,t.output,t.next_out,u-t.avail_out),h-=t.avail_in,u-=t.avail_out,t.total_in+=h,t.total_out+=u,r.total+=u,r.wrap&&u&&(t.adler=r.check=r.flags?_y(r.check,n,u,t.next_out-u):vy(r.check,n,u,t.next_out-u)),
t.data_type=r.bits+(r.last?64:0)+(r.mode===By?128:0)+(20===r.mode||15===r.mode?256:0),(0===h&&0===u||e===Ay)&&A===ky&&(A=Py),A},uy.inflateEnd=t=>{if(!t||!t.state)return zy;let e=t.state;return e.window&&(e.window=null),t.state=null,ky},uy.inflateGetHeader=(t,e)=>{if(!t||!t.state)return zy;const r=t.state;return 0==(2&r.wrap)?zy:(r.head=e,e.done=!1,ky)},uy.inflateSetDictionary=(t,e)=>{const r=e.length;let i,n,a;return t&&t.state?(i=t.state,0!==i.wrap&&11!==i.mode?zy:11===i.mode&&(n=1,
n=vy(n,e,r,0),n!==i.check)?Ny:(a=Wy(t,e,r,r),a?(i.mode=31,Ry):(i.havedict=1,ky))):zy},uy.inflateInfo="pako inflate (from Nodeca project)";const $y=uy,Hy=Fm,Jy=Km,Gy=Kb,Yy=$m,Xy=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Qy=Object.prototype.toString,{Z_NO_FLUSH:tg,Z_FINISH:eg,Z_OK:rg,Z_STREAM_END:ig,Z_NEED_DICT:ng,Z_STREAM_ERROR:ag,Z_DATA_ERROR:sg,Z_MEM_ERROR:og}=Zb;function dg(t){
this.options=Hy.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yy,this.strm.avail_out=0;let r=$y.inflateInit2(this.strm,e.windowBits)
;if(r!==rg)throw new Error(Gy[r]);if(this.header=new Xy,$y.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Jy.string2buf(e.dictionary):"[object ArrayBuffer]"===Qy.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=$y.inflateSetDictionary(this.strm,e.dictionary),r!==rg)))throw new Error(Gy[r])}function fg(t,e){const r=new dg(e);if(r.push(t),r.err)throw r.msg||Gy[r.err];return r.result}dg.prototype.push=function(t,e){
const r=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(s=e===~~e?e:!0===e?eg:tg,"[object ArrayBuffer]"===Qy.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),a=$y.inflate(r,s),a===ng&&n&&(a=$y.inflateSetDictionary(r,n),a===rg?a=$y.inflate(r,s):a===sg&&(a=ng));r.avail_in>0&&a===ig&&r.state.wrap>0&&0!==t[r.next_in];)$y.inflateReset(r),
a=$y.inflate(r,s);switch(a){case ag:case sg:case ng:case og:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||a===ig))if("string"===this.options.to){let t=Jy.utf8border(r.output,r.next_out),e=r.next_out-t,n=Jy.buf2string(r.output,t);r.next_out=e,r.avail_out=i-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(n)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==rg||0!==o){
if(a===ig)return a=$y.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},dg.prototype.onData=function(t){this.chunks.push(t)},dg.prototype.onEnd=function(t){t===rg&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Hy.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},hy.Inflate=dg,hy.inflate=fg,hy.inflateRaw=function(t,e){return(e=e||{}).raw=!0,fg(t,e)},hy.ungzip=fg,hy.constants=Zb
;const{Deflate:cg,deflate:hg,deflateRaw:ug,gzip:lg}=rb,{Inflate:pg,inflate:bg,inflateRaw:mg,ungzip:yg}=hy,gg=Zb;eb.Deflate=cg,eb.deflate=hg,eb.deflateRaw=ug,eb.gzip=lg,eb.Inflate=pg,eb.inflate=bg,eb.inflateRaw=mg,eb.ungzip=yg,eb.constants=gg;var vg={exports:{}},_g={},wg={};Object.defineProperty(wg,"__esModule",{value:!0}),wg.default=function(t){var e=t.length,r=e%4;if(!r)return t;var i=e,n=4-r,a=e+n,s=Buffer.alloc(a);for(s.write(t);n--;)s.write("=",i++);return s.toString()},
Object.defineProperty(_g,"__esModule",{value:!0});var Mg=wg;function Ag(t,e){return void 0===e&&(e="utf8"),Buffer.isBuffer(t)?Sg(t.toString("base64")):Sg(Buffer.from(t,e).toString("base64"))}function xg(t){return t=t.toString(),Mg.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function Sg(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var kg=Ag;kg.encode=Ag,kg.decode=function(t,e){return void 0===e&&(e="utf8"),Buffer.from(xg(t),"base64").toString(e)},kg.toBase64=xg,
kg.fromBase64=Sg,kg.toBuffer=function(t){return Buffer.from(xg(t),"base64")},_g.default=kg,function(t){t.exports=_g.default,t.exports.default=t.exports}(vg),function(t){function e(){}function r(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===n.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}
function i(t){for(var e=0,r=Math.min(65536,t.length+1),i=new Uint16Array(r),n=[],a=0;;){var s=e<t.length;if(!s||a>=r-1){if(n.push(String.fromCharCode.apply(null,i.subarray(0,a))),!s)return n.join("");t=t.subarray(e),a=e=0}if(0==(128&(s=t[e++])))i[a++]=s;else if(192==(224&s)){var o=63&t[e++];i[a++]=(31&s)<<6|o}else if(224==(240&s)){o=63&t[e++];var d=63&t[e++];i[a++]=(31&s)<<12|o<<6|d}else if(240==(248&s)){65535<(s=(7&s)<<18|(o=63&t[e++])<<12|(d=63&t[e++])<<6|63&t[e++])&&(s-=65536,
i[a++]=s>>>10&1023|55296,s=56320|1023&s),i[a++]=s}}}if(t.TextEncoder&&t.TextDecoder)return!1;var n=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var r=t.length,i=0,n=Math.max(32,r+(r>>>1)+7),a=new Uint8Array(n>>>3<<3);e<r;){var s=t.charCodeAt(e++);if(55296<=s&&56319>=s){if(e<r){
var o=t.charCodeAt(e);56320==(64512&o)&&(++e,s=((1023&s)<<10)+(1023&o)+65536)}if(55296<=s&&56319>=s)continue}if(i+4>a.length&&(n+=8,n=(n*=1+e/t.length*2)>>>3<<3,(o=new Uint8Array(n)).set(a),a=o),0==(4294967168&s))a[i++]=s;else{if(0==(4294965248&s))a[i++]=s>>>6&31|192;else if(0==(4294901760&s))a[i++]=s>>>12&15|224,a[i++]=s>>>6&63|128;else{if(0!=(4292870144&s))continue;a[i++]=s>>>18&7|240,a[i++]=s>>>12&63|128,a[i++]=s>>>6&63|128}a[i++]=63&s|128}}return a.slice?a.slice(0,i):a.subarray(0,i)},
Object.defineProperty(r.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(r.prototype,"fatal",{value:!1}),Object.defineProperty(r.prototype,"ignoreBOM",{value:!1});var a=i;"function"==typeof Buffer&&Buffer.from?a=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(a=function(t){try{var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"
})),r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),r.responseText}catch(e){return i(t)}finally{e&&URL.revokeObjectURL(e)}}),r.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),a(t)},t.TextEncoder=e,t.TextDecoder=r}("undefined"!=typeof window?window:hr);var Ig={exports:{}};!function(t){
!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(t,e,r){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{
a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:mr.Buffer}catch(t){}function s(t,e){var i=t.charCodeAt(e);return i>=48&&i<=57?i-48:i>=65&&i<=70?i-55:i>=97&&i<=102?i-87:void r(!1,"Invalid character in "+t)}function o(t,e,r){var i=s(t,r);return r-1>=e&&(i|=s(t,r-1)<<4),i}function d(t,e,i,n){for(var a=0,s=0,o=Math.min(t.length,i),d=e;d<o;d++){var f=t.charCodeAt(d)-48;a*=n,s=f>=49?f-49+10:f>=17?f-17+10:f,r(f>=0&&s<n,"Invalid character"),a+=s}return a}function f(t,e){
t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype._init=function(t,e,i){if("number"==typeof t)return this._initNumber(t,e,i);if("object"==typeof t)return this._initArray(t,e,i);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var n=0
;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<t.length&&(16===e?this._parseHex(t,n,i):(this._parseBase(t,e,n),"le"===i&&this._initArray(this.toArray(),e,i)))},n.prototype._initNumber=function(t,e,i){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),
"le"===i&&this._initArray(this.toArray(),e,i)},n.prototype._initArray=function(t,e,i){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,s,o=0;if("be"===i)for(n=t.length-1,a=0;n>=0;n-=3)s=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===i)for(n=0,
a=0;n<t.length;n+=3)s=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this._strip()},n.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,a=0,s=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=o(t,e,i)<<a,this.words[s]|=67108863&n,a>=18?(a-=18,s+=1,
this.words[s]|=n>>>26):a+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=o(t,e,i)<<a,this.words[s]|=67108863&n,a>=18?(a-=18,s+=1,this.words[s]|=n>>>26):a+=8;this._strip()},n.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var i=0,n=1;n<=67108863;n*=e)i++;i--,n=n/e|0;for(var a=t.length-r,s=a%i,o=Math.min(a,a-s)+r,f=0,c=r;c<o;c+=i)f=d(t,c,c+i,e),this.imuln(n),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(0!==s){var h=1;for(f=d(t,c,t.length,e),
c=0;c<s;c++)h*=e;this.imuln(h),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype._move=function(t){f(t,this)},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},
n.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},n.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch(t){n.prototype.inspect=c}else n.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}
var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176]
;n.prototype.toString=function(t,e){var i;if(e=0|e||1,16===(t=t||10)||"hex"===t){i="";for(var n=0,a=0,s=0;s<this.length;s++){var o=this.words[s],d=(16777215&(o<<n|a)).toString(16);a=o>>>24-n&16777215,(n+=2)>=26&&(n-=26,s--),i=0!==a||s!==this.length-1?h[6-d.length]+d+i:d+i}for(0!==a&&(i=a.toString(16)+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(t===(0|t)&&t>=2&&t<=36){var f=u[t],c=l[t];i="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modrn(c).toString(t)
;i=(p=p.idivn(c)).isZero()?b+i:h[f-b.length]+b+i}for(this.isZero()&&(i="0"+i);i.length%e!=0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){
return this.toString(16,2)},a&&(n.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var i=t.length+e.length|0;r.length=i,i=i-1|0;var n=0|t.words[0],a=0|e.words[0],s=n*a,o=67108863&s,d=s/67108864|0;r.words[0]=o;for(var f=1;f<i;f++){for(var c=d>>>26,h=67108863&d,u=Math.min(f,e.length-1),l=Math.max(0,f-t.length+1);l<=u;l++){var p=f-l|0
;c+=(s=(n=0|t.words[p])*(a=0|e.words[l])+h)/67108864|0,h=67108863&s}r.words[f]=0|h,d=0|c}return 0!==d?r.words[f]=0|d:r.length--,r._strip()}n.prototype.toArrayLike=function(t,e,i){this._strip();var n=this.byteLength(),a=i||Math.max(1,n);r(n<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0");var s=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,a);return this["_toArrayLike"+("le"===e?"LE":"BE")](s,n),s},n.prototype._toArrayLikeLE=function(t,e){
for(var r=0,i=0,n=0,a=0;n<this.length;n++){var s=this.words[n]<<a|i;t[r++]=255&s,r<t.length&&(t[r++]=s>>8&255),r<t.length&&(t[r++]=s>>16&255),6===a?(r<t.length&&(t[r++]=s>>24&255),i=0,a=0):(i=s>>>24,a+=2)}if(r<t.length)for(t[r++]=i;r<t.length;)t[r++]=0},n.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,i=0,n=0,a=0;n<this.length;n++){var s=this.words[n]<<a|i;t[r--]=255&s,r>=0&&(t[r--]=s>>8&255),r>=0&&(t[r--]=s>>16&255),6===a?(r>=0&&(t[r--]=s>>24&255),i=0,a=0):(i=s>>>24,a+=2)}
if(r>=0)for(t[r--]=i;r>=0;)t[r--]=0},Math.clz32?n.prototype._countBits=function(t){return 32-Math.clz32(t)}:n.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},n.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},n.prototype.bitLength=function(){
var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){
return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},n.prototype.ior=function(t){return r(0==(this.negative|t.negative)),
this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},n.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){
return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var i=0;i<r.length;i++)this.words[i]=e.words[i]^r.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},n.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),
this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),i=t%26;this._expand(e),i>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this._strip()},n.prototype.notn=function(t){
return this.clone().inotn(t)},n.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var i=t/26|0,n=t%26;return this._expand(i+1),this.words[i]=e?this.words[i]|1<<n:this.words[i]&~(1<<n),this._strip()},n.prototype.iadd=function(t){var e,r,i;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,i=t):(r=t,i=this)
;for(var n=0,a=0;a<i.length;a++)e=(0|r.words[a])+(0|i.words[a])+n,this.words[a]=67108863&e,n=e>>>26;for(;0!==n&&a<r.length;a++)e=(0|r.words[a])+n,this.words[a]=67108863&e,n=e>>>26;if(this.length=r.length,0!==n)this.words[this.length]=n,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,
e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,i,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(r=this,i=t):(r=t,i=this);for(var a=0,s=0;s<i.length;s++)a=(e=(0|r.words[s])-(0|i.words[s])+a)>>26,
this.words[s]=67108863&e;for(;0!==a&&s<r.length;s++)a=(e=(0|r.words[s])+a)>>26,this.words[s]=67108863&e;if(0===a&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(t){return this.clone().isub(t)};var b=function(t,e,r){
var i,n,a,s=t.words,o=e.words,d=r.words,f=0,c=0|s[0],h=8191&c,u=c>>>13,l=0|s[1],p=8191&l,b=l>>>13,m=0|s[2],y=8191&m,g=m>>>13,v=0|s[3],_=8191&v,w=v>>>13,M=0|s[4],A=8191&M,x=M>>>13,S=0|s[5],k=8191&S,I=S>>>13,E=0|s[6],z=8191&E,N=E>>>13,R=0|s[7],P=8191&R,T=R>>>13,B=0|s[8],O=8191&B,q=B>>>13,U=0|s[9],C=8191&U,D=U>>>13,j=0|o[0],L=8191&j,F=j>>>13,V=0|o[1],K=8191&V,Z=V>>>13,W=0|o[2],$=8191&W,H=W>>>13,J=0|o[3],G=8191&J,Y=J>>>13,X=0|o[4],Q=8191&X,tt=X>>>13,et=0|o[5],rt=8191&et,it=et>>>13,nt=0|o[6],at=8191&nt,st=nt>>>13,ot=0|o[7],dt=8191&ot,ft=ot>>>13,ct=0|o[8],ht=8191&ct,ut=ct>>>13,lt=0|o[9],pt=8191&lt,bt=lt>>>13
;r.negative=t.negative^e.negative,r.length=19;var mt=(f+(i=Math.imul(h,L))|0)+((8191&(n=(n=Math.imul(h,F))+Math.imul(u,L)|0))<<13)|0;f=((a=Math.imul(u,F))+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,i=Math.imul(p,L),n=(n=Math.imul(p,F))+Math.imul(b,L)|0,a=Math.imul(b,F);var yt=(f+(i=i+Math.imul(h,K)|0)|0)+((8191&(n=(n=n+Math.imul(h,Z)|0)+Math.imul(u,K)|0))<<13)|0;f=((a=a+Math.imul(u,Z)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,i=Math.imul(y,L),n=(n=Math.imul(y,F))+Math.imul(g,L)|0,a=Math.imul(g,F),
i=i+Math.imul(p,K)|0,n=(n=n+Math.imul(p,Z)|0)+Math.imul(b,K)|0,a=a+Math.imul(b,Z)|0;var gt=(f+(i=i+Math.imul(h,$)|0)|0)+((8191&(n=(n=n+Math.imul(h,H)|0)+Math.imul(u,$)|0))<<13)|0;f=((a=a+Math.imul(u,H)|0)+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,i=Math.imul(_,L),n=(n=Math.imul(_,F))+Math.imul(w,L)|0,a=Math.imul(w,F),i=i+Math.imul(y,K)|0,n=(n=n+Math.imul(y,Z)|0)+Math.imul(g,K)|0,a=a+Math.imul(g,Z)|0,i=i+Math.imul(p,$)|0,n=(n=n+Math.imul(p,H)|0)+Math.imul(b,$)|0,a=a+Math.imul(b,H)|0
;var vt=(f+(i=i+Math.imul(h,G)|0)|0)+((8191&(n=(n=n+Math.imul(h,Y)|0)+Math.imul(u,G)|0))<<13)|0;f=((a=a+Math.imul(u,Y)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,i=Math.imul(A,L),n=(n=Math.imul(A,F))+Math.imul(x,L)|0,a=Math.imul(x,F),i=i+Math.imul(_,K)|0,n=(n=n+Math.imul(_,Z)|0)+Math.imul(w,K)|0,a=a+Math.imul(w,Z)|0,i=i+Math.imul(y,$)|0,n=(n=n+Math.imul(y,H)|0)+Math.imul(g,$)|0,a=a+Math.imul(g,H)|0,i=i+Math.imul(p,G)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(b,G)|0,a=a+Math.imul(b,Y)|0
;var _t=(f+(i=i+Math.imul(h,Q)|0)|0)+((8191&(n=(n=n+Math.imul(h,tt)|0)+Math.imul(u,Q)|0))<<13)|0;f=((a=a+Math.imul(u,tt)|0)+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,i=Math.imul(k,L),n=(n=Math.imul(k,F))+Math.imul(I,L)|0,a=Math.imul(I,F),i=i+Math.imul(A,K)|0,n=(n=n+Math.imul(A,Z)|0)+Math.imul(x,K)|0,a=a+Math.imul(x,Z)|0,i=i+Math.imul(_,$)|0,n=(n=n+Math.imul(_,H)|0)+Math.imul(w,$)|0,a=a+Math.imul(w,H)|0,i=i+Math.imul(y,G)|0,n=(n=n+Math.imul(y,Y)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,Y)|0,
i=i+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(b,Q)|0,a=a+Math.imul(b,tt)|0;var wt=(f+(i=i+Math.imul(h,rt)|0)|0)+((8191&(n=(n=n+Math.imul(h,it)|0)+Math.imul(u,rt)|0))<<13)|0;f=((a=a+Math.imul(u,it)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,i=Math.imul(z,L),n=(n=Math.imul(z,F))+Math.imul(N,L)|0,a=Math.imul(N,F),i=i+Math.imul(k,K)|0,n=(n=n+Math.imul(k,Z)|0)+Math.imul(I,K)|0,a=a+Math.imul(I,Z)|0,i=i+Math.imul(A,$)|0,n=(n=n+Math.imul(A,H)|0)+Math.imul(x,$)|0,a=a+Math.imul(x,H)|0,
i=i+Math.imul(_,G)|0,n=(n=n+Math.imul(_,Y)|0)+Math.imul(w,G)|0,a=a+Math.imul(w,Y)|0,i=i+Math.imul(y,Q)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(g,Q)|0,a=a+Math.imul(g,tt)|0,i=i+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,it)|0)+Math.imul(b,rt)|0,a=a+Math.imul(b,it)|0;var Mt=(f+(i=i+Math.imul(h,at)|0)|0)+((8191&(n=(n=n+Math.imul(h,st)|0)+Math.imul(u,at)|0))<<13)|0;f=((a=a+Math.imul(u,st)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,i=Math.imul(P,L),n=(n=Math.imul(P,F))+Math.imul(T,L)|0,a=Math.imul(T,F),
i=i+Math.imul(z,K)|0,n=(n=n+Math.imul(z,Z)|0)+Math.imul(N,K)|0,a=a+Math.imul(N,Z)|0,i=i+Math.imul(k,$)|0,n=(n=n+Math.imul(k,H)|0)+Math.imul(I,$)|0,a=a+Math.imul(I,H)|0,i=i+Math.imul(A,G)|0,n=(n=n+Math.imul(A,Y)|0)+Math.imul(x,G)|0,a=a+Math.imul(x,Y)|0,i=i+Math.imul(_,Q)|0,n=(n=n+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,a=a+Math.imul(w,tt)|0,i=i+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,it)|0)+Math.imul(g,rt)|0,a=a+Math.imul(g,it)|0,i=i+Math.imul(p,at)|0,n=(n=n+Math.imul(p,st)|0)+Math.imul(b,at)|0,
a=a+Math.imul(b,st)|0;var At=(f+(i=i+Math.imul(h,dt)|0)|0)+((8191&(n=(n=n+Math.imul(h,ft)|0)+Math.imul(u,dt)|0))<<13)|0;f=((a=a+Math.imul(u,ft)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,i=Math.imul(O,L),n=(n=Math.imul(O,F))+Math.imul(q,L)|0,a=Math.imul(q,F),i=i+Math.imul(P,K)|0,n=(n=n+Math.imul(P,Z)|0)+Math.imul(T,K)|0,a=a+Math.imul(T,Z)|0,i=i+Math.imul(z,$)|0,n=(n=n+Math.imul(z,H)|0)+Math.imul(N,$)|0,a=a+Math.imul(N,H)|0,i=i+Math.imul(k,G)|0,n=(n=n+Math.imul(k,Y)|0)+Math.imul(I,G)|0,
a=a+Math.imul(I,Y)|0,i=i+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,tt)|0)+Math.imul(x,Q)|0,a=a+Math.imul(x,tt)|0,i=i+Math.imul(_,rt)|0,n=(n=n+Math.imul(_,it)|0)+Math.imul(w,rt)|0,a=a+Math.imul(w,it)|0,i=i+Math.imul(y,at)|0,n=(n=n+Math.imul(y,st)|0)+Math.imul(g,at)|0,a=a+Math.imul(g,st)|0,i=i+Math.imul(p,dt)|0,n=(n=n+Math.imul(p,ft)|0)+Math.imul(b,dt)|0,a=a+Math.imul(b,ft)|0;var xt=(f+(i=i+Math.imul(h,ht)|0)|0)+((8191&(n=(n=n+Math.imul(h,ut)|0)+Math.imul(u,ht)|0))<<13)|0
;f=((a=a+Math.imul(u,ut)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,i=Math.imul(C,L),n=(n=Math.imul(C,F))+Math.imul(D,L)|0,a=Math.imul(D,F),i=i+Math.imul(O,K)|0,n=(n=n+Math.imul(O,Z)|0)+Math.imul(q,K)|0,a=a+Math.imul(q,Z)|0,i=i+Math.imul(P,$)|0,n=(n=n+Math.imul(P,H)|0)+Math.imul(T,$)|0,a=a+Math.imul(T,H)|0,i=i+Math.imul(z,G)|0,n=(n=n+Math.imul(z,Y)|0)+Math.imul(N,G)|0,a=a+Math.imul(N,Y)|0,i=i+Math.imul(k,Q)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,tt)|0,i=i+Math.imul(A,rt)|0,
n=(n=n+Math.imul(A,it)|0)+Math.imul(x,rt)|0,a=a+Math.imul(x,it)|0,i=i+Math.imul(_,at)|0,n=(n=n+Math.imul(_,st)|0)+Math.imul(w,at)|0,a=a+Math.imul(w,st)|0,i=i+Math.imul(y,dt)|0,n=(n=n+Math.imul(y,ft)|0)+Math.imul(g,dt)|0,a=a+Math.imul(g,ft)|0,i=i+Math.imul(p,ht)|0,n=(n=n+Math.imul(p,ut)|0)+Math.imul(b,ht)|0,a=a+Math.imul(b,ut)|0;var St=(f+(i=i+Math.imul(h,pt)|0)|0)+((8191&(n=(n=n+Math.imul(h,bt)|0)+Math.imul(u,pt)|0))<<13)|0;f=((a=a+Math.imul(u,bt)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,
i=Math.imul(C,K),n=(n=Math.imul(C,Z))+Math.imul(D,K)|0,a=Math.imul(D,Z),i=i+Math.imul(O,$)|0,n=(n=n+Math.imul(O,H)|0)+Math.imul(q,$)|0,a=a+Math.imul(q,H)|0,i=i+Math.imul(P,G)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(T,G)|0,a=a+Math.imul(T,Y)|0,i=i+Math.imul(z,Q)|0,n=(n=n+Math.imul(z,tt)|0)+Math.imul(N,Q)|0,a=a+Math.imul(N,tt)|0,i=i+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,it)|0)+Math.imul(I,rt)|0,a=a+Math.imul(I,it)|0,i=i+Math.imul(A,at)|0,n=(n=n+Math.imul(A,st)|0)+Math.imul(x,at)|0,
a=a+Math.imul(x,st)|0,i=i+Math.imul(_,dt)|0,n=(n=n+Math.imul(_,ft)|0)+Math.imul(w,dt)|0,a=a+Math.imul(w,ft)|0,i=i+Math.imul(y,ht)|0,n=(n=n+Math.imul(y,ut)|0)+Math.imul(g,ht)|0,a=a+Math.imul(g,ut)|0;var kt=(f+(i=i+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,bt)|0)+Math.imul(b,pt)|0))<<13)|0;f=((a=a+Math.imul(b,bt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,i=Math.imul(C,$),n=(n=Math.imul(C,H))+Math.imul(D,$)|0,a=Math.imul(D,H),i=i+Math.imul(O,G)|0,n=(n=n+Math.imul(O,Y)|0)+Math.imul(q,G)|0,
a=a+Math.imul(q,Y)|0,i=i+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,tt)|0)+Math.imul(T,Q)|0,a=a+Math.imul(T,tt)|0,i=i+Math.imul(z,rt)|0,n=(n=n+Math.imul(z,it)|0)+Math.imul(N,rt)|0,a=a+Math.imul(N,it)|0,i=i+Math.imul(k,at)|0,n=(n=n+Math.imul(k,st)|0)+Math.imul(I,at)|0,a=a+Math.imul(I,st)|0,i=i+Math.imul(A,dt)|0,n=(n=n+Math.imul(A,ft)|0)+Math.imul(x,dt)|0,a=a+Math.imul(x,ft)|0,i=i+Math.imul(_,ht)|0,n=(n=n+Math.imul(_,ut)|0)+Math.imul(w,ht)|0,a=a+Math.imul(w,ut)|0
;var It=(f+(i=i+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,bt)|0)+Math.imul(g,pt)|0))<<13)|0;f=((a=a+Math.imul(g,bt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,i=Math.imul(C,G),n=(n=Math.imul(C,Y))+Math.imul(D,G)|0,a=Math.imul(D,Y),i=i+Math.imul(O,Q)|0,n=(n=n+Math.imul(O,tt)|0)+Math.imul(q,Q)|0,a=a+Math.imul(q,tt)|0,i=i+Math.imul(P,rt)|0,n=(n=n+Math.imul(P,it)|0)+Math.imul(T,rt)|0,a=a+Math.imul(T,it)|0,i=i+Math.imul(z,at)|0,n=(n=n+Math.imul(z,st)|0)+Math.imul(N,at)|0,a=a+Math.imul(N,st)|0,
i=i+Math.imul(k,dt)|0,n=(n=n+Math.imul(k,ft)|0)+Math.imul(I,dt)|0,a=a+Math.imul(I,ft)|0,i=i+Math.imul(A,ht)|0,n=(n=n+Math.imul(A,ut)|0)+Math.imul(x,ht)|0,a=a+Math.imul(x,ut)|0;var Et=(f+(i=i+Math.imul(_,pt)|0)|0)+((8191&(n=(n=n+Math.imul(_,bt)|0)+Math.imul(w,pt)|0))<<13)|0;f=((a=a+Math.imul(w,bt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,i=Math.imul(C,Q),n=(n=Math.imul(C,tt))+Math.imul(D,Q)|0,a=Math.imul(D,tt),i=i+Math.imul(O,rt)|0,n=(n=n+Math.imul(O,it)|0)+Math.imul(q,rt)|0,a=a+Math.imul(q,it)|0,
i=i+Math.imul(P,at)|0,n=(n=n+Math.imul(P,st)|0)+Math.imul(T,at)|0,a=a+Math.imul(T,st)|0,i=i+Math.imul(z,dt)|0,n=(n=n+Math.imul(z,ft)|0)+Math.imul(N,dt)|0,a=a+Math.imul(N,ft)|0,i=i+Math.imul(k,ht)|0,n=(n=n+Math.imul(k,ut)|0)+Math.imul(I,ht)|0,a=a+Math.imul(I,ut)|0;var zt=(f+(i=i+Math.imul(A,pt)|0)|0)+((8191&(n=(n=n+Math.imul(A,bt)|0)+Math.imul(x,pt)|0))<<13)|0;f=((a=a+Math.imul(x,bt)|0)+(n>>>13)|0)+(zt>>>26)|0,zt&=67108863,i=Math.imul(C,rt),n=(n=Math.imul(C,it))+Math.imul(D,rt)|0,
a=Math.imul(D,it),i=i+Math.imul(O,at)|0,n=(n=n+Math.imul(O,st)|0)+Math.imul(q,at)|0,a=a+Math.imul(q,st)|0,i=i+Math.imul(P,dt)|0,n=(n=n+Math.imul(P,ft)|0)+Math.imul(T,dt)|0,a=a+Math.imul(T,ft)|0,i=i+Math.imul(z,ht)|0,n=(n=n+Math.imul(z,ut)|0)+Math.imul(N,ht)|0,a=a+Math.imul(N,ut)|0;var Nt=(f+(i=i+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,bt)|0)+Math.imul(I,pt)|0))<<13)|0;f=((a=a+Math.imul(I,bt)|0)+(n>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,i=Math.imul(C,at),
n=(n=Math.imul(C,st))+Math.imul(D,at)|0,a=Math.imul(D,st),i=i+Math.imul(O,dt)|0,n=(n=n+Math.imul(O,ft)|0)+Math.imul(q,dt)|0,a=a+Math.imul(q,ft)|0,i=i+Math.imul(P,ht)|0,n=(n=n+Math.imul(P,ut)|0)+Math.imul(T,ht)|0,a=a+Math.imul(T,ut)|0;var Rt=(f+(i=i+Math.imul(z,pt)|0)|0)+((8191&(n=(n=n+Math.imul(z,bt)|0)+Math.imul(N,pt)|0))<<13)|0;f=((a=a+Math.imul(N,bt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,i=Math.imul(C,dt),n=(n=Math.imul(C,ft))+Math.imul(D,dt)|0,a=Math.imul(D,ft),i=i+Math.imul(O,ht)|0,
n=(n=n+Math.imul(O,ut)|0)+Math.imul(q,ht)|0,a=a+Math.imul(q,ut)|0;var Pt=(f+(i=i+Math.imul(P,pt)|0)|0)+((8191&(n=(n=n+Math.imul(P,bt)|0)+Math.imul(T,pt)|0))<<13)|0;f=((a=a+Math.imul(T,bt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,i=Math.imul(C,ht),n=(n=Math.imul(C,ut))+Math.imul(D,ht)|0,a=Math.imul(D,ut);var Tt=(f+(i=i+Math.imul(O,pt)|0)|0)+((8191&(n=(n=n+Math.imul(O,bt)|0)+Math.imul(q,pt)|0))<<13)|0;f=((a=a+Math.imul(q,bt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863
;var Bt=(f+(i=Math.imul(C,pt))|0)+((8191&(n=(n=Math.imul(C,bt))+Math.imul(D,pt)|0))<<13)|0;return f=((a=Math.imul(D,bt))+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,d[0]=mt,d[1]=yt,d[2]=gt,d[3]=vt,d[4]=_t,d[5]=wt,d[6]=Mt,d[7]=At,d[8]=xt,d[9]=St,d[10]=kt,d[11]=It,d[12]=Et,d[13]=zt,d[14]=Nt,d[15]=Rt,d[16]=Pt,d[17]=Tt,d[18]=Bt,0!==f&&(d[19]=f,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var i=0,n=0,a=0;a<r.length-1;a++){var s=n;n=0
;for(var o=67108863&i,d=Math.min(a,e.length-1),f=Math.max(0,a-t.length+1);f<=d;f++){var c=a-f,h=(0|t.words[c])*(0|e.words[f]),u=67108863&h;o=67108863&(u=u+o|0),n+=(s=(s=s+(h/67108864|0)|0)+(u>>>26)|0)>>>26,s&=67108863}r.words[a]=o,i=s,s=n}return 0!==i?r.words[a]=i:r.length--,r._strip()}function y(t,e,r){return m(t,e,r)}Math.imul||(b=p),n.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?b(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):y(this,t,e)},
n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),y(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var i=0,n=0;n<this.length;n++){var a=(0|this.words[n])*t,s=(67108863&a)+(67108863&i);i>>=26,i+=a/67108864|0,i+=s>>>26,
this.words[n]=67108863&s}return 0!==i&&(this.words[n]=i,this.length++),e?this.ineg():this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var i=r/26|0,n=r%26;e[r]=t.words[i]>>>n&1}return e}(t);if(0===e.length)return new n(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,
r=r.sqr());if(++i<e.length)for(var a=r.sqr();i<e.length;i++,a=a.sqr())0!==e[i]&&(r=r.mul(a));return r},n.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,i=t%26,n=(t-i)/26,a=67108863>>>26-i<<26-i;if(0!==i){var s=0;for(e=0;e<this.length;e++){var o=this.words[e]&a,d=(0|this.words[e])-o<<i;this.words[e]=d|s,s=o>>>26-i}s&&(this.words[e]=s,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}
return this._strip()},n.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,i){var n;r("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var a=t%26,s=Math.min((t-a)/26,this.length),o=67108863^67108863>>>a<<a,d=i;if(n-=s,n=Math.max(0,n),d){for(var f=0;f<s;f++)d.words[f]=this.words[f];d.length=s}if(0===s);else if(this.length>s)for(this.length-=s,f=0;f<this.length;f++)this.words[f]=this.words[f+s];else this.words[0]=0,this.length=1;var c=0
;for(f=this.length-1;f>=0&&(0!==c||f>=n);f--){var h=0|this.words[f];this.words[f]=c<<26-a|h>>>a,c=h&o}return d&&0!==c&&(d.words[d.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(t,e,i){return r(0===this.negative),this.iushrn(t,e,i)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){
return this.clone().iushrn(t)},n.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26,n=1<<e;return!(this.length<=i)&&!!(this.words[i]&n)},n.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,i=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==e&&i++,this.length=Math.min(i,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this._strip()},
n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},n.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,
e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},
n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(t,e,i){var n,a,s=t.length+i;this._expand(s);var o=0;for(n=0;n<t.length;n++){a=(0|this.words[n+i])+o;var d=(0|t.words[n])*e;o=((a-=67108863&d)>>26)-(d/67108864|0),this.words[n+i]=67108863&a}
for(;n<this.length-i;n++)o=(a=(0|this.words[n+i])+o)>>26,this.words[n+i]=67108863&a;if(0===o)return this._strip();for(r(-1===o),o=0,n=0;n<this.length;n++)o=(a=-(0|this.words[n])+o)>>26,this.words[n]=67108863&a;return this.negative=1,this._strip()},n.prototype._wordDiv=function(t,e){var r=(this.length,t.length),i=this.clone(),a=t,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),i.iushln(r),s=0|a.words[a.length-1]);var o,d=i.length-a.length;if("mod"!==e){
(o=new n(null)).length=d+1,o.words=new Array(o.length);for(var f=0;f<o.length;f++)o.words[f]=0}var c=i.clone()._ishlnsubmul(a,1,d);0===c.negative&&(i=c,o&&(o.words[d]=1));for(var h=d-1;h>=0;h--){var u=67108864*(0|i.words[a.length+h])+(0|i.words[a.length+h-1]);for(u=Math.min(u/s|0,67108863),i._ishlnsubmul(a,u,h);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(a,1,h),i.isZero()||(i.negative^=1);o&&(o.words[h]=u)}return o&&o._strip(),i._strip(),"div"!==e&&0!==r&&i.iushrn(r),{div:o||null,mod:i}},
n.prototype.divmod=function(t,e,i){return r(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(a=o.div.neg()),"div"!==e&&(s=o.mod.neg(),i&&0!==s.negative&&s.iadd(t)),{div:a,mod:s}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),"mod"!==e&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(s=o.mod.neg(),i&&0!==s.negative&&s.isub(t)),{div:o.div,mod:s
}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modrn(t.words[0]))}:this._wordDiv(t,e);var a,s,o},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){
var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,i=t.ushrn(1),n=t.andln(1),a=r.cmp(i);return a<0||1===n&&0===a?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var i=(1<<26)%t,n=0,a=this.length-1;a>=0;a--)n=(i*n+(0|this.words[a]))%t;return e?-n:n},n.prototype.modn=function(t){return this.modrn(t)},n.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863)
;for(var i=0,n=this.length-1;n>=0;n--){var a=(0|this.words[n])+67108864*i;this.words[n]=a/t|0,i=a%t}return this._strip(),e?this.ineg():this},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var a=new n(1),s=new n(0),o=new n(0),d=new n(1),f=0;e.isEven()&&i.isEven();)e.iushrn(1),i.iushrn(1),++f;for(var c=i.clone(),h=e.clone();!e.isZero();){
for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(c),s.isub(h)),a.iushrn(1),s.iushrn(1);for(var p=0,b=1;0==(i.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(o.isOdd()||d.isOdd())&&(o.iadd(c),d.isub(h)),o.iushrn(1),d.iushrn(1);e.cmp(i)>=0?(e.isub(i),a.isub(o),s.isub(d)):(i.isub(e),o.isub(a),d.isub(s))}return{a:o,b:d,gcd:i.iushln(f)}},n.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,i=t.clone()
;e=0!==e.negative?e.umod(t):e.clone();for(var a,s=new n(1),o=new n(0),d=i.clone();e.cmpn(1)>0&&i.cmpn(1)>0;){for(var f=0,c=1;0==(e.words[0]&c)&&f<26;++f,c<<=1);if(f>0)for(e.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(d),s.iushrn(1);for(var h=0,u=1;0==(i.words[0]&u)&&h<26;++h,u<<=1);if(h>0)for(i.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(d),o.iushrn(1);e.cmp(i)>=0?(e.isub(i),s.isub(o)):(i.isub(e),o.isub(s))}return(a=0===e.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(t),a},n.prototype.gcd=function(t){
if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var i=0;e.isEven()&&r.isEven();i++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var n=e.cmp(r);if(n<0){var a=e;e=r,r=a}else if(0===n||0===r.cmpn(1))break;e.isub(r)}return r.iushln(i)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},
n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,i=(t-e)/26,n=1<<e;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var a=n,s=i;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},
n.prototype.cmpn=function(t){var e,i=t<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this._strip(),this.length>1)e=1;else{i&&(t=-t),r(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1
;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var i=0|this.words[r],n=0|t.words[r];if(i!==n){i<n?e=-1:i>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){
return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new x(t)},n.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),
this.red.convertFrom(this)},n.prototype._forceRed=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},n.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){
return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){
return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)
},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new n(e,16),
this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}
function x(t){if("string"==typeof t){var e=n._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}
v.prototype._tmp=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var i=e<this.n?-1:r.ucmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(_,v),
_.prototype.split=function(t,e){for(var r=4194303,i=Math.min(t.length,9),n=0;n<i;n++)e.words[n]=t.words[n];if(e.length=i,t.length<=9)return t.words[0]=0,void(t.length=1);var a=t.words[9];for(e.words[e.length++]=a&r,n=10;n<t.length;n++){var s=0|t.words[n];t.words[n-10]=(s&r)<<4|a>>>22,a=s}a>>>=22,t.words[n-10]=a,0===a&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var i=0|t.words[r]
;e+=977*i,t.words[r]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,v),i(M,v),i(A,v),A.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var i=19*(0|t.words[r])+e,n=67108863&i;i>>>=26,t.words[r]=n,e=i}return 0!==e&&(t.words[t.length++]=e),t},n._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new w;else if("p192"===t)e=new M;else{
if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return g[t]=e,e},x.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(f(t,t.umod(this.m)._forceRed(this)),t)},
x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e)
;var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){
var i=this.m.add(new n(1)).iushrn(2);return this.pow(t,i)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);r(!a.isZero());var o=new n(1).toRed(this),d=o.redNeg(),f=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);0!==this.pow(c,f).cmp(d);)c.redIAdd(d);for(var h=this.pow(c,a),u=this.pow(t,a.addn(1).iushrn(1)),l=this.pow(t,a),p=s;0!==l.cmp(o);){for(var b=l,m=0;0!==b.cmp(o);m++)b=b.redSqr();r(m<p);var y=this.pow(h,new n(1).iushln(p-m-1))
;u=u.redMul(y),h=y.redSqr(),l=l.redMul(h),p=m}return u},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new n(1).toRed(this),r[1]=t;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],t);var a=r[0],s=0,o=0,d=e.bitLength()%26;for(0===d&&(d=26),i=e.length-1;i>=0;i--){
for(var f=e.words[i],c=d-1;c>=0;c--){var h=f>>c&1;a!==r[0]&&(a=this.sqr(a)),0!==h||0!==s?(s<<=1,s|=h,(4===++o||0===i&&0===c)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}d=26}return a},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new S(t)},i(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){
var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=r.isub(i).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0)._forceRed(this)
;var r=t.mul(e),i=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(i).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,hr)}(Ig);var Eg=Object.create,zg=Object.defineProperty,Ng=Object.getOwnPropertyDescriptor,Rg=Object.getOwnPropertyNames,Pg=Object.getPrototypeOf,Tg=Object.prototype.hasOwnProperty,Bg=(t,e)=>{
for(var r in e)zg(t,r,{get:e[r],enumerable:!0})},Og=(t,e,r,i)=>{if(e&&"object"==typeof e||"function"==typeof e)for(let n of Rg(e))Tg.call(t,n)||n===r||zg(t,n,{get:()=>e[n],enumerable:!(i=Ng(e,n))||i.enumerable});return t},qg=(t,e,r)=>(r=null!=t?Eg(Pg(t)):{},Og(!e&&t&&t.__esModule?r:zg(r,"default",{value:t,enumerable:!0}),t)),Ug={};Bg(Ug,{Api:()=>G_,ApiInterfaces:()=>tw,JsSignatureProvider:()=>J_,JsonRpc:()=>Sv,Key:()=>P_,Numeric:()=>Zg,RpcError:()=>jg,RpcInterfaces:()=>kv,Serialize:()=>zv,
default:()=>ew,digestFromSerializedData:()=>H_,sha256:()=>U_});var Cg,Dg=(Cg=Ug,Og(zg({},"__esModule",{value:!0}),Cg)),jg=class extends Error{constructor(t){var e=(...t)=>{super(...t)};t&&t.error&&t.error.details&&t.error.details.length&&t.error.details[0].message?(e(t.error.details[0].message),this.details=t.error.details):t&&t.processed&&t.processed.except&&t.processed.except.message?(e(t.processed.except.message),
this.details=t.processed.except):t&&t.result&&t.result.except&&t.result.except.message?(e(t.result.except.message),this.details=t.result.except):e(t?t.message:t),Object.setPrototypeOf(this,jg.prototype),this.json=t}};async function Lg(){try{const{rows:t}=await this.get_table_rows({code:"eosio.proton",table:"kycproviders",scope:"eosio.proton"});this.validKycProviders=t.reduce(((t,e)=>(e.blisted||t.push(e.kyc_provider),t)),[])}catch(t){throw new Error("Unable to get KYC Providers.")}}
async function Fg(t){const e=["firstname","lastname","birthdate","address"],r=["selfie","frontofid","backofid"];if(0===t.length)throw new Error("Please enter an account.");0===this.validKycProviders.length&&await this.getValidKycProviders();let i=[];if(Array.isArray(t))i=t;else if("string"==typeof t)try{const{rows:e}=await this.get_table_rows({code:"eosio.proton",table:"usersinfo",scope:"eosio.proton",lower_bound:t,upper_bound:t});i=e}catch(t){throw new Error("Account not found!")}
return i.map((t=>{const i=t.kyc.reduce(((t,e)=>{if(this.validKycProviders.indexOf(e.kyc_provider)>=0){t=e.kyc_level.split(",").map((t=>t.split(":")[1])).concat(t)}return t}),[]);return t.isTier1KYCVerified=e.every((t=>i.includes(t))),t.isTier2KYCVerified=t.isTier1KYCVerified&&r.every((t=>i.includes(t))),t.isTier3KYCVerified=!1,t.isLightKYCVerified=t.isTier1KYCVerified,t}))}async function Vg(t){const{rows:e}=await this.get_table_rows({code:"webauthn",scope:"webauthn",table:"credentials",
lower_bound:t,upper_bound:t,key_type:"name",index_position:2});return e}var Kg=qg(Xp.exports),Zg={};Bg(Zg,{KeyType:()=>ov,base58ToBinary:()=>nv,base64ToBinary:()=>sv,binaryToBase58:()=>av,binaryToDecimal:()=>rv,convertLegacyPublicKey:()=>yv,convertLegacyPublicKeys:()=>gv,decimalToBinary:()=>tv,isNegative:()=>Xg,negate:()=>Qg,privateKeyDataSize:()=>fv,privateKeyToLegacyString:()=>_v,privateKeyToString:()=>wv,publicKeyDataSize:()=>dv,publicKeyToLegacyString:()=>bv,publicKeyToString:()=>mv,
signatureDataSize:()=>cv,signatureToString:()=>Av,signedBinaryToDecimal:()=>iv,signedDecimalToBinary:()=>ev,stringToPrivateKey:()=>vv,stringToPublicKey:()=>pv,stringToSignature:()=>Mv});var Wg=_r,$g=qg(tb).default.hash,Hg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Jg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gg=(()=>{const t=Array(256).fill(-1);for(let e=0;e<Hg.length;++e)t[Hg.charCodeAt(e)]=e;return t})(),Yg=(()=>{const t=Array(256).fill(-1)
;for(let e=0;e<Jg.length;++e)t[Jg.charCodeAt(e)]=e;return t["=".charCodeAt(0)]=0,t})(),Xg=t=>0!=(128&t[t.length-1]),Qg=t=>{let e=1;for(let r=0;r<t.length;++r){const i=(255&~t[r])+e;t[r]=i,e=i>>8}},tv=(t,e)=>{const r=new Uint8Array(t);for(let i=0;i<e.length;++i){const n=e.charCodeAt(i);if(n<"0".charCodeAt(0)||n>"9".charCodeAt(0))throw new Error("invalid number");let a=n-"0".charCodeAt(0);for(let e=0;e<t;++e){const t=10*r[e]+a;r[e]=t,a=t>>8}if(a)throw new Error("number is out of range")}return r
},ev=(t,e)=>{const r="-"===e[0];r&&(e=e.substr(1));const i=tv(t,e);if(r){if(Qg(i),!Xg(i))throw new Error("number is out of range")}else if(Xg(i))throw new Error("number is out of range");return i},rv=(t,e=1)=>{const r=Array(e).fill("0".charCodeAt(0));for(let e=t.length-1;e>=0;--e){let i=t[e];for(let t=0;t<r.length;++t){const e=(r[t]-"0".charCodeAt(0)<<8)+i;r[t]="0".charCodeAt(0)+e%10,i=e/10|0}for(;i;)r.push("0".charCodeAt(0)+i%10),i=i/10|0}return r.reverse(),String.fromCharCode(...r)
},iv=(t,e=1)=>{if(Xg(t)){const r=t.slice();return Qg(r),"-"+rv(r,e)}return rv(t,e)},nv=(t,e)=>{if(!t)return(t=>{const e=[];for(let r=0;r<t.length;++r){let i=Gg[t.charCodeAt(r)];if(i<0)throw new Error("invalid base-58 value");for(let t=0;t<e.length;++t){const r=58*e[t]+i;e[t]=255&r,i=r>>8}i&&e.push(i)}for(const r of t){if("1"!==r)break;e.push(0)}return e.reverse(),new Uint8Array(e)})(e);const r=new Uint8Array(t);for(let i=0;i<e.length;++i){let n=Gg[e.charCodeAt(i)]
;if(n<0)throw new Error("invalid base-58 value");for(let e=0;e<t;++e){const t=58*r[e]+n;r[e]=t,n=t>>8}if(n)throw new Error("base-58 value is out of range")}return r.reverse(),r},av=t=>{const e=[];for(const r of t){let t=r;for(let r=0;r<e.length;++r){const i=(Gg[e[r]]<<8)+t;e[r]=Hg.charCodeAt(i%58),t=i/58|0}for(;t;)e.push(Hg.charCodeAt(t%58)),t=t/58|0}for(const r of t){if(r)break;e.push("1".charCodeAt(0))}return e.reverse(),String.fromCharCode(...e)},sv=t=>{let e=t.length
;if(1==(3&e)&&"="===t[e-1]&&(e-=1),0!=(3&e))throw new Error("base-64 value is not padded correctly");const r=e>>2;let i=3*r;e>0&&"="===t[e-1]&&("="===t[e-2]?i-=2:i-=1);const n=new Uint8Array(i);for(let e=0;e<r;++e){const r=Yg[t.charCodeAt(4*e+0)],a=Yg[t.charCodeAt(4*e+1)],s=Yg[t.charCodeAt(4*e+2)],o=Yg[t.charCodeAt(4*e+3)];n[3*e+0]=r<<2|a>>4,3*e+1<i&&(n[3*e+1]=(15&a)<<4|s>>2),3*e+2<i&&(n[3*e+2]=(3&s)<<6|o)}return n},ov=(t=>(t[t.k1=0]="k1",t[t.r1=1]="r1",t[t.wa=2]="wa",t[t.rsa=100]="rsa",
t[t.eth=101]="eth",t))(ov||{}),dv=33,fv=32,cv=65,hv=(t,e)=>{const r=new Uint8Array(t.length+e.length);for(let e=0;e<t.length;++e)r[e]=t[e];for(let i=0;i<e.length;++i)r[t.length+i]=e.charCodeAt(i);return $g(r)},uv=(t,e,r,i)=>{const n=nv(r?r+4:0,t),a={type:e,data:new Uint8Array(n.buffer,0,n.length-4)},s=new Uint8Array(hv(a.data,i));if(s[0]!==n[n.length-4]||s[1]!==n[n.length-3]||s[2]!==n[n.length-2]||s[3]!==n[n.length-1])throw new Error("checksum doesn't match");return a},lv=(t,e,r)=>{
const i=new Uint8Array(hv(t.data,e)),n=new Uint8Array(t.data.length+4);for(let e=0;e<t.data.length;++e)n[e]=t.data[e];for(let e=0;e<4;++e)n[e+t.data.length]=i[e];return r+av(n)},pv=(t,e="EOS")=>{if("string"!=typeof t)throw new Error("expected string containing public key");if(t.substr(0,3)===e){const e=nv(dv+4,t.substr(3)),r={type:0,data:new Uint8Array(dv)};for(let t=0;t<dv;++t)r.data[t]=e[t];const i=new Uint8Array($g(r.data))
;if(i[0]!==e[dv]||i[1]!==e[34]||i[2]!==e[35]||i[3]!==e[36])throw new Error("checksum doesn't match");return r}if("PUB_K1_"===t.substr(0,7))return uv(t.substr(7),0,dv,"K1");if("PUB_R1_"===t.substr(0,7))return uv(t.substr(7),1,dv,"R1");if("PUB_WA_"===t.substr(0,7))return uv(t.substr(7),2,0,"WA");throw new Error("unrecognized public key format")},bv=(t,e="EOS")=>{if(0===t.type&&t.data.length===dv)return lv(t,"",e)
;throw 1===t.type||2===t.type?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},mv=t=>{if(0===t.type&&t.data.length===dv)return lv(t,"K1","PUB_K1_");if(1===t.type&&t.data.length===dv)return lv(t,"R1","PUB_R1_");if(2===t.type)return lv(t,"WA","PUB_WA_");throw new Error("unrecognized public key format")},yv=(t,e="EOS")=>t.substr(0,3)===e?mv(pv(t,e)):t,gv=(t,e="EOS")=>t.map((t=>yv(t,e))),vv=t=>{
if("string"!=typeof t)throw new Error("expected string containing private key");if("PVT_R1_"===t.substr(0,7))return uv(t.substr(7),1,fv,"R1");if("PVT_K1_"===t.substr(0,7))return uv(t.substr(7),0,fv,"K1");{const e=nv(fv+5,t),r={type:0,data:new Uint8Array(fv)};if(128!==e[0])throw new Error("unrecognized private key type");for(let t=0;t<fv;++t)r.data[t]=e[t+1];return r}},_v=t=>{if(0===t.type&&t.data.length===fv){const e=[];e.push(128),t.data.forEach((t=>e.push(t)));const r=new Uint8Array((0,
Wg.sha256)().update((0,Wg.sha256)().update(e).digest()).digest()),i=new Uint8Array(fv+5);for(let t=0;t<e.length;t++)i[t]=e[t];for(let t=0;t<4;t++)i[t+e.length]=r[t];return av(i)}throw 1===t.type||2===t.type?new Error("Key format not supported in legacy conversion"):new Error("unrecognized public key format")},wv=t=>{if(1===t.type)return lv(t,"R1","PVT_R1_");if(0===t.type)return lv(t,"K1","PVT_K1_");throw new Error("unrecognized private key format")},Mv=t=>{
if("string"!=typeof t)throw new Error("expected string containing signature");if("SIG_K1_"===t.substr(0,7))return uv(t.substr(7),0,cv,"K1");if("SIG_R1_"===t.substr(0,7))return uv(t.substr(7),1,cv,"R1");if("SIG_WA_"===t.substr(0,7))return uv(t.substr(7),2,0,"WA");throw new Error("unrecognized signature format")},Av=t=>{if(0===t.type)return lv(t,"K1","SIG_K1_");if(1===t.type)return lv(t,"R1","SIG_R1_");if(2===t.type)return lv(t,"WA","SIG_WA_");throw new Error("unrecognized signature format")}
;void 0!==hr&&hr.AbortController;var xv=t=>{let e="";for(const r of t)e+=("00"+r.toString(16)).slice(-2);return e};var Sv=class{constructor(t=[],e={}){this.validKycProviders=[],this.timeout=5e3,this.isLightKYCVerified=Fg,this.getValidKycProviders=Lg,this.fetchCredentials=Vg,e.timeout&&(this.timeout=e.timeout),t=Array.isArray(t)?t:[t],this.initialEndpoints=t.map((t=>t.replace(/\/$/,""))),this.endpoints=this.initialEndpoints.slice(0),this.currentEndpoint="",this.nextEndpoint()}nextEndpoint(){
if(this.endpoints.length&&this.currentEndpoint){const t=this.endpoints.shift();this.endpoints=this.endpoints.concat(t||[])}else this.endpoints=this.initialEndpoints;this.currentEndpoint=this.endpoints[0]}async fetch(t,e,r=0,i=!0){let n,a;try{if(n=await async function(t,e){const{timeout:r}=e,i=new AbortController,n=setTimeout((()=>i.abort()),r),a=await(0,Kg.default)(t,{...e||{},signal:i.signal});return clearTimeout(n),a}(this.currentEndpoint+t,{body:JSON.stringify(e),method:"POST",
timeout:this.timeout}),a=await n.json(),a.processed&&a.processed.except||a.result&&a.result.except||404===a.code)throw new jg(a)}catch(n){if(i&&console.log(n),this.endpoints.length>1&&(this.nextEndpoint(),r<this.initialEndpoints.length))return this.fetch(t,e,++r);throw n.isFetchError=!0,new jg(n)}if(!n||!n.ok)throw new jg(a);if(a&&a.head_block_time){const i=new Date(a.head_block_time+"Z").getTime();if(((new Date).getTime()-i)/1e3>30&&this.endpoints.length>1&&(this.nextEndpoint(),
r<this.initialEndpoints.length))return this.fetch(t,e,++r)}return a}async get(t){const e=await(0,Kg.default)(t);if(e.status>=400)throw new Error("Bad response from server "+e.status);return await e.json()}async abi_bin_to_json(t,e,r){return await this.fetch("/v1/chain/abi_bin_to_json",{code:t,action:e,binargs:r})}async abi_json_to_bin(t,e,r){return await this.fetch("/v1/chain/abi_json_to_bin",{code:t,action:e,args:r})}async get_abi(t){return await this.fetch("/v1/chain/get_abi",{account_name:t})
}async get_account(t){return await this.fetch("/v1/chain/get_account",{account_name:t})}async get_accounts_by_authorizers(t,e){return await this.fetch("/v1/chain/get_accounts_by_authorizers",{accounts:t,keys:e})}async get_activated_protocol_features({limit:t,search_by_block_num:e,reverse:r,lower_bound:i,upper_bound:n}={limit:50,search_by_block_num:!1,reverse:!1}){return await this.fetch("/v1/chain/get_activated_protocol_features",{lower_bound:i,upper_bound:n,limit:t,search_by_block_num:e,
reverse:r})}async get_block_header_state(t){return await this.fetch("/v1/chain/get_block_header_state",{block_num_or_id:t})}async get_block_info(t){return await this.fetch("/v1/chain/get_block_info",{block_num:t},0,!1)}async get_block(t){return await this.fetch("/v1/chain/get_block",{block_num_or_id:t})}async get_code(t){return await this.fetch("/v1/chain/get_code",{account_name:t,code_as_wasm:!0})}async get_code_hash(t){return await this.fetch("/v1/chain/get_code_hash",{account_name:t})}
async get_currency_balance(t,e,r){return await this.fetch("/v1/chain/get_currency_balance",{code:t,account:e,symbol:r})}async get_currency_stats(t,e){return await this.fetch("/v1/chain/get_currency_stats",{code:t,symbol:e})}async get_info(){return await this.fetch("/v1/chain/get_info",{})}async get_producer_schedule(){return await this.fetch("/v1/chain/get_producer_schedule",{})}async get_producers(t=!0,e="",r=50){return await this.fetch("/v1/chain/get_producers",{json:t,lower_bound:e,limit:r})}
async get_raw_code_and_abi(t){return await this.fetch("/v1/chain/get_raw_code_and_abi",{account_name:t})}async getRawAbi(t){const e=await this.get_raw_abi(t),r=sv(e.abi);return{accountName:e.account_name,abi:r}}async get_raw_abi(t){return await this.fetch("/v1/chain/get_raw_abi",{account_name:t})}async get_scheduled_transactions(t=!0,e="",r=50){return await this.fetch("/v1/chain/get_scheduled_transactions",{json:t,lower_bound:e,limit:r})}
async get_table_rows({json:t=!0,code:e,scope:r,table:i,lower_bound:n="",upper_bound:a="",index_position:s=1,key_type:o="",limit:d=10,reverse:f=!1,show_payer:c=!1}){return await this.fetch("/v1/chain/get_table_rows",{json:t,code:e,scope:r,table:i,lower_bound:n,upper_bound:a,index_position:s,key_type:o,limit:d,reverse:f,show_payer:c})}
async get_kv_table_rows({json:t=!0,code:e,table:r,index_name:i,encode_type:n="bytes",index_value:a,lower_bound:s,upper_bound:o,limit:d=10,reverse:f=!1,show_payer:c=!1}){return await this.fetch("/v1/chain/get_kv_table_rows",{json:t,code:e,table:r,index_name:i,encode_type:n,index_value:a,lower_bound:s,upper_bound:o,limit:d,reverse:f,show_payer:c})}async get_table_by_scope({code:t,table:e,lower_bound:r="",upper_bound:i="",limit:n=10}){return await this.fetch("/v1/chain/get_table_by_scope",{code:t,
table:e,lower_bound:r,upper_bound:i,limit:n})}async getRequiredKeys(t){const e=await this.fetch("/v1/chain/get_required_keys",{transaction:t.transaction,available_keys:t.availableKeys});return gv(e.required_keys)}async push_transaction({signatures:t,compression:e=0,serializedTransaction:r,serializedContextFreeData:i}){try{return await this.fetch("/v1/chain/push_transaction",{signatures:t,compression:e,packed_context_free_data:xv(i||new Uint8Array(0)),packed_trx:xv(r)})}catch(t){
if(t&&t.json&&t.json.error){"expired_tx_exception"===t.json.error.name&&(t.json.error.message="Transaction Expired: Try Again",this.nextEndpoint())}throw t}}async push_ro_transaction({signatures:t,compression:e=0,serializedTransaction:r},i=!1){return await this.fetch("/v1/chain/push_ro_transaction",{transaction:{signatures:t,compression:e,packed_context_free_data:xv(new Uint8Array(0)),packed_trx:xv(r)},return_failure_traces:i})}async push_transactions(t){
const e=t.map((({signatures:t,compression:e=0,serializedTransaction:r,serializedContextFreeData:i})=>({signatures:t,compression:e,packed_context_free_data:xv(i||new Uint8Array(0)),packed_trx:xv(r)})));return await this.fetch("/v1/chain/push_transactions",e)}async send_transaction({signatures:t,compression:e=0,serializedTransaction:r,serializedContextFreeData:i}){return await this.fetch("/v1/chain/send_transaction",{signatures:t,compression:e,packed_context_free_data:xv(i||new Uint8Array(0)),
packed_trx:xv(r)})}async db_size_get(){return await this.fetch("/v1/db_size/get",{})}async trace_get_block(t){return await this.fetch("/v1/trace_api/get_block",{block_num:t})}async history_get_actions(t,e=null,r=null){return await this.fetch("/v1/history/get_actions",{account_name:t,pos:e,offset:r})}async history_get_transaction(t,e=null){return await this.fetch("/v1/history/get_transaction",{id:t,block_num_hint:e})}async history_get_key_accounts(t){
return await this.fetch("/v1/history/get_key_accounts",{public_key:t})}async history_get_controlled_accounts(t){return await this.fetch("/v1/history/get_controlled_accounts",{controlling_account:t})}async get_nfts_fio_address(t){return await this.fetch("/v1/chain/get_nfts_fio_address",{fio_address:t})}},kv={},Iv=eb,Ev=qg(vg.exports),zv={};Bg(zv,{SerialBuffer:()=>Rv,SerializerState:()=>Nv,arrayToHex:()=>Fv,b64tob64u:()=>N_,blockTimestampToDate:()=>Dv,createAbiTypes:()=>f_,
createBaseResolvedTransaction:()=>R_,createInitialTypes:()=>d_,createTransactionExtensionTypes:()=>c_,createTransactionTypes:()=>h_,dateToBlockTimestamp:()=>Cv,dateToTimePoint:()=>Bv,dateToTimePointSec:()=>qv,deserializeAction:()=>g_,deserializeActionData:()=>y_,deserializeAnyArray:()=>S_,deserializeAnyObject:()=>A_,deserializeAnyvar:()=>__,deserializeAnyvarShort:()=>w_,getType:()=>u_,getTypesFromAbi:()=>l_,hexToUint8Array:()=>Vv,serializeAction:()=>m_,serializeActionData:()=>b_,
serializeAnyArray:()=>x_,serializeAnyObject:()=>M_,serializeAnyvar:()=>v_,serializeQuery:()=>z_,stringToSymbol:()=>jv,supportedAbiVersion:()=>Pv,symbolToString:()=>Lv,timePointSecToDate:()=>Uv,timePointToDate:()=>Ov,transactionHeader:()=>p_});var Nv=class{constructor(t={}){this.skippedBinaryExtension=!1,this.options=t}},Rv=class{constructor({array:t,textEncoder:e,textDecoder:r}={}){this.readPos=0,this.array=t||new Uint8Array(1024),this.length=t?t.length:0,this.textEncoder=e||new TextEncoder,
this.textDecoder=r||new TextDecoder("utf-8")}reserve(t){if(this.length+t<=this.array.length)return;let e=this.array.length;for(;this.length+t>e;)e=Math.ceil(1.5*e);const r=new Uint8Array(e);r.set(this.array),this.array=r}haveReadData(){return this.readPos<this.length}restartRead(){this.readPos=0}asUint8Array(){return new Uint8Array(this.array.buffer,this.array.byteOffset,this.length)}pushArray(t){this.reserve(t.length),this.array.set(t,this.length),this.length+=t.length}push(...t){
this.pushArray(t)}get(){if(this.readPos<this.length)return this.array[this.readPos++];throw new Error("Read past end of buffer")}pushUint8ArrayChecked(t,e){if(t.length!==e)throw new Error("Binary data has incorrect size");this.pushArray(t)}getUint8Array(t){if(this.readPos+t>this.length)throw new Error("Read past end of buffer");const e=new Uint8Array(this.array.buffer,this.array.byteOffset+this.readPos,t);return this.readPos+=t,e}skip(t){
if(this.readPos+t>this.length)throw new Error("Read past end of buffer");this.readPos+=t}pushUint16(t){this.push(t>>0&255,t>>8&255)}getUint16(){let t=0;return t|=this.get()<<0,t|=this.get()<<8,t}pushUint32(t){this.push(t>>0&255,t>>8&255,t>>16&255,t>>24&255)}getUint32(){let t=0;return t|=this.get()<<0,t|=this.get()<<8,t|=this.get()<<16,t|=this.get()<<24,t>>>0}pushNumberAsUint64(t){this.pushUint32(t>>>0),this.pushUint32(Math.floor(t/4294967296)>>>0)}getUint64AsNumber(){const t=this.getUint32()
;return 4294967296*(this.getUint32()>>>0)+(t>>>0)}pushVaruint32(t){for(;;){if(!(t>>>7)){this.push(t);break}this.push(128|127&t),t>>>=7}}getVaruint32(){let t=0,e=0;for(;;){const r=this.get();if(t|=(127&r)<<e,e+=7,!(128&r))break}return t>>>0}pushVarint32(t){this.pushVaruint32(t<<1^t>>31)}getVarint32(){const t=this.getVaruint32();return 1&t?~t>>1|2147483648:t>>>1}pushFloat32(t){this.pushArray(new Uint8Array(new Float32Array([t]).buffer))}getFloat32(){
return new Float32Array(this.getUint8Array(4).slice().buffer)[0]}pushFloat64(t){this.pushArray(new Uint8Array(new Float64Array([t]).buffer))}getFloat64(){return new Float64Array(this.getUint8Array(8).slice().buffer)[0]}pushName(t){if("string"!=typeof t)throw new Error("Expected string containing name")
;if(!new RegExp(/^[.1-5a-z]{0,12}[.1-5a-j]?$/).test(t))throw new Error("Name should be less than 13 characters, or less than 14 if last character is between 1-5 or a-j, and only contain the following symbols .12345abcdefghijklmnopqrstuvwxyz");const e=t=>t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)?t-"a".charCodeAt(0)+6:t>="1".charCodeAt(0)&&t<="5".charCodeAt(0)?t-"1".charCodeAt(0)+1:0,r=new Uint8Array(8);let i=63;for(let n=0;n<t.length;++n){let a=e(t.charCodeAt(n));i<5&&(a<<=1)
;for(let t=4;t>=0;--t)i>=0&&(r[Math.floor(i/8)]|=(a>>t&1)<<i%8,--i)}this.pushArray(r)}getName(){const t=this.getUint8Array(8);let e="";for(let r=63;r>=0;){let i=0;for(let e=0;e<5;++e)r>=0&&(i=i<<1|t[Math.floor(r/8)]>>r%8&1,--r);e+=i>=6?String.fromCharCode(i+"a".charCodeAt(0)-6):i>=1?String.fromCharCode(i+"1".charCodeAt(0)-1):"."}for(;e.endsWith(".");)e=e.substr(0,e.length-1);return e}pushBytes(t){this.pushVaruint32(t.length),this.pushArray(t)}getBytes(){
return this.getUint8Array(this.getVaruint32())}pushString(t){this.pushBytes(this.textEncoder.encode(t))}getString(){return this.textDecoder.decode(this.getBytes())}pushSymbolCode(t){if("string"!=typeof t)throw new Error("Expected string containing symbol_code");const e=[];for(e.push(...this.textEncoder.encode(t));e.length<8;)e.push(0);this.pushArray(e.slice(0,8))}getSymbolCode(){const t=this.getUint8Array(8);let e;for(e=0;e<t.length&&t[e];++e);
return this.textDecoder.decode(new Uint8Array(t.buffer,t.byteOffset,e))}pushSymbol({name:t,precision:e}){if(!/^[A-Z]{1,7}$/.test(t))throw new Error("Expected symbol to be A-Z and between one and seven characters");const r=[255&e];for(r.push(...this.textEncoder.encode(t));r.length<8;)r.push(0);this.pushArray(r.slice(0,8))}getSymbol(){const t=this.get(),e=this.getUint8Array(7);let r;for(r=0;r<e.length&&e[r];++r);return{name:this.textDecoder.decode(new Uint8Array(e.buffer,e.byteOffset,r)),
precision:t}}pushAsset(t){if("string"!=typeof t)throw new Error("Expected string containing asset");let e=0,r="",i=0;"-"===(t=t.trim())[e]&&(r+="-",++e);let n=!1;for(;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)n=!0,r+=t[e],++e;if(!n)throw new Error("Asset must begin with a number");if("."===t[e])for(++e;e<t.length&&t.charCodeAt(e)>="0".charCodeAt(0)&&t.charCodeAt(e)<="9".charCodeAt(0);)r+=t[e],++i,++e;const a=t.substr(e).trim();this.pushArray(ev(8,r)),
this.pushSymbol({name:a,precision:i})}getAsset(){const t=this.getUint8Array(8),{name:e,precision:r}=this.getSymbol();let i=iv(t,r+1);return r&&(i=i.substr(0,i.length-r)+"."+i.substr(i.length-r)),i+" "+e}pushPublicKey(t){const e=pv(t);this.push(e.type),this.pushArray(e.data)}getPublicKey(){const t=this.get();let e;if(2===t){const t=this.readPos;this.skip(34),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+t,this.readPos-t)}else e=this.getUint8Array(dv)
;return mv({type:t,data:e})}pushPrivateKey(t){const e=vv(t);this.push(e.type),this.pushArray(e.data)}getPrivateKey(){const t=this.get(),e=this.getUint8Array(fv);return wv({type:t,data:e})}pushSignature(t){const e=Mv(t);this.push(e.type),this.pushArray(e.data)}getSignature(){const t=this.get();let e;if(2===t){const t=this.readPos;this.skip(65),this.skip(this.getVaruint32()),this.skip(this.getVaruint32()),e=new Uint8Array(this.array.buffer,this.array.byteOffset+t,this.readPos-t)
}else e=this.getUint8Array(cv);return Av({type:t,data:e})}},Pv=t=>t.startsWith("eosio::abi/1."),Tv=t=>{const e=Date.parse(t);if(Number.isNaN(e))throw new Error("Invalid time format");return e},Bv=t=>Math.round(1e3*Tv(t+"Z")),Ov=t=>{const e=new Date(t/1e3).toISOString();return e.substr(0,e.length-1)},qv=t=>Math.round(Tv(t+"Z")/1e3),Uv=t=>{const e=new Date(1e3*t).toISOString();return e.substr(0,e.length-1)},Cv=t=>Math.round((Tv(t+"Z")-9466848e5)/500),Dv=t=>{
const e=new Date(500*t+9466848e5).toISOString();return e.substr(0,e.length-1)},jv=t=>{if("string"!=typeof t)throw new Error("Expected string containing symbol");const e=t.match(/^([0-9]+),([A-Z]+)$/);if(!e)throw new Error("Invalid symbol");return{name:e[2],precision:+e[1]}},Lv=({name:t,precision:e})=>e+","+t,Fv=t=>{let e="";for(const r of t)e+=("00"+r.toString(16)).slice(-2);return e.toUpperCase()},Vv=t=>{if("string"!=typeof t)throw new Error("Expected string containing hex digits")
;if(t.length%2)throw new Error("Odd number of hex digits");const e=t.length/2,r=new Uint8Array(e);for(let i=0;i<e;++i){const e=parseInt(t.substr(2*i,2),16);if(Number.isNaN(e))throw new Error("Expected hex string");r[i]=e}return r};function Kv(t,e){throw new Error("Don't know how to serialize "+this.name)}function Zv(t){throw new Error("Don't know how to deserialize "+this.name)}function Wv(t,e,r=new Nv,i=!0){
if("object"!=typeof e)throw new Error("expected object containing data: "+JSON.stringify(e));this.base&&this.base.serialize(t,e,r,i);for(const n of this.fields)if(n.name in e){if(r.skippedBinaryExtension)throw new Error("unexpected "+this.name+"."+n.name);n.type.serialize(t,e[n.name],r,i&&n===this.fields[this.fields.length-1])}else{if(!i||!n.type.extensionOf)throw new Error("missing "+this.name+"."+n.name+" (type="+n.type.name+")");r.skippedBinaryExtension=!0}}function $v(t,e=new Nv,r=!0){let i
;i=this.base?this.base.deserialize(t,e,r):{};for(const n of this.fields)r&&n.type.extensionOf&&!t.haveReadData()?e.skippedBinaryExtension=!0:i[n.name]=n.type.deserialize(t,e,r);return i}function Hv(t,e,r,i){if(!Array.isArray(e)||2!==e.length||"string"!=typeof e[0])throw new Error('expected variant: ["type", value]');const n=this.fields.findIndex((t=>t.name===e[0]));if(n<0)throw new Error(`type "${e[0]}" is not valid for variant`);t.pushVaruint32(n),this.fields[n].type.serialize(t,e[1],r,i)}
function Jv(t,e,r){const i=t.getVaruint32();if(i>=this.fields.length)throw new Error(`type index ${i} is not valid for variant`);const n=this.fields[i];return[n.name,n.type.deserialize(t,e,r)]}function Gv(t,e,r,i){t.pushVaruint32(e.length);for(const i of e)this.arrayOf.serialize(t,i,r,!1)}function Yv(t,e,r){const i=t.getVaruint32(),n=[];for(let r=0;r<i;++r)n.push(this.arrayOf.deserialize(t,e,!1));return n}function Xv(t,e,r,i){null==e?t.push(0):(t.push(1),this.optionalOf.serialize(t,e,r,i))}
function Qv(t,e,r){return t.get()?this.optionalOf.deserialize(t,e,r):null}function t_(t,e,r,i){this.extensionOf.serialize(t,e,r,i)}function e_(t,e,r){return this.extensionOf.deserialize(t,e,r)}function r_(t,e,r,i){const n=Object.entries(e);t.pushVaruint32(n.length);for(const[e,a]of n){const n=this.fields[0].type,s=this.fields[1].type;n.serialize(t,e,r,i),s.serialize(t,a,r,i)}}function i_(t,e,r){const i=t.getVaruint32(),n={};for(let a=0;a<i;++a){const i=this.fields[0].type,a=this.fields[1].type
;n[i.deserialize(t,e,r)]=a.deserialize(t,e,r)}return n}function n_(t,e,r,i){t.pushVaruint32(e.length),e.forEach((e=>{this.fields[0].type.serialize(t,e[0],r,i),this.fields[1].type.serialize(t,e[1],r,i)}))}function a_(t,e,r){const i=[],n=t.getVaruint32();for(let a=0;a<n;++a)i.push(this.fields[0].type.deserialize(t,e,r)),i.push(this.fields[1].type.deserialize(t,e,r));return i}var s_=t=>({name:"<missing name>",aliasOfName:"",arrayOf:void 0,optionalOf:void 0,extensionOf:void 0,baseName:"",
base:void 0,fields:[],serialize:Kv,deserialize:Zv,...t}),o_=(t,e)=>{if(Number.isNaN(+t)||Number.isNaN(+e)||"number"!=typeof t&&"string"!=typeof t)throw new Error("Expected number");if(+t!=+e)throw new Error("Number is out of range");return+t},d_=()=>{const t=new Map(Object.entries({bool:s_({name:"bool",serialize:(t,e)=>{if("boolean"!=typeof e&&("number"!=typeof e||1!==e&&0!==e))throw new Error("Expected boolean or number equal to 1 or 0");t.push(e?1:0)},deserialize:t=>!!t.get()}),uint8:s_({
name:"uint8",serialize:(t,e)=>{t.push(o_(e,255&e))},deserialize:t=>t.get()}),int8:s_({name:"int8",serialize:(t,e)=>{t.push(o_(e,e<<24>>24))},deserialize:t=>t.get()<<24>>24}),uint16:s_({name:"uint16",serialize:(t,e)=>{t.pushUint16(o_(e,65535&e))},deserialize:t=>t.getUint16()}),int16:s_({name:"int16",serialize:(t,e)=>{t.pushUint16(o_(e,e<<16>>16))},deserialize:t=>t.getUint16()<<16>>16}),uint32:s_({name:"uint32",serialize:(t,e)=>{t.pushUint32(o_(e,e>>>0))},deserialize:t=>t.getUint32()}),uint64:s_({
name:"uint64",serialize:(t,e)=>{t.pushArray(tv(8,""+e))},deserialize:t=>rv(t.getUint8Array(8))}),int64:s_({name:"int64",serialize:(t,e)=>{t.pushArray(ev(8,""+e))},deserialize:t=>iv(t.getUint8Array(8))}),int32:s_({name:"int32",serialize:(t,e)=>{t.pushUint32(o_(e,0|e))},deserialize:t=>0|t.getUint32()}),varuint32:s_({name:"varuint32",serialize:(t,e)=>{t.pushVaruint32(o_(e,e>>>0))},deserialize:t=>t.getVaruint32()}),varint32:s_({name:"varint32",serialize:(t,e)=>{t.pushVarint32(o_(e,0|e))},
deserialize:t=>t.getVarint32()}),uint128:s_({name:"uint128",serialize:(t,e)=>{t.pushArray(tv(16,""+e))},deserialize:t=>rv(t.getUint8Array(16))}),int128:s_({name:"int128",serialize:(t,e)=>{t.pushArray(ev(16,""+e))},deserialize:t=>iv(t.getUint8Array(16))}),float32:s_({name:"float32",serialize:(t,e)=>{t.pushFloat32(e)},deserialize:t=>t.getFloat32()}),float64:s_({name:"float64",serialize:(t,e)=>{t.pushFloat64(e)},deserialize:t=>t.getFloat64()}),float128:s_({name:"float128",serialize:(t,e)=>{
t.pushUint8ArrayChecked(Vv(e),16)},deserialize:t=>Fv(t.getUint8Array(16))}),bytes:s_({name:"bytes",serialize:(t,e)=>{e instanceof Uint8Array||Array.isArray(e)?t.pushBytes(e):t.pushBytes(Vv(e))},deserialize:(t,e)=>e&&e.options.bytesAsUint8Array?t.getBytes():Fv(t.getBytes())}),string:s_({name:"string",serialize:(t,e)=>{t.pushString(e)},deserialize:t=>t.getString()}),name:s_({name:"name",serialize:(t,e)=>{t.pushName(e)},deserialize:t=>t.getName()}),time_point:s_({name:"time_point",
serialize:(t,e)=>{t.pushNumberAsUint64(Bv(e))},deserialize:t=>Ov(t.getUint64AsNumber())}),time_point_sec:s_({name:"time_point_sec",serialize:(t,e)=>{t.pushUint32(qv(e))},deserialize:t=>Uv(t.getUint32())}),block_timestamp_type:s_({name:"block_timestamp_type",serialize:(t,e)=>{t.pushUint32(Cv(e))},deserialize:t=>Dv(t.getUint32())}),symbol_code:s_({name:"symbol_code",serialize:(t,e)=>{t.pushSymbolCode(e)},deserialize:t=>t.getSymbolCode()}),symbol:s_({name:"symbol",serialize:(t,e)=>{
t.pushSymbol(jv(e))},deserialize:t=>Lv(t.getSymbol())}),asset:s_({name:"asset",serialize:(t,e)=>{t.pushAsset(e)},deserialize:t=>t.getAsset()}),checksum160:s_({name:"checksum160",serialize:(t,e)=>{t.pushUint8ArrayChecked(Vv(e),20)},deserialize:t=>Fv(t.getUint8Array(20))}),checksum256:s_({name:"checksum256",serialize:(t,e)=>{t.pushUint8ArrayChecked(Vv(e),32)},deserialize:t=>Fv(t.getUint8Array(32))}),checksum512:s_({name:"checksum512",serialize:(t,e)=>{t.pushUint8ArrayChecked(Vv(e),64)},
deserialize:t=>Fv(t.getUint8Array(64))}),public_key:s_({name:"public_key",serialize:(t,e)=>{t.pushPublicKey(e)},deserialize:t=>t.getPublicKey()}),private_key:s_({name:"private_key",serialize:(t,e)=>{t.pushPrivateKey(e)},deserialize:t=>t.getPrivateKey()}),signature:s_({name:"signature",serialize:(t,e)=>{t.pushSignature(e)},deserialize:t=>t.getSignature()})}));return t.set("extended_asset",s_({name:"extended_asset",baseName:"",fields:[{name:"quantity",typeName:"asset",type:t.get("asset")},{
name:"contract",typeName:"name",type:t.get("name")}],serialize:Wv,deserialize:$v})),t},f_=()=>{const t=d_();return t.set("extensions_entry",s_({name:"extensions_entry",baseName:"",fields:[{name:"tag",typeName:"uint16",type:void 0},{name:"value",typeName:"bytes",type:void 0}],serialize:Wv,deserialize:$v})),t.set("type_def",s_({name:"type_def",baseName:"",fields:[{name:"new_type_name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:Wv,deserialize:$v})),
t.set("field_def",s_({name:"field_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:Wv,deserialize:$v})),t.set("struct_def",s_({name:"struct_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"base",typeName:"string",type:void 0},{name:"fields",typeName:"field_def[]",type:void 0}],serialize:Wv,deserialize:$v})),t.set("action_def",s_({name:"action_def",baseName:"",fields:[{name:"name",
typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0},{name:"ricardian_contract",typeName:"string",type:void 0}],serialize:Wv,deserialize:$v})),t.set("table_def",s_({name:"table_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"index_type",typeName:"string",type:void 0},{name:"key_names",typeName:"string[]",type:void 0},{name:"key_types",typeName:"string[]",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:Wv,deserialize:$v})),
t.set("clause_pair",s_({name:"clause_pair",baseName:"",fields:[{name:"id",typeName:"string",type:void 0},{name:"body",typeName:"string",type:void 0}],serialize:Wv,deserialize:$v})),t.set("error_message",s_({name:"error_message",baseName:"",fields:[{name:"error_code",typeName:"uint64",type:void 0},{name:"error_msg",typeName:"string",type:void 0}],serialize:Wv,deserialize:$v})),t.set("variant_def",s_({name:"variant_def",baseName:"",fields:[{name:"name",typeName:"string",type:void 0},{name:"types",
typeName:"string[]",type:void 0}],serialize:Wv,deserialize:$v})),t.set("action_result",s_({name:"action_result",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"result_type",typeName:"string",type:void 0}],serialize:Wv,deserialize:$v})),t.set("primary_key_index_def",s_({name:"primary_key_index_def",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"type",typeName:"string",type:void 0}],serialize:Wv,deserialize:$v})),t.set("secondary_index_def",s_({
name:"secondary_index_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0}],serialize:Wv,deserialize:$v})),t.set("secondary_indices",s_({name:"secondary_indices",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"secondary_index_def",typeName:"secondary_index_def",type:void 0}],serialize:r_,deserialize:i_})),t.set("kv_table_entry_def",s_({name:"kv_table_entry_def",baseName:"",fields:[{name:"type",typeName:"string",type:void 0},{name:"primary_index",
typeName:"primary_key_index_def",type:void 0},{name:"secondary_indices",typeName:"secondary_indices",type:void 0}],serialize:Wv,deserialize:$v})),t.set("kv_table",s_({name:"kv_table",baseName:"",fields:[{name:"name",typeName:"name",type:void 0},{name:"kv_table_entry_def",typeName:"kv_table_entry_def",type:void 0}],serialize:r_,deserialize:i_})),t.set("abi_def",s_({name:"abi_def",baseName:"",fields:[{name:"version",typeName:"string",type:void 0},{name:"types",typeName:"type_def[]",type:void 0},{
name:"structs",typeName:"struct_def[]",type:void 0},{name:"actions",typeName:"action_def[]",type:void 0},{name:"tables",typeName:"table_def[]",type:void 0},{name:"ricardian_clauses",typeName:"clause_pair[]",type:void 0},{name:"error_messages",typeName:"error_message[]",type:void 0},{name:"abi_extensions",typeName:"extensions_entry[]",type:void 0},{name:"variants",typeName:"variant_def[]$",type:void 0},{name:"action_results",typeName:"action_result[]$",type:void 0},{name:"kv_tables",
typeName:"kv_table$",type:void 0}],serialize:Wv,deserialize:$v})),t},c_=()=>{const t=d_();return t.set("resource_payer",s_({name:"resource_payer",baseName:"",fields:[{name:"payer",typeName:"name",type:void 0},{name:"max_net_bytes",typeName:"uint64",type:void 0},{name:"max_cpu_us",typeName:"uint64",type:void 0},{name:"max_memory_bytes",typeName:"uint64",type:void 0}],serialize:Wv,deserialize:$v})),t},h_=()=>{const t=d_();return t.set("permission_level",s_({name:"permission_level",baseName:"",
fields:[{name:"actor",typeName:"name",type:void 0},{name:"permission",typeName:"name",type:void 0}],serialize:Wv,deserialize:$v})),t.set("action",s_({name:"action",baseName:"",fields:[{name:"account",typeName:"name",type:void 0},{name:"name",typeName:"name",type:void 0},{name:"authorization",typeName:"permission_level[]",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:Wv,deserialize:$v})),t.set("extension",s_({name:"extension",baseName:"",fields:[{name:"type",
typeName:"uint16",type:void 0},{name:"data",typeName:"bytes",type:void 0}],serialize:n_,deserialize:a_})),t.set("transaction_header",s_({name:"transaction_header",baseName:"",fields:[{name:"expiration",typeName:"time_point_sec",type:void 0},{name:"ref_block_num",typeName:"uint16",type:void 0},{name:"ref_block_prefix",typeName:"uint32",type:void 0},{name:"max_net_usage_words",typeName:"varuint32",type:void 0},{name:"max_cpu_usage_ms",typeName:"uint8",type:void 0},{name:"delay_sec",
typeName:"varuint32",type:void 0}],serialize:Wv,deserialize:$v})),t.set("transaction",s_({name:"transaction",baseName:"transaction_header",fields:[{name:"context_free_actions",typeName:"action[]",type:void 0},{name:"actions",typeName:"action[]",type:void 0},{name:"transaction_extensions",typeName:"extension",type:void 0}],serialize:Wv,deserialize:$v})),t},u_=(t,e)=>{const r=t.get(e);if(r&&r.aliasOfName)return u_(t,r.aliasOfName);if(r)return r;if(e.endsWith("[]"))return s_({name:e,
arrayOf:u_(t,e.substr(0,e.length-2)),serialize:Gv,deserialize:Yv});if(e.endsWith("?"))return s_({name:e,optionalOf:u_(t,e.substr(0,e.length-1)),serialize:Xv,deserialize:Qv});if(e.endsWith("$"))return s_({name:e,extensionOf:u_(t,e.substr(0,e.length-1)),serialize:t_,deserialize:e_});throw new Error("Unknown type: "+e)},l_=(t,e)=>{const r=new Map(t);if(e&&e.types)for(const{new_type_name:t,type:i}of e.types)r.set(t,s_({name:t,aliasOfName:i}))
;if(e&&e.structs)for(const{name:t,base:i,fields:n}of e.structs)r.set(t,s_({name:t,baseName:i,fields:n.map((({name:t,type:e})=>({name:t,typeName:e,type:void 0}))),serialize:Wv,deserialize:$v}));if(e&&e.variants)for(const{name:t,types:i}of e.variants)r.set(t,s_({name:t,fields:i.map((t=>({name:t,typeName:t,type:void 0}))),serialize:Hv,deserialize:Jv}));for(const[t,e]of r){e.baseName&&(e.base=u_(r,e.baseName));for(const t of e.fields)t.type=u_(r,t.typeName)}return r},p_=(t,e)=>{
const r=t.header?t.header.timestamp:t.timestamp,i=parseInt((n=t.id.substr(16,8)).substr(6,2)+n.substr(4,2)+n.substr(2,2)+n.substr(0,2),16);var n;return{expiration:Uv(qv(r)+e),ref_block_num:65535&t.block_num,ref_block_prefix:i}},b_=(t,e,r,i)=>{const n=t.actions.get(r);if(!n)throw new Error(`Unknown action ${r} in contract ${e}`);const a=new Rv;return n.serialize(a,i),Fv(a.asUint8Array())},m_=(t,e,r,i,n)=>({account:e,name:r,authorization:i,data:b_(t,e,r,n)}),y_=(t,e,r,i)=>{const n=t.actions.get(r)
;if("string"==typeof i&&(i=Vv(i)),!n)throw new Error(`Unknown action ${r} in contract ${e}`);const a=new Rv;return a.pushArray(i),n.deserialize(a)},g_=(t,e,r,i,n)=>({account:e,name:r,authorization:i,data:y_(t,e,r,n)}),v_=(t,e)=>{let r,i
;null===e?[r,i]=[I_.null_t,e]:"string"==typeof e?[r,i]=[I_.string,e]:"number"==typeof e?[r,i]=[I_.int32,e]:e instanceof Uint8Array?[r,i]=[I_.bytes,e]:Array.isArray(e)?[r,i]=[I_.any_array,e]:2===Object.keys(e).length&&e.hasOwnProperty("type")&&e.hasOwnProperty("value")?[r,i]=[I_[e.type],e.value]:[r,i]=[I_.any_object,e],t.pushVaruint32(r.index),r.type.serialize(t,i)},__=(t,e)=>{const r=t.getVaruint32();if(r>=E_.length)throw new Error("Tried to deserialize unknown anyvar type")
;const i=E_[r],n=i.type.deserialize(t,e);return e&&e.options.useShortForm||i.useShortForm?n:{type:i.type.name,value:n}},w_=t=>__(t,new Nv({useShortForm:!0})),M_=(t,e)=>{const r=Object.entries(e);t.pushVaruint32(r.length);for(const[e,i]of r)t.pushString(e),v_(t,i)},A_=(t,e)=>{const r=t.getVaruint32(),i={};for(let n=0;n<r;++n){let r=t.getString();if(r in i){let t=1;for(;r+"_"+t in i;)++t;r=r+"_"+t}i[r]=__(t,e)}return i},x_=(t,e)=>{t.pushVaruint32(e.length);for(const r of e)v_(t,r)},S_=(t,e)=>{
const r=t.getVaruint32(),i=[];for(let n=0;n<r;++n)i.push(__(t,e));return i},k_=(()=>{const t=d_();return t.set("null_t",s_({name:"null_t",serialize:(t,e)=>{},deserialize:(t,e)=>{}})),t.set("any_object",s_({name:"any_object",serialize:M_,deserialize:A_})),t.set("any_array",s_({name:"any_array",serialize:x_,deserialize:S_})),t})(),I_={null_t:{index:0,useShortForm:!0,type:k_.get("null_t")},int64:{index:1,useShortForm:!1,type:k_.get("int64")},uint64:{index:2,useShortForm:!1,type:k_.get("uint64")},
int32:{index:3,useShortForm:!0,type:k_.get("int32")},uint32:{index:4,useShortForm:!1,type:k_.get("uint32")},int16:{index:5,useShortForm:!1,type:k_.get("int16")},uint16:{index:6,useShortForm:!1,type:k_.get("uint16")},int8:{index:7,useShortForm:!1,type:k_.get("int8")},uint8:{index:8,useShortForm:!1,type:k_.get("uint8")},time_point:{index:9,useShortForm:!1,type:k_.get("time_point")},checksum256:{index:10,useShortForm:!1,type:k_.get("checksum256")},float64:{index:11,useShortForm:!1,
type:k_.get("float64")},string:{index:12,useShortForm:!0,type:k_.get("string")},any_object:{index:13,useShortForm:!0,type:k_.get("any_object")},any_array:{index:14,useShortForm:!0,type:k_.get("any_array")},bytes:{index:15,useShortForm:!1,type:k_.get("bytes")},symbol:{index:16,useShortForm:!1,type:k_.get("symbol")},symbol_code:{index:17,useShortForm:!1,type:k_.get("symbol_code")},asset:{index:18,useShortForm:!1,type:k_.get("asset")}
},E_=[I_.null_t,I_.int64,I_.uint64,I_.int32,I_.uint32,I_.int16,I_.uint16,I_.int8,I_.uint8,I_.time_point,I_.checksum256,I_.float64,I_.string,I_.any_object,I_.any_array,I_.bytes,I_.symbol,I_.symbol_code,I_.asset],z_=(t,e)=>{let r,i,n;if("string"==typeof e?r=e:Array.isArray(e)&&2===e.length?[r,n]=e:Array.isArray(e)&&3===e.length?[r,i,n]=e:[r,i,n]=[e.method,e.arg,e.filter],t.pushString(r),void 0===i?t.push(0):(t.push(1),v_(t,i)),void 0===n)t.push(0);else{t.pushVaruint32(n.length)
;for(const e of n)z_(t,e)}};function N_(t){return t=(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function R_(){return{expiration:(new Date).toISOString().slice(0,-1),ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],actions:[],transaction_extensions:[]}}var P_={};Bg(P_,{PrivateKey:()=>F_,PublicKey:()=>B_,Signature:()=>L_,constructElliptic:()=>W_,generateKeyPair:()=>$_,k1Ec:()=>K_,r1Ec:()=>Z_});var T_,B_=class{
constructor(t){this.key=t,this.ec=W_(t.type)}static fromString(t){const e=pv(t);return new B_(e)}static fromElliptic(t,e){const r=t.getPublic().getX().toArray("be",32),i=t.getPublic().getY().toArray("be",32);return new B_({type:e,data:new Uint8Array([1&i[31]?3:2].concat(r))})}static equal(t,e){return t.key.type===e.key.type&&t.key.data.length===e.key.data.length&&t.key.data.every(((t,r)=>t===e.key.data[r]))&&t.ec===e.ec}toString(){return mv(this.key)}toLegacyString(t){return bv(this.key,t)}
toElliptic(){return this.ec.keyPair({pub:Buffer.from(this.key.data.slice(0,33))})}getType(){return this.key.type}isValid(){try{const t=this.toElliptic();return t.validate().result}catch{return!1}}},O_=qg(Ig.exports),q_=qg(_r),U_=t=>q_.sha256().update(t).digest("hex"),C_=t=>q_.sha256().update(t).digest(),D_=qg(vg.exports),j_=t=>{if(2!==t.type)throw new Error("Not WA Signature (starts with SIG_WA)");const e=new Rv({array:t.data}),r=new L_({type:1,data:e.getUint8Array(65)
}),i=e.getBytes().slice(),n=e.getBytes().slice(),a=new Rv;a.pushArray(i),a.pushArray(C_(n));const s=new Uint8Array(C_(a.asUint8Array().slice()));let o=0;1&i[32]&&(o=1),4&i[32]&&(o=2);const d=JSON.parse(Buffer.from(n).toString("utf8")),f=d.origin.replace("https://","");return{signature:r,authenticatorData:i,clientDataJSON:d,userPresence:o,rpid:f,digest:s}},L_=class{constructor(t){this.signature=t,this.ec=W_(t.type)}static fromString(t){const e=Mv(t);return new L_(e)}static fromElliptic(t,e){
t.recoveryParam||(t.recoveryParam=0);const r=t.r.toArray("be",32),i=t.s.toArray("be",32);let n;0===e||1===e?(n=t.recoveryParam+27,t.recoveryParam<=3&&(n+=4)):2===e&&(n=t.recoveryParam);const a=new Uint8Array([n].concat(r,i));return new L_({type:e,data:a})}toElliptic(){const t=new O_.default(this.signature.data.slice(1,33)),e=new O_.default(this.signature.data.slice(33,65));let r;0===this.signature.type||1===this.signature.type?(r=this.signature.data[0]-27,
r>3&&(r-=4)):r=2===this.signature.type?this.signature.data[0]:0;return{r:t,s:e,recoveryParam:3&r}}toString(){return Av(this.signature)}toBinary(){return this.signature.data}getType(){return this.signature.type}getEc(){return this.ec}verify(t,e,r=!0,i="utf8"){if(this.getType()!==e.getType())return!1;r&&("string"==typeof t&&(t=Buffer.from(t,i)),t=this.ec.hash().update(t).digest());const n=e.getType(),a=this.toElliptic(),s=e.toElliptic();if(2===n){const r=(t=>{
if(2!==t.type)throw new Error("Not WA Public Key (starts with PUB_WA_)");const e=new Rv({array:t.data});return{data:e.getUint8Array(33),userPresence:e.get(),rpid:e.getString()}})(e.key),n=j_(this.signature),{rpid:a,userPresence:s,authenticatorData:o,digest:d}=n,{type:f,challenge:c,origin:h}=n.clientDataJSON;if("webauthn.get"!==f)return console.log("Invalid Signature Type"),!1;if(D_.default.decode(c)!==Buffer.from(t).toString(i))return console.log("Invalid Challenge Decoded"),!1
;if(o.length<37)return console.log("Invalid Authenticator Data"),!1;if(!h.startsWith("https://"))return console.log("Invalid Origin"),!1;if(a!==r.rpid)return console.log("Invalid Rpid"),!1;if(!C_(a).every(((t,e)=>t===o[e])))return!1;if(s<r.userPresence)return console.log("Invalid User Presence"),!1;t=d}return this.ec.verify(t,a,s,i)}recover(t,e=!0,r="utf8"){e&&("string"==typeof t&&(t=Buffer.from(t,r)),t=this.ec.hash().update(t).digest());const i=this.toElliptic();if(2===this.signature.type){
const{signature:e,digest:i,userPresence:n,rpid:a,clientDataJSON:s}=j_(this.signature),o=e.recover(i,!1);if(D_.default.decode(s.challenge)!==Buffer.from(t).toString(r))throw new Error("Invalid recovery: digest signed does not match data");const d=new Rv;return d.pushArray(o.key.data),d.push(n),d.pushString(a),new B_({type:2,data:d.asUint8Array()})}{const e=this.ec.recoverPubKey(t,i,i.recoveryParam,r),n=this.ec.keyFromPublic(e);return B_.fromElliptic(n,this.getType())}}},F_=class{constructor(t){
this.key=t,this.ec=W_(t.type)}static fromElliptic(t,e){return new F_({type:e,data:t.getPrivate().toArrayLike(Buffer,"be",32)})}static fromString(t){const e=vv(t);return new F_(e)}toElliptic(){return this.ec.keyFromPrivate(this.key.data)}toLegacyString(){return _v(this.key)}toString(){return wv(this.key)}getType(){return this.key.type}getPublicKey(){const t=this.toElliptic();return B_.fromElliptic(t,this.getType())}sign(t,e=!0,r="utf8"){e&&("string"==typeof t&&(t=Buffer.from(t,r)),
t=this.ec.hash().update(t).digest());let i,n=0;const a=e=>{const r=this.toElliptic().sign(t,e);return L_.fromElliptic(r,this.getType())};if(0===this.key.type)do{i=a({canonical:!0,pers:[++n]})}while(128&(s=i.toBinary())[1]||0===s[1]&&!(128&s[2])||128&s[33]||!(0!==s[33]||128&s[34]));else i=a({canonical:!0});var s;return i}isValid(){try{const t=this.toElliptic();return t.validate().result}catch{return!1}}},V_=Mn,K_=new V_.ec("secp256k1"),Z_=new V_.ec("p256"),W_=t=>0===t?K_:Z_,$_=(t,e={})=>{
if(!e.secureEnv)throw new Error("Key generation is completely INSECURE in production environments in the browser. If you are absolutely certain this does NOT describe your environment, set `secureEnv` in your options to `true`.  If this does describe your environment and you set `secureEnv` to `true`, YOU DO SO AT YOUR OWN RISK AND THE RISK OF YOUR USERS.");let r;r=0===t?K_:Z_;const i=r.genKeyPair(e.ecOptions);return{publicKey:B_.fromElliptic(i,t),privateKey:F_.fromElliptic(i,t)}
},H_=(t,e,r,i=K_)=>{const n=Buffer.concat([Buffer.from(t,"hex"),Buffer.from(e),Buffer.from(r?new Uint8Array(i.hash().update(r).digest()):new Uint8Array(32))]);return i.hash().update(n).digest()},J_=class{constructor(t){this.keys=new Map,this.availableKeys=[];for(const e of t){const t=F_.fromString(e),r=t.toElliptic(),i=t.getPublicKey().toString();this.keys.set(i,r),this.availableKeys.push(i)}}async getAvailableKeys(){return this.availableKeys}
async sign({chainId:t,requiredKeys:e,serializedTransaction:r,serializedContextFreeData:i}){const n=H_(t,r,i,K_),a=[];for(const t of e){const e=B_.fromString(t),r=this.keys.get(yv(t));if(r){const t=F_.fromElliptic(r,e.getType()).sign(n,!1);a.push(t.toString())}}return{signatures:a,serializedTransaction:r,serializedContextFreeData:i}}},G_=class{constructor(t){this.contracts=new Map,this.cachedAbis=new Map,this.transactionExtensions=[{id:1,type:"resource_payer",
keys:["payer","max_net_bytes","max_cpu_us","max_memory_bytes"]}],this.rpc=t.rpc,this.authorityProvider=t.authorityProvider||t.rpc,this.abiProvider=t.abiProvider||t.rpc,t.signatureProvider&&(this.signatureProvider=t.signatureProvider),this.abiTypes=l_(f_()),this.transactionTypes=l_(h_()),this.crypto=t.crypto||"undefined"!=typeof window&&window&&window.crypto||hr&&hr.crypto,this.recoverPersonalSignature=t.recoverPersonalSignature}getCrypto(){
if(!this.crypto)throw new Error("No 'crypto' module found. On nodejs, do const { Crypto } = require('@peculiar/webcrypto'); const crypto = new Crypto; new Api({ rpc, crypto });");return this.crypto}getRecoverPersonalSignature(){if(!this.recoverPersonalSignature)throw new Error("No 'recoverPersonalSignature' function found. Do const { recoverPersonalSignature } = require('eth-sig-util'); new Api({ rpc, recoverPersonalSignature });");return this.recoverPersonalSignature}rawAbiToJson(t){
const e=new Rv({array:t});if(!Pv(e.getString()))throw new Error("Unsupported abi version");return e.restartRead(),this.abiTypes.get("abi_def").deserialize(e)}jsonToRawAbi(t){const e=new Rv;if(this.abiTypes.get("abi_def").serialize(e,t),!Pv(e.getString()))throw new Error("Unsupported abi version");return e.asUint8Array()}async getCachedAbi(t,e=!1){if(!e&&this.cachedAbis.get(t))return this.cachedAbis.get(t);let r;try{const e=(await this.abiProvider.getRawAbi(t)).abi;r={rawAbi:e,
abi:this.rawAbiToJson(e)}}catch(e){throw e.message=`fetching abi for ${t}: ${e.message}`,e}if(!r)throw new Error(`Missing abi for ${t}`);return this.cachedAbis.set(t,r),r}async getAbi(t,e=!1){return(await this.getCachedAbi(t,e)).abi}async getTransactionAbis(t,e=!1){const r=(t.context_free_actions||[]).concat(t.actions).map((t=>t.account)),i=new Set(r),n=Array.from(i).map((async t=>{const{rawAbi:r}=await this.getCachedAbi(t,e);return{accountName:t,abi:r}}));return Promise.all(n)}
async getContract(t,e=!1){if(!e&&this.contracts.get(t))return this.contracts.get(t);const r=await this.getAbi(t,e),i=l_(d_(),r),n=new Map;for(const{name:t,type:e}of r.actions)n.set(t,u_(i,e));const a={types:i,actions:n};return this.contracts.set(t,a),a}serialize(t,e,r){this.transactionTypes.get(e).serialize(t,r)}deserialize(t,e){return this.transactionTypes.get(e).deserialize(t)}serializeTransaction(t){const e=new Rv;return this.serialize(e,"transaction",{max_net_usage_words:0,
max_cpu_usage_ms:0,delay_sec:0,context_free_actions:[],transaction_extensions:[],...t}),e.asUint8Array()}serializeContextFreeData(t){if(!t||!t.length)return;const e=new Rv;e.pushVaruint32(t.length);for(const r of t)e.pushBytes(r);return e.asUint8Array()}deserializeTransaction(t){const e=new Rv;return e.pushArray(t),this.deserialize(e,"transaction")}serializeTransactionExtensions(t){let e=[];if(t.resource_payer){const r=new Rv;l_(c_()).get("resource_payer").serialize(r,t.resource_payer),
e=[...e,[1,Fv(r.asUint8Array())]]}return e}deserializeTransactionExtensions(t){const e={};return t.forEach((t=>{const r=this.transactionExtensions.find((e=>e.id===t[0]));if(void 0===r)throw new Error(`Transaction Extension could not be determined: ${t}`);const i=l_(c_()),n=new Rv;n.pushArray(Vv(t[1]));const a=i.get(r.type).deserialize(n);1===t[0]&&(a.max_net_bytes=Number(a.max_net_bytes),a.max_cpu_us=Number(a.max_cpu_us),a.max_memory_bytes=Number(a.max_memory_bytes),e.resource_payer=a)})),e}
deleteTransactionExtensionObjects(t){return delete t.resource_payer,t}async serializeActions(t){return await Promise.all(t.map((async t=>{const{account:e,name:r,authorization:i,data:n}=t,a=await this.getContract(e);return"object"!=typeof n?t:m_(a,e,r,i,n)})))}async deserializeActions(t){return await Promise.all(t.map((async({account:t,name:e,authorization:r,data:i})=>{const n=await this.getContract(t);return g_(n,t,e,r,i)})))}async deserializeActionsSync(t=[]){let e=[]
;for(const{account:r,name:i,authorization:n,data:a}of t){const t=await this.getContract(r);e.push(g_(t,r,i,n,a))}return e}async deserializeActionsSyncWithAbi(t=[]){let e=[];for(const r of t)try{const{account:t,name:i,authorization:n,data:a}=r,s=await this.getContract(t),o=g_(s,t,i,n,a);if("eosio"===o.account&&"setabi"===o.name){const t=Vv(o.data.abi);console.log(t),o.data.abi=await this.rawAbiToJson(t),this.cachedAbis.set(o.data.account,{rawAbi:t,abi:o.data.abi})}e.push(o)}catch(t){
console.log(t),e.push(r)}return e}async serializeTransactionWithActions(t){t.context_free_actions=await this.serializeActions(t.context_free_actions||[]),t.actions=await this.serializeActions(t.actions);return{serializedTransaction:this.serializeTransaction(t),serializedContextFreeData:this.serializeContextFreeData(t.context_free_data)}}async deserializeTransactionWithActions(t){"string"==typeof t&&(t=Vv(t))
;const e=this.deserializeTransaction(t),r=await this.deserializeActionsSync(e.context_free_actions),i=await this.deserializeActionsSync(e.actions);return{...e,context_free_actions:r,actions:i}}deflateSerializedArray(t){return(0,Iv.deflate)(t,{level:9})}inflateSerializedArray(t){return(0,Iv.inflate)(t)}async transact(t,{broadcast:e=!0,sign:r=!0,readOnlyTrx:i,returnFailureTraces:n,requiredKeys:a,compression:s,blocksBehind:o,useLastIrreversible:d,expireSeconds:f,transactionHeader:c}={}){
const h=await this.rpc.get_info();if(!c){if("number"==typeof o&&d)throw new Error("Use either blocksBehind or useLastIrreversible");if("number"!=typeof o&&!d)throw new Error("Must provide one blocksBehind or useLastIrreversible");if(!f)throw new Error("Must provide expireSeconds");if(c=await this.generateTapos(h,t,o,d,f),!this.hasRequiredTaposFields(c))throw new Error("Required configuration or TAPOS fields are not present")}const u=await this.getTransactionAbis(t);t={...c,
transaction_extensions:await this.serializeTransactionExtensions(t),context_free_actions:await this.serializeActions(t.context_free_actions||[]),actions:await this.serializeActions(t.actions)},t=this.deleteTransactionExtensionObjects(t);const l=this.serializeTransaction(t),p=this.serializeContextFreeData(t.context_free_data);let b={serializedTransaction:l,serializedContextFreeData:p,signatures:[]};if(r){if(!this.signatureProvider)throw new Error("No signature provider available");if(!a){
const e=await this.signatureProvider.getAvailableKeys();a=await this.authorityProvider.getRequiredKeys({transaction:t,availableKeys:e})}b=await this.signatureProvider.sign({chainId:h.chain_id,requiredKeys:a,serializedTransaction:l,serializedContextFreeData:p,abis:u})}return e?s?this.pushCompressedSignedTransaction(b,i,n):this.pushSignedTransaction(b,i,n):{...b,transactionHeader:c}}async transactWithDelay(t,e={},r){const i=await this.transact(t,e);return await async function(t){
return new Promise((e=>{setTimeout(e,t)}))}(r),i}async query(t,e,r,{sign:i,requiredKeys:n,authorization:a=[]}){const s=await this.rpc.get_info(),o=await this.tryRefBlockFromGetInfo(s),d=new Rv;z_(d,r);const f={...p_(o,1800),context_free_actions:[],actions:[{account:t,name:"queryit",authorization:a,data:Fv(d.asUint8Array())}]},c=this.serializeTransaction(f);let h=[];if(i){if(!this.signatureProvider)throw new Error("No signature provider available");const t=await this.getTransactionAbis(f);if(!n){
const t=await this.signatureProvider.getAvailableKeys();n=await this.authorityProvider.getRequiredKeys({transaction:f,availableKeys:t})}h=(await this.signatureProvider.sign({chainId:s.chain_id,requiredKeys:n,serializedTransaction:c,serializedContextFreeData:void 0,abis:t})).signatures}const u=await this.rpc.send_transaction({signatures:h,compression:0,serializedTransaction:c}),l=new Rv({array:Vv(u.processed.action_traces[0][1].return_value)});return e?w_(l):__(l)}
async pushSignedTransaction({signatures:t,serializedTransaction:e,serializedContextFreeData:r},i=!1,n=!1){return i?this.rpc.push_ro_transaction({signatures:t,serializedTransaction:e,serializedContextFreeData:r},n):this.rpc.push_transaction({signatures:t,serializedTransaction:e,serializedContextFreeData:r})}async pushCompressedSignedTransaction({signatures:t,serializedTransaction:e,serializedContextFreeData:r},i=!1,n=!1){
const a=this.deflateSerializedArray(e),s=this.deflateSerializedArray(r||new Uint8Array(0));return i?this.rpc.push_ro_transaction({signatures:t,compression:1,serializedTransaction:a,serializedContextFreeData:s},n):this.rpc.push_transaction({signatures:t,compression:1,serializedTransaction:a,serializedContextFreeData:s})}async generateTapos(t,e,r=3,i,n){if(t||(t=await this.rpc.get_info()),i){const r=await this.tryRefBlockFromGetInfo(t);return{...p_(r,n),...e}}
const a=t.head_block_num-r,s=a<=t.last_irreversible_block_num?await this.tryGetBlockInfo(a):await this.tryGetBlockHeaderState(a);return{...p_(s,n),...e}}hasRequiredTaposFields({expiration:t,ref_block_num:e,ref_block_prefix:r}){return!(!t||"number"!=typeof e||"number"!=typeof r)}async tryGetBlockHeaderState(t){try{return await this.rpc.get_block_header_state(t)}catch(e){return await this.tryGetBlockInfo(t)}}async tryGetBlockInfo(t){try{return await this.rpc.get_block_info(t)}catch(e){
return await this.rpc.get_block(t)}}async tryRefBlockFromGetInfo(t){if(t.hasOwnProperty("last_irreversible_block_id")&&t.hasOwnProperty("last_irreversible_block_num")&&t.hasOwnProperty("last_irreversible_block_time"))return{block_num:t.last_irreversible_block_num,id:t.last_irreversible_block_id,timestamp:t.last_irreversible_block_time};{const e=await this.tryGetBlockInfo(t.last_irreversible_block_num);return{block_num:e.block_num,id:e.id,timestamp:e.timestamp}}}with(t){return new X_(this,t)}
buildTransaction(t){const e=new Y_(this);return t?t(e):e}async getAccountKeys(t,e){try{const{permissions:r}=await this.rpc.get_account(t),i=r.find((({perm_name:t})=>t===e));if(i)return i.required_auth.keys.map((({key:t})=>B_.fromString(t).toString()))}catch(t){console.log(t)}return[]}async sha256Digest(t){const e=t instanceof Uint8Array?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t;return new Uint8Array(await this.getCrypto().subtle.digest("SHA-256",e))}
async matchRsaKeyToSignature({action:t,credentials:e}){const{signature:r,nonce:i,trx:n}=t.data;for(const t of e){const e=t.key.key[1],a=N_(Buffer.from(e.exponent,"hex").toString("base64")),s=N_(Buffer.from(e.modulus,"hex").toString("base64")),o=JSON.parse(r.client_json),d=new Uint8Array(Ev.default.toBuffer(o.challenge)),f=new Rv,c=this.serializeTransaction(n);f.pushArray(c),f.pushNumberAsUint64(i);const h=await this.sha256Digest(f.asUint8Array().slice());if(Fv(d)!==Fv(h))continue
;const u=await this.getCrypto().subtle.importKey("jwk",{kty:"RSA",e:a,n:s,alg:"RS256",ext:!1},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]),l=Vv(r.auth_data),p=Vv(U_(r.client_json)),b=new Uint8Array([...l,...p]);if(await this.getCrypto().subtle.verify("RSASSA-PKCS1-v1_5",u,Vv(r.signature),b))return!0}return!1}async matchEthKeyToSignature({action:t,credentials:e}){const{signature:r,nonce:i,trx:n}=t.data;for(const t of e){
const e="0x"+t.key.key[1],a=new Rv,s=this.serializeTransaction(n);a.pushArray(s),a.pushNumberAsUint64(i);const o=await this.sha256Digest(a.asUint8Array().slice()),d=Fv(o),f="0x"+r.signature;if(this.getRecoverPersonalSignature()({data:d,sig:f})===e)return!0}return!1}async checkIfKeysMatchWaAction({actor:t,permission:e,action:r}){if(!r.authorization.every((r=>r.actor===t&&r.permission===e)))return console.log("WA RSA/ETH Authorization mismatch"),!1;const{account:i,key:n}=r.data
;if(i!==t)return console.log("Account mismatch"),!1;const a=n.key[0],s=(await this.rpc.fetchCredentials(t)).filter((t=>t.key.key[0]===a));return"eth_public_key"===a?this.matchEthKeyToSignature({action:r,credentials:s}):"rsa_public_key"===a?this.matchRsaKeyToSignature({action:r,credentials:s}):(console.log(`Key type ${a} not supported`),!1)}async checkIfKeysMatchTransaction({actor:t,permission:e,transaction:r,signatures:i,chainId:n}){r=JSON.parse(JSON.stringify(r)),i=JSON.parse(JSON.stringify(i))
;try{if(1===r.actions.length&&"webauthn"===r.actions[0].account&&"exec"===r.actions[0].name){return await this.checkIfKeysMatchWaAction({actor:t,permission:e,action:r.actions[0]})}{for(const i of r.actions)if(!i.authorization.every((r=>r.actor===t&&r.permission===e)))return console.log("WA R1 Authorization mismatch"),!1;n=n||(await this.rpc.get_info()).chain_id
;const{serializedTransaction:a,serializedContextFreeData:s}=await this.serializeTransactionWithActions(r),o=await this.getAccountKeys(t,e),d=i.every((t=>{const e=L_.fromString(t),r=H_(n,a,s,e.getEc());return o.some((t=>e.verify(r,B_.fromString(t),!1)))}));return d}}catch(t){return console.log(t),!1}}},Y_=class{constructor(t){this.actions=[],this.contextFreeGroups=[],this.api=t}with(t){const e=new X_(this.api,t);return this.actions.push(e),e}associateContextFree(t){
return this.contextFreeGroups.push(t),this}async send(t){const e=[],r=[],i=this.actions.map((t=>t.serializedData));return await Promise.all(this.contextFreeGroups.map((async t=>{const{action:n,contextFreeAction:a,contextFreeData:s}=t({cfd:e.length,cfa:r.length});n&&i.push(n),a&&r.push(a),s&&e.push(s)}))),this.contextFreeGroups=[],this.actions=[],await this.api.transact({context_free_data:e,context_free_actions:r,actions:i},t)}},X_=class{constructor(t,e){this.api=t,this.accountName=e}as(t=[]){
let e=[];return e=t&&"string"==typeof t?[{actor:t,permission:"active"}]:t,new Q_(this,this.api,this.accountName,e)}},Q_=class{constructor(t,e,r,i){const n=e.cachedAbis.get(r);if(!n)throw new Error("ABI must be cached before using ActionBuilder, run api.getAbi()");const a=l_(d_(),n.abi),s=new Map;for(const{name:t,type:e}of n.abi.actions)s.set(t,u_(a,e));s.forEach(((e,n)=>{Object.assign(this,{[n]:(...o)=>{const d={};o.forEach(((t,r)=>{const i=e.fields[r];d[i.name]=t}));const f=m_({types:a,
actions:s},r,n,i,d);return t.serializedData=f,f}})}))}},tw={},ew={Api:G_,ApiInterfaces:tw,JsonRpc:Sv,Numeric:Zg,RpcInterfaces:kv,RpcError:jg,Serialize:zv,JsSignatureProvider:J_,Key:P_,sha256:U_};
/**
   * Proton Link v4.2.15
   * https://github.com/protonprotocol/proton-link
   *
   * @license
   * Copyright (c) 2020 Greymass Inc. All Rights Reserved.
   * 
   * Redistribution and use in source and binary forms, with or without modification,
   * are permitted provided that the following conditions are met:
   * 
   *  1. Redistribution of source code must retain the above copyright notice, this
   *     list of conditions and the following disclaimer.
   * 
   *  2. Redistribution in binary form must reproduce the above copyright notice,
   *     this list of conditions and the following disclaimer in the documentation
   *     and/or other materials provided with the distribution.
   * 
   *  3. Neither the name of the copyright holder nor the names of its contributors
   *     may be used to endorse or promote products derived from this software without
   *     specific prior written permission.
   * 
   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
   * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
   * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
   * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
   * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
   * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
   * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
   * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
   * OF THE POSSIBILITY OF SUCH DAMAGE.
   * 
   * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE
   * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.
   */
function rw(t,e,r,i){var n,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(s=(a<3?n(s):a>3?n(e,r,s):n(e,r))||s);return a>3&&s&&Object.defineProperty(e,r,s),s}function iw(t,e,r,i){return new(r||(r=Promise))((function(n,a){function s(t){try{d(i.next(t))}catch(t){a(t)}}function o(t){try{d(i.throw(t))}catch(t){a(t)}}function d(t){
var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,o)}d((i=i.apply(t,e||[])).next())}))}class nw extends Error{constructor(t){super("Request cancelled "+(t?"("+t+")":"")),this.code="E_CANCEL"}}class aw extends Error{constructor(t){super("Unable to verify identity "+(t?"("+t+")":"")),this.code="E_IDENTITY"}}class sw extends Error{constructor(t,e,r){super(t),this.code=e,this.session=r}}!function(t){t.defaults={service:"https://cb.anchor.link",verifyProofs:!1,
encodeChainIds:!0}}(T_||(T_={})),t.SealedMessage=class extends Js{},rw([Js.field("public_key")],t.SealedMessage.prototype,"from",void 0),rw([Js.field("uint64")],t.SealedMessage.prototype,"nonce",void 0),rw([Js.field("bytes")],t.SealedMessage.prototype,"ciphertext",void 0),rw([Js.field("uint32")],t.SealedMessage.prototype,"checksum",void 0),t.SealedMessage=rw([Js.type("sealed_message")],t.SealedMessage),t.LinkCreate=class extends Js{},
rw([Js.field("name")],t.LinkCreate.prototype,"session_name",void 0),rw([Js.field("public_key")],t.LinkCreate.prototype,"request_key",void 0),rw([Js.field("string",{extension:!0})],t.LinkCreate.prototype,"user_agent",void 0),t.LinkCreate=rw([Js.type("link_create")],t.LinkCreate),t.LinkInfo=class extends Js{},rw([Js.field("time_point_sec")],t.LinkInfo.prototype,"expiration",void 0),t.LinkInfo=rw([Js.type("link_info")],t.LinkInfo);const ow=Tp().fetch;function dw(t,e){const r={
sameDevice:void 0!==e.getRawInfo().return_path};if(t.link_meta)try{const e=JSON.parse(t.link_meta);for(const t of Object.keys(e))r[fw(t)]=e[t]}catch(e){cw("Unable to parse link metadata",e,t.link_meta)}return r}function fw(t){const e=function(t){return t.split("_").map((t=>(t[0]?t[0].toUpperCase():"_")+t.slice(1))).join("")}(t);return e[0].toLowerCase()+e.slice(1)}function cw(...t){console.warn("[anchor-link]",...t)}class hw{constructor(){}remove(){return iw(this,void 0,void 0,(function*(){
this.link.storage&&(yield this.link.removeSession(this.identifier,this.auth,this.chainId))}))}get client(){return this.link.getChain(this.chainId).client}static restore(t,e){switch(e.type){case"channel":return new uw(t,e.data,e.metadata);case"fallback":return new lw(t,e.data,e.metadata);default:throw new Error("Unable to restore, session data invalid")}}}class uw extends hw{constructor(e,r,i){super(),this.type="channel",this.timeout=12e4,this.link=e,this.chainId=t.ChainId.from(r.chainId),
this.auth=t.PermissionLevel.from(r.auth),this.publicKey=bo.from(r.publicKey),this.identifier=ro.from(r.identifier);const n=_o.from(r.requestKey);this.channelKey=bo.from(r.channel.key),this.channelUrl=r.channel.url,this.channelName=r.channel.name,this.encrypt=e=>function(e,r,i,n){const a=r.sharedSecret(i);n||(n=Ss.from(xs.random()));const s=ps.hash(t.Serializer.encode({object:n
}).appending(a.array)),o=new Fp(s.array.slice(0,32),s.array.slice(32,48)),d=hs.from(o.encrypt(hs.from(e,"utf8").array)),f=new DataView(ls.hash(s.array).array.buffer).getUint32(0,!0);return t.SealedMessage.from({from:r.toPublic(),nonce:n,ciphertext:d,checksum:f})}(e.encode(!0,!1),n,this.channelKey),this.metadata=Object.assign(Object.assign({},i||{}),{timeout:this.timeout,name:this.channelName,request_key:n.toPublic()}),this.serialize=()=>({type:"channel",data:Object.assign(Object.assign({},r),{
channel:{url:this.channelUrl,key:this.channelKey,name:this.channelName}}),metadata:this.metadata})}onSuccess(t,e){this.link.transport.onSuccess&&this.link.transport.onSuccess(t,e)}onFailure(t,e){this.link.transport.onFailure&&this.link.transport.onFailure(t,e)}onRequest(e,r){const i=t.LinkInfo.from({expiration:new Date(Date.now()+this.timeout)});this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,e,r);const n=setTimeout((()=>{
r(new sw("Wallet did not respond in time","E_TIMEOUT",this))}),this.timeout);e.setInfoKey("link",i);const a=t.Serializer.encode({object:this.encrypt(e)});ow(this.channelUrl,{method:"POST",headers:{"X-Buoy-Wait":(this.timeout/1e3).toFixed(0)},body:a.array}).then((t=>{2!==Math.floor(t.status/100)&&(clearTimeout(n),202===t.status&&console.warn("Missing delivery ack from session channel"),r(new sw("Unable to push message","E_DELIVERY",this)))})).catch((t=>{clearTimeout(n),
r(new sw(`Unable to reach link service (${t.message||String(t)})`,"E_DELIVERY",this))}))}addLinkInfo(e){const r=t.LinkCreate.from({session_name:this.identifier,request_key:this.metadata.request_key,user_agent:this.link.getUserAgent()});e.setInfoKey("link",r)}prepare(t){return this.link.transport.prepare?this.link.transport.prepare(t,this):Promise.resolve(t)}showLoading(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}recoverError(t,e){
return!!this.link.transport.recoverError&&this.link.transport.recoverError(t,e)}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}transact(t,e){return iw(this,void 0,void 0,(function*(){const r=yield this.link.transact(t,Object.assign(Object.assign({},e),{chain:this.chainId}),this);if(r.payload.link_ch&&r.payload.link_key&&r.payload.link_name)try{const t=Object.assign(Object.assign({},this.metadata),dw(r.payload,r.resolved.request))
;this.channelUrl=r.payload.link_ch,this.channelKey=bo.from(r.payload.link_key),this.channelName=r.payload.link_name,t.name=r.payload.link_name,this.metadata=t}catch(t){cw("Unable to recover link session",t)}return r}))}}class lw extends hw{constructor(e,r,i){super(),this.type="fallback",this.link=e,this.auth=t.PermissionLevel.from(r.auth),this.publicKey=bo.from(r.publicKey),this.chainId=t.ChainId.from(r.chainId),this.metadata=i||{},this.identifier=ro.from(r.identifier),this.serialize=()=>({
type:this.type,data:r,metadata:this.metadata})}onSuccess(t,e){this.link.transport.onSuccess&&this.link.transport.onSuccess(t,e)}onFailure(t,e){this.link.transport.onFailure&&this.link.transport.onFailure(t,e)}onRequest(t,e){this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,t,e):this.link.transport.onRequest(t,e)}prepare(t){return this.link.transport.prepare?this.link.transport.prepare(t,this):Promise.resolve(t)}showLoading(){
if(this.link.transport.showLoading)return this.link.transport.showLoading()}makeSignatureProvider(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}transact(t,e){return this.link.transact(t,Object.assign(Object.assign({},e),{chain:this.chainId}),this)}}class pw{constructor(t){this.address=t.trim().replace(/\/$/,"")}create(){const t=`${this.address}/${Jp()}`;return new bw(t)}}class bw{constructor(t){this.url=t,this.ctx={}}wait(){
return this.url.includes("hyperbuoy")?function(t,e){return iw(this,void 0,void 0,(function*(){let r=!0;for(e.cancel=()=>{r=!1};r;){try{const e=yield ow(t);if(408===e.status)continue;if(200===e.status)return yield e.json();throw new Error(`HTTP ${e.status}: ${e.statusText}`)}catch(t){cw("Unexpected hyperbuoy error",t)}yield mw(1e3)}return null}))}(this.url,this.ctx):(t=this.url,e=this.ctx,new Promise(((r,i)=>{let n=!0,a=0;const s=t.replace(/^http/,"ws"),o=t=>{try{r(JSON.parse(t))}catch(t){
t.message="Unable to parse callback JSON: "+t.message,i(t)}},d=()=>{const t=new Yp(s);"undefined"!=typeof navigator&&"ReactNative"==navigator.product&&(t.binaryType="blob"),e.cancel=()=>{n=!1,t.readyState!==Yp.OPEN&&t.readyState!==Yp.CONNECTING||t.close()},t.onmessage=e=>{if(n=!1,t.readyState===Yp.OPEN&&t.close(),"undefined"!=typeof Blob&&e.data instanceof Blob){const t=new FileReader;t.onload=()=>{o(t.result)},t.onerror=t=>{i(t)},t.readAsText(e.data)
}else"string"==typeof e.data?o(e.data):o(e.data.toString())},t.onopen=()=>{a=0},t.onclose=()=>{var t;n&&setTimeout(d,(t=a++,Math.min(Math.pow(10*t,2),1e4)))}};d()})));var t,e}cancel(){this.ctx.cancel&&this.ctx.cancel()}}function mw(t){return new Promise((e=>{setTimeout(e,t)}))}class yw{constructor(e,r){this.abiCache=new Map,this.pendingAbis=new Map,this.chainId=t.ChainId.from(e),this.client="string"==typeof r?new Dg.JsonRpc(r):r}getAbi(t){return iw(this,void 0,void 0,(function*(){
const e=String(t);let r=this.abiCache.get(e);if(!r){let i=this.pendingAbis.get(e);i||(i=this.client.get_abi(t.toString()),this.pendingAbis.set(e,i)),r=(yield i).abi,this.pendingAbis.delete(e),r&&this.abiCache.set(e,r)}return r}))}}class gw{constructor(t){if("object"!=typeof t)throw new TypeError("Missing options object");if(!t.transport)throw new TypeError("options.transport is required");let e=t.chains||[];if(t.chainId&&t.client&&(e=[{chainId:t.chainId,nodeUrl:t.client}]),
0===e.length)throw new TypeError("options.chains is required");this.chains=e.map((({chainId:t,nodeUrl:e})=>{if(!t)throw new Error("options.chains[].chainId is required");if(!e)throw new Error("options.chains[].nodeUrl is required");return new yw(t,e)})),void 0===t.service||"string"==typeof t.service?this.callbackService=new pw(t.service||T_.defaults.service):this.callbackService=t.service,this.transport=t.transport,null!==t.storage&&(this.storage=t.storage||this.transport.storage),
this.verifyProofs=void 0!==t.verifyProofs?t.verifyProofs:T_.defaults.verifyProofs,this.encodeChainIds=void 0!==t.encodeChainIds?t.encodeChainIds:T_.defaults.encodeChainIds,this.scheme=t.scheme,t.walletType&&t.walletType.length>0&&(this.walletType=t.walletType||"")}get client(){return this.chains[0].client}getChain(e){if(e instanceof yw)return e;if("number"==typeof e){const t=this.chains[e];if(!t)throw new Error(`Invalid chain index: ${e}`);return t}
const r=t.ChainId.from(e),i=this.chains.find((t=>t.chainId.equals(r)));if(!i)throw new Error(`Unsupported chain: ${r}`);return i}createRequest(t,e,r){return iw(this,void 0,void 0,(function*(){const i=r||this.transport;let n;if(e||1===this.chains.length){const r=e||this.chains[0];n=yield Ip.create(Object.assign(Object.assign({},t),{chainId:r.chainId,broadcast:!1}),{abiProvider:r,zlib:cr,scheme:this.scheme})}else n=yield Ip.create(Object.assign(Object.assign({},t),{chainId:null,
chainIds:this.encodeChainIds?this.chains.map((t=>t.chainId)):void 0,broadcast:!1}),{abiProvider:this.chains[0],zlib:cr,scheme:this.scheme});i.prepare&&(n=yield i.prepare(n));const a=this.callbackService.create();return n.setCallback(a.url,!0),{request:n,callback:a}}))}sendRequest(e,r,i,n,a=!1){return iw(this,void 0,void 0,(function*(){const s=n||this.transport;try{if(e.data.callback!==r.url)throw new Error("Invalid request callback")
;if(!0===e.data.flags.broadcast||!1===e.data.flags.background)throw new Error("Invalid request flags");let n=!1;const o=new Promise(((t,i)=>{s.onRequest(e,(t=>{if(n)return;const a="string"==typeof t?new nw(t):t;s.recoverError&&!0===s.recoverError(a,e)||(r.cancel(),i(a))}))})),d=yield Promise.race([r.wait(),o]);if(n=!0,"string"==typeof d.rejected)throw new nw(d.rejected);const f=d,c=t.PermissionLevel.from({actor:f.sa,permission:f.sp
}),h=Object.keys(f).filter((t=>t.startsWith("sig")&&"sig0"!==t)).map((t=>go.from(f[t])));let u;if(!i&&this.chains.length>1){if(!f.cid)throw new Error("Multi chain response payload must specify resolved chain id (cid)");u=this.getChain(f.cid)}else if(u=i||this.getChain(0),f.cid&&!u.chainId.equals(f.cid))throw new Error("Got response for wrong chain id");const l=yield Ep.fromPayload(f,{zlib:cr,abiProvider:u,scheme:this.scheme}),p=l.request.getInfoKey("cosig",{type:go,array:!0});p&&h.unshift(...p)
;const b={resolved:l,chain:u,transaction:l.transaction,resolvedTransaction:l.resolvedTransaction,signatures:h,payload:f,signer:c};if(a){const e=t.SignedTransaction.from(Object.assign(Object.assign({},l.transaction),{signatures:h})).toJSON(),r=t.Serializer.objectify(e),i=t.PackedTransaction.fromSigned(e),n=yield u.client.push_transaction({serializedTransaction:i.packed_trx.array,serializedContextFreeData:i.packed_context_free_data.array,signatures:r.signatures,transactionHeader:r})
;b.processed=n.processed}return s.onSuccess&&s.onSuccess(e,b),b}catch(t){throw s.onFailure&&s.onFailure(e,t),t}}))}transact(t,e,r){return iw(this,void 0,void 0,(function*(){const i=e||{},n=r||this.transport,a=void 0!==i.chain?this.getChain(i.chain):void 0,s=!1!==i.broadcast,o=void 0!==i.noModify?i.noModify:!s;n&&n.showLoading&&n.showLoading();const d=t;t.actions&&(d.expiration||d.ref_block_num||d.ref_block_prefix||d.max_net_usage_words||d.max_cpu_usage_ms||d.delay_sec)&&(t={
transaction:Object.assign({expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0},d)});const{request:f,callback:c}=yield this.createRequest(t,a,n);o&&f.setInfoKey("no_modify",!0,"bool");return yield this.sendRequest(f,c,a,n,s)}))}identify(e){return iw(this,void 0,void 0,(function*(){const{request:r,callback:i}=yield this.createRequest({identity:{permission:e.requestPermission},info:e.info}),n=yield this.sendRequest(r,i)
;if(!n.resolved.request.isIdentity())throw new aw("Unexpected response");let a;const s=n.resolved.getIdentityProof(n.signatures[0]);if(this.verifyProofs){if(a=yield n.chain.client.get_account(n.signer.actor.toString()),!a)throw new aw(`Signature from unknown account: ${s.signer.actor}`);const t=a.permissions.find((({perm_name:t})=>s.signer.permission.equals(t)));if(!t)throw new aw(`${s.signer.actor} signed for unknown permission: ${s.signer.permission}`)
;if(!s.verify(t.required_auth,a.head_block_time))throw new aw(`Invalid identify proof for: ${s.signer}`)}if(e.requestPermission){const r=t.PermissionLevel.from(e.requestPermission);if(!r.actor.equals(xp)&&!r.actor.equals(s.signer.actor)||!r.permission.equals(Sp)&&!r.permission.equals(s.signer.permission))throw new aw(`Identity proof singed by ${s.signer}, expected: ${vw(r)} `)}return Object.assign(Object.assign({},n),{account:a,proof:s})}))}login(e){return iw(this,void 0,void 0,(function*(){
const r=_o.generate("K1"),i=r.toPublic(),n=t.LinkCreate.from({session_name:e,request_key:i,user_agent:this.getUserAgent()}),a=yield this.identify({info:{link:n}}),s=dw(a.payload,a.resolved.request),o=a.proof.recover();let d;return d=a.payload.link_ch&&a.payload.link_key&&a.payload.link_name?new uw(this,{identifier:e,chainId:a.chain.chainId,auth:a.signer,publicKey:o,channel:{url:a.payload.link_ch,key:a.payload.link_key,name:a.payload.link_name},requestKey:r},s):new lw(this,{identifier:e,
chainId:a.chain.chainId,auth:a.signer,publicKey:o},s),yield this.storeSession(d),Object.assign(Object.assign({},a),{session:d})}))}restoreSession(e,r,i){return iw(this,void 0,void 0,(function*(){if(!this.storage)throw new Error("Unable to restore session: No storage adapter configured");let n;if(r&&i)n=this.sessionKey(e,vw(t.PermissionLevel.from(r)),String(t.ChainId.from(i)));else{let a=yield this.listSessions(e);if(r&&(a=a.filter((t=>t.auth.equals(r)))),i){const e=t.ChainId.from(i)
;a=a.filter((t=>t.chainId.equals(e)))}const s=a[0];if(!s)return null;n=this.sessionKey(e,vw(s.auth),String(s.chainId))}const a=yield this.storage.read(n);if(!a)return null;let s;try{s=JSON.parse(a)}catch(t){throw new Error(`Unable to restore session: Stored JSON invalid (${t.message||String(t)})`)}const o=hw.restore(this,s);return(r||i)&&(yield this.touchSession(e,o.auth,o.chainId)),o}))}listSessions(e){return iw(this,void 0,void 0,(function*(){
if(!this.storage)throw new Error("Unable to list sessions: No storage adapter configured");const r=this.sessionKey(e,"list");let i;try{i=JSON.parse((yield this.storage.read(r))||"[]")}catch(t){throw new Error(`Unable to list sessions: ${t.message||String(t)}`)}return i.map((({auth:e,chainId:r})=>({auth:t.PermissionLevel.from(e),chainId:t.ChainId.from(r)})))}))}removeSession(t,e,r){return iw(this,void 0,void 0,(function*(){
if(!this.storage)throw new Error("Unable to remove session: No storage adapter configured");const i=this.sessionKey(t,vw(e),String(r));yield this.storage.remove(i),yield this.touchSession(t,e,r,!0),(yield this.storage.read("wallet-type"))&&this.storage.remove("wallet-type"),(yield this.storage.read("user-auth"))&&this.storage.remove("user-auth")}))}clearSessions(t){return iw(this,void 0,void 0,(function*(){
if(!this.storage)throw new Error("Unable to clear sessions: No storage adapter configured");for(const{auth:e,chainId:r}of yield this.listSessions(t))yield this.removeSession(t,e,r)}))}makeSignatureProvider(e,r,i){return{getAvailableKeys:()=>iw(this,void 0,void 0,(function*(){return e})),sign:e=>iw(this,void 0,void 0,(function*(){const n=i||this.transport,a=r?this.getChain(r):this.chains[0];let s=Ip.fromTransaction(e.chainId,e.serializedTransaction,{abiProvider:a,zlib:cr,scheme:this.scheme})
;const o=this.callbackService.create();s.setCallback(o.url,!0),s.setBroadcast(!1),n.prepare&&(s=yield n.prepare(s));const{transaction:d,signatures:f}=yield this.sendRequest(s,o,a,n),c=t.Serializer.encode({object:d});return Object.assign(Object.assign({},e),{serializedTransaction:c,signatures:f})}))}}touchSession(t,e,r,i=!1){return iw(this,void 0,void 0,(function*(){const n=yield this.listSessions(t),a=n.findIndex((t=>t.auth.equals(e)&&t.chainId.equals(r)));a>=0&&n.splice(a,1),!1===i&&n.unshift({
auth:e,chainId:r});const s=this.sessionKey(t,"list");yield this.storage.write(s,JSON.stringify(n))}))}storeSession(t){return iw(this,void 0,void 0,(function*(){if(this.storage){const e=this.sessionKey(t.identifier,vw(t.auth),String(t.chainId)),r=JSON.stringify(t.serialize());yield this.storage.write(e,r),yield this.touchSession(t.identifier,t.auth,t.chainId),this.walletType&&this.storage.write("wallet-type",this.walletType)}}))}sessionKey(t,...e){return[String(ro.from(t)),...e].join("-")}
getUserAgent(){let t=`AnchorLink/${gw.version}`;return this.transport.userAgent&&(t+=" "+this.transport.userAgent()),t}}function vw(e){const r=t.PermissionLevel.from(e),i=r.actor.equals(xp)?"<any>":String(r.actor);let n;return n=r.permission.equals(xp)||r.permission.equals(Sp)?"<any>":String(r.permission),`${i}@${n}`}return gw.version="4.2.15",t.ABI=oo,t.ABIDecoder=Ks,t.ABIEncoder=Hs,t.API=cd,t.APIClient=dd,t.APIError=od,t.Asset=fo,t.Base64u=vp,t.BlockTimestamp=so,t.Bytes=hs,t.CancelError=nw,
t.Checksum160=bs,t.Checksum256=ls,t.Checksum512=ps,t.DEFAULT_SCHEME=Ap,t.ExtendedAsset=co,t.FetchProvider=So,t.Float128=eo,t.Float32=Qs,t.Float64=to,t.IdentityError=aw,t.Int=ms,t.Int128=ws,t.Int16=gs,t.Int32=vs,t.Int64=_s,t.Int8=ys,t.Link=gw,t.LinkChain=yw,t.LinkChannelSession=uw,t.LinkFallbackSession=lw,t.LinkSession=hw,t.Name=ro,t.PlaceholderAuth=kp,t.PlaceholderName=xp,t.PlaceholderPermission=Sp,t.PrivateKey=_o,t.ProtocolVersion=2,t.PublicKey=bo,t.ResolvedSigningRequest=Ep,t.SessionError=sw,
t.Signature=go,t.SigningRequest=Ip,t.Struct=Js,t.TimePoint=no,t.TimePointSec=ao,t.TypeAlias=Gs,t.UInt128=ks,t.UInt16=As,t.UInt32=xs,t.UInt64=Ss,t.UInt8=Ms,t.VarInt=Is,t.VarUInt=Es,t.Variant=Ys,t.default=gw,t.isInstanceOf=cs,Object.defineProperty(t,"__esModule",{value:!0}),t}({});!function(){var t=ProtonLink;for(var e in ProtonLink=t.default,t)"default"!==e&&(ProtonLink[e]=t[e])}();
//# sourceMappingURL=proton-link.bundle.js.map
